(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function N0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kd={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function YA(){if(xv)return hl;xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return hl.Fragment=e,hl.jsx=n,hl.jsxs=n,hl}var Dv;function QA(){return Dv||(Dv=1,kd.exports=YA()),kd.exports}var V=QA(),Pd={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function XA(){if(Mv)return be;Mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,$={};function F(O,te,le){this.props=O,this.context=te,this.refs=$,this.updater=le||U}F.prototype.isReactComponent={},F.prototype.setState=function(O,te){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,te,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=F.prototype;function ne(O,te,le){this.props=O,this.context=te,this.refs=$,this.updater=le||U}var W=ne.prototype=new G;W.constructor=ne,k(W,F.prototype),W.isPureReactComponent=!0;var ue=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function D(O,te,le,se,me,we){return le=we.ref,{$$typeof:r,type:O,key:te,ref:le!==void 0?le:null,props:we}}function w(O,te){return D(O.type,te,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var te={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return te[le]})}var M=/\/+/g;function L(O,te){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):te.toString(36)}function C(){}function xt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(te){O.status==="pending"&&(O.status="fulfilled",O.value=te)},function(te){O.status==="pending"&&(O.status="rejected",O.reason=te)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function tt(O,te,le,se,me){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(we){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case r:case e:Ee=!0;break;case E:return Ee=O._init,tt(Ee(O._payload),te,le,se,me)}}if(Ee)return me=me(O),Ee=se===""?"."+L(O,0):se,ue(me)?(le="",Ee!=null&&(le=Ee.replace(M,"$&/")+"/"),tt(me,te,le,"",function(Gn){return Gn})):me!=null&&(R(me)&&(me=w(me,le+(me.key==null||O&&O.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+Ee)),te.push(me)),1;Ee=0;var Tt=se===""?".":se+":";if(ue(O))for(var Ye=0;Ye<O.length;Ye++)se=O[Ye],we=Tt+L(se,Ye),Ee+=tt(se,te,le,we,me);else if(Ye=A(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(se=O.next()).done;)se=se.value,we=Tt+L(se,Ye++),Ee+=tt(se,te,le,we,me);else if(we==="object"){if(typeof O.then=="function")return tt(xt(O),te,le,se,me);throw te=String(O),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Y(O,te,le){if(O==null)return O;var se=[],me=0;return tt(O,se,"","",function(we){return te.call(le,we,me++)}),se}function oe(O){if(O._status===-1){var te=O._result;te=te(),te.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=te)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ue(){}return be.Children={map:Y,forEach:function(O,te,le){Y(O,function(){te.apply(this,arguments)},le)},count:function(O){var te=0;return Y(O,function(){te++}),te},toArray:function(O){return Y(O,function(te){return te})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=F,be.Fragment=n,be.Profiler=o,be.PureComponent=ne,be.StrictMode=a,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ie.H.useMemoCache(O)}},be.cache=function(O){return function(){return O.apply(null,arguments)}},be.cloneElement=function(O,te,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=k({},O.props),me=O.key,we=void 0;if(te!=null)for(Ee in te.ref!==void 0&&(we=void 0),te.key!==void 0&&(me=""+te.key),te)!pe.call(te,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&te.ref===void 0||(se[Ee]=te[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=le;else if(1<Ee){for(var Tt=Array(Ee),Ye=0;Ye<Ee;Ye++)Tt[Ye]=arguments[Ye+2];se.children=Tt}return D(O.type,me,void 0,void 0,we,se)},be.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},be.createElement=function(O,te,le){var se,me={},we=null;if(te!=null)for(se in te.key!==void 0&&(we=""+te.key),te)pe.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=te[se]);var Ee=arguments.length-2;if(Ee===1)me.children=le;else if(1<Ee){for(var Tt=Array(Ee),Ye=0;Ye<Ee;Ye++)Tt[Ye]=arguments[Ye+2];me.children=Tt}if(O&&O.defaultProps)for(se in Ee=O.defaultProps,Ee)me[se]===void 0&&(me[se]=Ee[se]);return D(O,we,void 0,void 0,null,me)},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:m,render:O}},be.isValidElement=R,be.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:oe}},be.memo=function(O,te){return{$$typeof:y,type:O,compare:te===void 0?null:te}},be.startTransition=function(O){var te=ie.T,le={};ie.T=le;try{var se=O(),me=ie.S;me!==null&&me(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ue,de)}catch(we){de(we)}finally{ie.T=te}},be.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},be.use=function(O){return ie.H.use(O)},be.useActionState=function(O,te,le){return ie.H.useActionState(O,te,le)},be.useCallback=function(O,te){return ie.H.useCallback(O,te)},be.useContext=function(O){return ie.H.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O,te){return ie.H.useDeferredValue(O,te)},be.useEffect=function(O,te,le){var se=ie.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,te)},be.useId=function(){return ie.H.useId()},be.useImperativeHandle=function(O,te,le){return ie.H.useImperativeHandle(O,te,le)},be.useInsertionEffect=function(O,te){return ie.H.useInsertionEffect(O,te)},be.useLayoutEffect=function(O,te){return ie.H.useLayoutEffect(O,te)},be.useMemo=function(O,te){return ie.H.useMemo(O,te)},be.useOptimistic=function(O,te){return ie.H.useOptimistic(O,te)},be.useReducer=function(O,te,le){return ie.H.useReducer(O,te,le)},be.useRef=function(O){return ie.H.useRef(O)},be.useState=function(O){return ie.H.useState(O)},be.useSyncExternalStore=function(O,te,le){return ie.H.useSyncExternalStore(O,te,le)},be.useTransition=function(){return ie.H.useTransition()},be.version="19.1.0",be}var kv;function Cm(){return kv||(kv=1,Pd.exports=XA()),Pd.exports}var X=Cm();const Ns=N0(X);var Vd={exports:{}},fl={},Ud={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function ZA(){return Pv||(Pv=1,function(r){function e(Y,oe){var de=Y.length;Y.push(oe);e:for(;0<de;){var Ue=de-1>>>1,O=Y[Ue];if(0<o(O,oe))Y[Ue]=oe,Y[de]=O,de=Ue;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var oe=Y[0],de=Y.pop();if(de!==oe){Y[0]=de;e:for(var Ue=0,O=Y.length,te=O>>>1;Ue<te;){var le=2*(Ue+1)-1,se=Y[le],me=le+1,we=Y[me];if(0>o(se,de))me<O&&0>o(we,se)?(Y[Ue]=we,Y[me]=de,Ue=me):(Y[Ue]=se,Y[le]=de,Ue=le);else if(me<O&&0>o(we,de))Y[Ue]=we,Y[me]=de,Ue=me;else break e}}return oe}function o(Y,oe){var de=Y.sortIndex-oe.sortIndex;return de!==0?de:Y.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,A=3,U=!1,k=!1,$=!1,F=!1,G=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ue(Y){for(var oe=n(y);oe!==null;){if(oe.callback===null)a(y);else if(oe.startTime<=Y)a(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function ie(Y){if($=!1,ue(Y),!k)if(n(p)!==null)k=!0,pe||(pe=!0,L());else{var oe=n(y);oe!==null&&tt(ie,oe.startTime-Y)}}var pe=!1,D=-1,w=5,R=-1;function N(){return F?!0:!(r.unstable_now()-R<w)}function M(){if(F=!1,pe){var Y=r.unstable_now();R=Y;var oe=!0;try{e:{k=!1,$&&($=!1,ne(D),D=-1),U=!0;var de=A;try{t:{for(ue(Y),S=n(p);S!==null&&!(S.expirationTime>Y&&N());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,A=S.priorityLevel;var O=Ue(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof O=="function"){S.callback=O,ue(Y),oe=!0;break t}S===n(p)&&a(p),ue(Y)}else a(p);S=n(p)}if(S!==null)oe=!0;else{var te=n(y);te!==null&&tt(ie,te.startTime-Y),oe=!1}}break e}finally{S=null,A=de,U=!1}oe=void 0}}finally{oe?L():pe=!1}}}var L;if(typeof W=="function")L=function(){W(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,xt=C.port2;C.port1.onmessage=M,L=function(){xt.postMessage(null)}}else L=function(){G(M,0)};function tt(Y,oe){D=G(function(){Y(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var oe=3;break;default:oe=A}var de=A;A=oe;try{return Y()}finally{A=de}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=A;A=Y;try{return oe()}finally{A=de}},r.unstable_scheduleCallback=function(Y,oe,de){var Ue=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ue+de:Ue):de=Ue,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,Y={id:E++,callback:oe,priorityLevel:Y,startTime:de,expirationTime:O,sortIndex:-1},de>Ue?(Y.sortIndex=de,e(y,Y),n(p)===null&&Y===n(y)&&($?(ne(D),D=-1):$=!0,tt(ie,de-Ue))):(Y.sortIndex=O,e(p,Y),k||U||(k=!0,pe||(pe=!0,L()))),Y},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Y){var oe=A;return function(){var de=A;A=oe;try{return Y.apply(this,arguments)}finally{A=de}}}}(Ld)),Ld}var Vv;function WA(){return Vv||(Vv=1,Ud.exports=ZA()),Ud.exports}var jd={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function JA(){if(Uv)return qt;Uv=1;var r=Cm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},qt.flushSync=function(p){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=E,a.d.f()}},qt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},qt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},qt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:U}):E==="script"&&a.d.X(p,{crossOrigin:S,integrity:A,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},qt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},qt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},qt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},qt.requestFormReset=function(p){a.d.r(p)},qt.unstable_batchedUpdates=function(p,y){return p(y)},qt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},qt.version="19.1.0",qt}var Lv;function e1(){if(Lv)return jd.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jd.exports=JA(),jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function t1(){if(jv)return fl;jv=1;var r=WA(),e=Cm(),n=e1();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case F:return"Profiler";case $:return"StrictMode";case ie:return"Suspense";case pe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case W:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:xt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return xt(t(i))}catch{}}return null}var tt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ue=[],O=-1;function te(t){return{current:t}}function le(t){0>O||(t.current=Ue[O],Ue[O]=null,O--)}function se(t,i){O++,Ue[O]=t.current,t.current=i}var me=te(null),we=te(null),Ee=te(null),Tt=te(null);function Ye(t,i){switch(se(Ee,i),se(we,t),se(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?sv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=sv(i),t=av(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(me),se(me,t)}function Gn(){le(me),le(we),le(Ee)}function Ji(t){t.memoizedState!==null&&se(Tt,t);var i=me.current,s=av(i,t.type);i!==s&&(se(we,t),se(me,s))}function yi(t){we.current===t&&(le(me),le(we)),Tt.current===t&&(le(Tt),al._currentValue=de)}var Fr=Object.prototype.hasOwnProperty,Gr=r.unstable_scheduleCallback,Kr=r.unstable_cancelCallback,no=r.unstable_shouldYield,Ql=r.unstable_requestPaint,yn=r.unstable_now,Mh=r.unstable_getCurrentPriorityLevel,io=r.unstable_ImmediatePriority,Ys=r.unstable_UserBlockingPriority,$r=r.unstable_NormalPriority,kh=r.unstable_LowPriority,Qs=r.unstable_IdlePriority,ro=r.log,Xl=r.unstable_setDisableYieldValue,nt=null,ze=null;function an(t){if(typeof ro=="function"&&Xl(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(nt,t)}catch{}}var Bt=Math.clz32?Math.clz32:Yr,Zl=Math.log,Ph=Math.LN2;function Yr(t){return t>>>=0,t===0?32:31-(Zl(t)/Ph|0)|0}var Qr=256,Xr=4194304;function Mn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xs(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Mn(l):(_&=T,_!==0?h=Mn(_):s||(s=T&~t,s!==0&&(h=Mn(s))))):(T=l&~d,T!==0?h=Mn(T):_!==0?h=Mn(_):s||(s=l&~t,s!==0&&(h=Mn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function Zr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function so(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var t=Qr;return Qr<<=1,(Qr&4194048)===0&&(Qr=256),t}function oo(){var t=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),t}function vi(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function _i(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lo(t,i,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(s=_&~s;0<s;){var Q=31-Bt(s),J=1<<Q;T[Q]=0,I[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var q=H[Q];q!==null&&(q.lane&=-536870913)}s&=~J}l!==0&&Kn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Kn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Bt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function uo(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Bt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:wv(t.type))}function Wl(t,i){var s=oe.p;try{return oe.p=t,i()}finally{oe.p=s}}var Ze=Math.random().toString(36).slice(2),pt="__reactFiber$"+Ze,ut="__reactProps$"+Ze,vn="__reactContainer$"+Ze,co="__reactEvents$"+Ze,Vh="__reactListeners$"+Ze,nr="__reactHandles$"+Ze,Jl="__reactResources$"+Ze,Wr="__reactMarker$"+Ze;function ir(t){delete t[pt],delete t[ut],delete t[co],delete t[Vh],delete t[nr]}function Ei(t){var i=t[pt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[vn]||s[pt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=cv(t);t!==null;){if(s=t[pt])return s;t=cv(t)}return i}t=s,s=t.parentNode}return null}function $n(t){if(t=t[pt]||t[vn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Yt(t){var i=t[Jl];return i||(i=t[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(t){t[Wr]=!0}var ho=new Set,Ws={};function kn(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Ws[t]=i,t=0;t<i.length;t++)ho.add(i[t])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},Jr={};function nu(t){return Fr.call(Jr,t)?!0:Fr.call(tu,t)?!1:eu.test(t)?Jr[t]=!0:(tu[t]=!0,!1)}function rr(t,i,s){if(nu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Qn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Dt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var es,iu;function bi(t){if(es===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);es=i&&i[1]||"",iu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+es+t+iu}var Js=!1;function ea(t,i){if(!t||Js)return"";Js=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var H=q}Reflect.construct(t,[],J)}else{try{J.call()}catch(q){H=q}t.call(J.prototype)}}else{try{throw Error()}catch(q){H=q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Js=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?bi(s):""}function fo(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return ea(t.type,!1);case 11:return ea(t.type.render,!1);case 1:return ea(t.type,!0);case 31:return bi("Activity");default:return""}}function ta(t){try{var i="";do i+=fo(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uh(t){var i=mo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function na(t){t._valueTracker||(t._valueTracker=Uh(t))}function po(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=mo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lh=/[\n"\\]/g;function ct(t){return t.replace(Lh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function on(t,i,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Qt(i)):t.value!==""+Qt(i)&&(t.value=""+Qt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?sr(t,_,Qt(i)):s!=null?sr(t,_,Qt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Qt(T):t.removeAttribute("name")}function ns(t,i,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Qt(s):"",i=i!=null?""+Qt(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function sr(t,i,s){i==="number"&&ts(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ai(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Qt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function qe(t,i,s){if(i!=null&&(i=""+Qt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Qt(s):""}function is(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Qt(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function _n(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||rs.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function go(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&ru(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ru(t,d,i[d])}function yo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(t){return zh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Si=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wi=null,Ri=null;function vo(t){var i=$n(t);if(i&&(t=i.stateNode)){var s=t[ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(on(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[ut]||null;if(!h)throw Error(a(90));on(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&po(l)}break e;case"textarea":qe(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ai(t,!!s.multiple,i,!1)}}}var Xn=!1;function su(t,i,s){if(Xn)return t(i,s);Xn=!0;try{var l=t(i);return l}finally{if(Xn=!1,(wi!==null||Ri!==null)&&(Wu(),wi&&(i=wi,t=Ri,Ri=wi=null,vo(i),t)))for(i=0;i<t.length;i++)vo(t[i])}}function ss(t,i){var s=t.stateNode;if(s===null)return null;var l=s[ut]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(Pn)try{var as={};Object.defineProperty(as,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Tn=!1}var Zn=null,ar=null,Ii=null;function _o(){if(Ii)return Ii;var t,i=ar,s=i.length,l,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&i[s-l]===h[d-l];l++);return Ii=h.slice(t,1<l?1-l:void 0)}function Wn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Jn(){return!0}function Eo(){return!1}function bt(t){function i(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:Eo,this.isPropagationStopped=Eo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=bt(je),os=E({},je,{view:0,detail:0}),au=bt(os),sa,aa,ei,ls=E({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(sa=t.screenX-ei.screenX,aa=t.screenY-ei.screenY):aa=sa=0,ei=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),bn=bt(ls),ou=E({},ls,{dataTransfer:0}),Bh=bt(ou),us=E({},os,{relatedTarget:0}),oa=bt(us),To=E({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),la=bt(To),lu=E({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ua=bt(lu),Hh=E({},je,{data:0}),bo=bt(Hh),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=cu[t])?!!i[t]:!1}function hs(){return Ao}var hu=E({},os,{key:function(t){if(t.key){var i=cs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ca=bt(hu),fu=E({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=bt(fu),Ci=E({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),du=bt(Ci),mu=E({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=bt(mu),gu=E({},ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=bt(gu),Xt=E({},je,{newState:0,oldState:0}),yu=bt(Xt),vu=[9,13,27,32],ti=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var g=Pn&&"TextEvent"in window&&!c,v=Pn&&(!ti||c&&8<c&&11>=c),b=" ",j=!1;function K(t,i){switch(t){case"keyup":return vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xe=!1;function gt(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(j=!0,b);case"textInput":return t=i.data,t===b&&j?null:t;default:return null}}function De(t,i){if(xe)return t==="compositionend"||!ti&&K(t,i)?(t=_o(),Ii=ar=Zn=null,xe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var At={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!At[t.type]:i==="textarea"}function Oi(t,i,s,l){wi?Ri?Ri.push(l):Ri=[l]:wi=l,i=rc(i,"onChange"),0<i.length&&(s=new ra("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Mt=null,ni=null;function wo(t){ev(t,0)}function _u(t){var i=Yn(t);if(po(i))return t}function Tp(t,i){if(t==="change")return i}var bp=!1;if(Pn){var qh;if(Pn){var Fh="oninput"in document;if(!Fh){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Fh=typeof Ap.oninput=="function"}qh=Fh}else qh=!1;bp=qh&&(!document.documentMode||9<document.documentMode)}function Sp(){Mt&&(Mt.detachEvent("onpropertychange",wp),ni=Mt=null)}function wp(t){if(t.propertyName==="value"&&_u(ni)){var i=[];Oi(i,ni,t,En(t)),su(wo,i)}}function Sb(t,i,s){t==="focusin"?(Sp(),Mt=i,ni=s,Mt.attachEvent("onpropertychange",wp)):t==="focusout"&&Sp()}function wb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(ni)}function Rb(t,i){if(t==="click")return _u(i)}function Ib(t,i){if(t==="input"||t==="change")return _u(i)}function Cb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ln=typeof Object.is=="function"?Object.is:Cb;function Ro(t,i){if(ln(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Fr.call(i,h)||!ln(t[h],i[h]))return!1}return!0}function Rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,i){var s=Rp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Rp(s)}}function Cp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Cp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ts(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ts(t.document)}return i}function Gh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Ob=Pn&&"documentMode"in document&&11>=document.documentMode,fa=null,Kh=null,Io=null,$h=!1;function Np(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$h||fa==null||fa!==ts(l)||(l=fa,"selectionStart"in l&&Gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Io&&Ro(Io,l)||(Io=l,l=rc(Kh,"onSelect"),0<l.length&&(i=new ra("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=fa)))}function fs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var da={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Yh={},xp={};Pn&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function ds(t){if(Yh[t])return Yh[t];if(!da[t])return t;var i=da[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in xp)return Yh[t]=i[s];return t}var Dp=ds("animationend"),Mp=ds("animationiteration"),kp=ds("animationstart"),Nb=ds("transitionrun"),xb=ds("transitionstart"),Db=ds("transitioncancel"),Pp=ds("transitionend"),Vp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Vn(t,i){Vp.set(t,i),kn(i,[t])}var Up=new WeakMap;function An(t,i){if(typeof t=="object"&&t!==null){var s=Up.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ta(i)},Up.set(t,i),i)}return{value:t,source:i,stack:ta(i)}}var Sn=[],ma=0,Xh=0;function Eu(){for(var t=ma,i=Xh=ma=0;i<t;){var s=Sn[i];Sn[i++]=null;var l=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Lp(s,h,d)}}function Tu(t,i,s,l){Sn[ma++]=t,Sn[ma++]=i,Sn[ma++]=s,Sn[ma++]=l,Xh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,i,s,l){return Tu(t,i,s,l),bu(t)}function pa(t,i){return Tu(t,null,null,i),bu(t)}function Lp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Bt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function bu(t){if(50<Wo)throw Wo=0,rd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ga={};function Mb(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,i,s,l){return new Mb(t,i,s,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var s=t.alternate;return s===null?(s=un(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function jp(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Au(t,i,s,l,h,d){var _=0;if(l=t,typeof t=="function")Wh(t)&&(_=1);else if(typeof t=="string")_=PA(t,s,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=un(31,s,i,h),t.elementType=R,t.lanes=d,t;case k:return ms(s.children,h,d,i);case $:_=8,h|=24;break;case F:return t=un(12,s,i,h|2),t.elementType=F,t.lanes=d,t;case ie:return t=un(13,s,i,h),t.elementType=ie,t.lanes=d,t;case pe:return t=un(19,s,i,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case W:_=10;break e;case ne:_=9;break e;case ue:_=11;break e;case D:_=14;break e;case w:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=un(_,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ms(t,i,s,l){return t=un(7,t,l,i),t.lanes=s,t}function Jh(t,i,s){return t=un(6,t,null,i),t.lanes=s,t}function ef(t,i,s){return i=un(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ya=[],va=0,Su=null,wu=0,wn=[],Rn=0,ps=null,xi=1,Di="";function gs(t,i){ya[va++]=wu,ya[va++]=Su,Su=t,wu=i}function zp(t,i,s){wn[Rn++]=xi,wn[Rn++]=Di,wn[Rn++]=ps,ps=t;var l=xi;t=Di;var h=32-Bt(l)-1;l&=~(1<<h),s+=1;var d=32-Bt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,xi=1<<32-Bt(i)+h|s<<h|l,Di=d+t}else xi=1<<d|s<<h|l,Di=t}function tf(t){t.return!==null&&(gs(t,1),zp(t,1,0))}function nf(t){for(;t===Su;)Su=ya[--va],ya[va]=null,wu=ya[--va],ya[va]=null;for(;t===ps;)ps=wn[--Rn],wn[Rn]=null,Di=wn[--Rn],wn[Rn]=null,xi=wn[--Rn],wn[Rn]=null}var Zt=null,it=null,Le=!1,ys=null,ii=!1,rf=Error(a(519));function vs(t){var i=Error(a(418,""));throw No(An(i,t)),rf}function Bp(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[pt]=t,i[ut]=l,s){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(s=0;s<el.length;s++)Oe(el[s],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),ns(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),na(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),is(i,l.value,l.defaultValue,l.children),na(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||rv(i.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=sc),i=!0):i=!1,i||vs(t)}function Hp(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:Zt=Zt.return}}function Co(t){if(t!==Zt)return!1;if(!Le)return Hp(t),Le=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ed(t.type,t.memoizedProps)),s=!s),s&&it&&vs(t),Hp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){it=Ln(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}it=null}}else i===27?(i=it,br(t.type)?(t=Sd,Sd=null,it=t):it=i):it=Zt?Ln(t.stateNode.nextSibling):null;return!0}function Oo(){it=Zt=null,Le=!1}function qp(){var t=ys;return t!==null&&(en===null?en=t:en.push.apply(en,t),ys=null),t}function No(t){ys===null?ys=[t]:ys.push(t)}var sf=te(null),_s=null,Mi=null;function or(t,i,s){se(sf,i._currentValue),i._currentValue=s}function ki(t){t._currentValue=sf.current,le(sf)}function af(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function of(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),af(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),af(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xo(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;ln(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Tt.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(al):t=[al])}h=h.return}t!==null&&of(i,t,s,l),i.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Es(t){_s=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Fp(_s,t)}function Iu(t,i){return _s===null&&Es(t),Fp(t,i)}function Fp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Mi===null){if(t===null)throw Error(a(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return s}var kb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Pb=r.unstable_scheduleCallback,Vb=r.unstable_NormalPriority,vt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new kb,data:new Map,refCount:0}}function Do(t){t.refCount--,t.refCount===0&&Pb(Vb,function(){t.controller.abort()})}var Mo=null,uf=0,_a=0,Ea=null;function Ub(t,i){if(Mo===null){var s=Mo=[];uf=0,_a=hd(),Ea={status:"pending",value:void 0,then:function(l){s.push(l)}}}return uf++,i.then(Gp,Gp),i}function Gp(){if(--uf===0&&Mo!==null){Ea!==null&&(Ea.status="fulfilled");var t=Mo;Mo=null,_a=0,Ea=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Lb(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Kp=Y.S;Y.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ub(t,i),Kp!==null&&Kp(t,i)};var Ts=te(null);function cf(){var t=Ts.current;return t!==null?t:Qe.pooledCache}function Cu(t,i){i===null?se(Ts,Ts.current):se(Ts,i.pool)}function $p(){var t=cf();return t===null?null:{parent:vt._currentValue,pool:t}}var ko=Error(a(460)),Yp=Error(a(474)),Ou=Error(a(542)),hf={then:function(){}};function Qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nu(){}function Xp(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Nu,Nu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wp(t),t;default:if(typeof i.status=="string")i.then(Nu,Nu);else{if(t=Qe,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wp(t),t}throw Po=i,ko}}var Po=null;function Zp(){if(Po===null)throw Error(a(459));var t=Po;return Po=null,t}function Wp(t){if(t===ko||t===Ou)throw Error(a(483))}var lr=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function cr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Be&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=bu(t),Lp(t,null,s),i}return Tu(t,l,i,s),bu(t)}function Vo(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,uo(t,s)}}function mf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var pf=!1;function Uo(){if(pf){var t=Ea;if(t!==null)throw t}}function Lo(t,i,s,l){pf=!1;var h=t.updateQueue;lr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,_===null?d=B:_.next=B,_=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;_=0,Q=B=I=null,T=d;do{var H=T.lane&-536870913,q=H!==T.lane;if(q?(Me&H)===H:(l&H)===H){H!==0&&H===_a&&(pf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var _e=t,ge=T;H=i;var Ke=s;switch(ge.tag){case 1:if(_e=ge.payload,typeof _e=="function"){J=_e.call(Ke,J,H);break e}J=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ge.payload,H=typeof _e=="function"?_e.call(Ke,J,H):_e,H==null)break e;J=E({},J,H);break e;case 2:lr=!0}}H=T.callback,H!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[H]:q.push(H))}else q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=q,I=J):Q=Q.next=q,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(I=J),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),vr|=_,t.lanes=_,t.memoizedState=J}}function Jp(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function eg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Jp(s[t],i)}var Ta=te(null),xu=te(0);function tg(t,i){t=Bi,se(xu,t),se(Ta,i),Bi=t|i.baseLanes}function gf(){se(xu,Bi),se(Ta,Ta.current)}function yf(){Bi=xu.current,le(Ta),le(xu)}var hr=0,Ae=null,Fe=null,ht=null,Du=!1,ba=!1,bs=!1,Mu=0,jo=0,Aa=null,jb=0;function ot(){throw Error(a(321))}function vf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!ln(t[s],i[s]))return!1;return!0}function _f(t,i,s,l,h,d){return hr=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Lg:jg,bs=!1,d=s(l,h),bs=!1,ba&&(d=ig(i,s,l,h)),ng(t),d}function ng(t){Y.H=ju;var i=Fe!==null&&Fe.next!==null;if(hr=0,ht=Fe=Ae=null,Du=!1,jo=0,Aa=null,i)throw Error(a(300));t===null||St||(t=t.dependencies,t!==null&&Ru(t)&&(St=!0))}function ig(t,i,s,l){Ae=t;var h=0;do{if(ba&&(Aa=null),jo=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,ht=Fe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Kb,d=i(s,l)}while(ba);return d}function zb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?zo(i):i,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Ef(){var t=Mu!==0;return Mu=0,t}function Tf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function bf(t){if(Du){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Du=!1}hr=0,ht=Fe=Ae=null,ba=!1,jo=Mu=0,Aa=null}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ae.memoizedState=ht=t:ht=ht.next=t,ht}function ft(){if(Fe===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var i=ht===null?Ae.memoizedState:ht.next;if(i!==null)ht=i,Fe=t;else{if(t===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ht===null?Ae.memoizedState=ht=t:ht=ht.next=t}return ht}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(t){var i=jo;return jo+=1,Aa===null&&(Aa=[]),t=Xp(Aa,t,i),i=Ae,(ht===null?i.memoizedState:ht.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Lg:jg),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zo(t);if(t.$$typeof===W)return Ht(t)}throw Error(a(438,String(t)))}function Sf(t){var i=null,s=Ae.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Af(),Ae.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=N;return i.index++,s}function Pi(t,i){return typeof i=="function"?i(t):i}function Pu(t){var i=ft();return wf(i,Fe,t)}function wf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,I=null,B=i,Q=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Me&J)===J:(hr&J)===J){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===_a&&(Q=!0);else if((hr&H)===H){B=B.next,H===_a&&(Q=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=J,_=d):I=I.next=J,Ae.lanes|=H,vr|=H;J=B.action,bs&&s(d,J),d=B.hasEagerState?B.eagerState:s(d,J)}else H={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=H,_=d):I=I.next=H,Ae.lanes|=J,vr|=J;B=B.next}while(B!==null&&B!==i);if(I===null?_=d:I.next=T,!ln(d,t.memoizedState)&&(St=!0,Q&&(s=Ea,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var i=ft(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);ln(d,i.memoizedState)||(St=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function rg(t,i,s){var l=Ae,h=ft(),d=Le;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!ln((Fe||h).memoizedState,s);_&&(h.memoizedState=s,St=!0),h=h.queue;var T=og.bind(null,l,h,t);if(Bo(2048,8,T,[t]),h.getSnapshot!==i||_||ht!==null&&ht.memoizedState.tag&1){if(l.flags|=2048,Sa(9,Vu(),ag.bind(null,l,h,s,i),null),Qe===null)throw Error(a(349));d||(hr&124)!==0||sg(l,i,s)}return s}function sg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ae.updateQueue,i===null?(i=Af(),Ae.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ag(t,i,s,l){i.value=s,i.getSnapshot=l,lg(i)&&ug(t)}function og(t,i,s){return s(function(){lg(i)&&ug(t)})}function lg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!ln(t,s)}catch{return!0}}function ug(t){var i=pa(t,2);i!==null&&mn(i,t,2)}function If(t){var i=Wt();if(typeof t=="function"){var s=t;if(t=s(),bs){an(!0);try{s()}finally{an(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},i}function cg(t,i,s,l){return t.baseState=s,wf(t,Fe,typeof l=="function"?l:Pi)}function Bb(t,i,s,l,h){if(Lu(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,hg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function hg(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var T=s(h,l),I=Y.S;I!==null&&I(_,T),fg(t,i,T)}catch(B){Cf(t,i,B)}finally{Y.T=d}}else try{d=s(h,l),fg(t,i,d)}catch(B){Cf(t,i,B)}}function fg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dg(t,i,l)},function(l){return Cf(t,i,l)}):dg(t,i,s)}function dg(t,i,s){i.status="fulfilled",i.value=s,mg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,hg(t,s)))}function Cf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,mg(i),i=i.next;while(i!==l)}t.action=null}function mg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function pg(t,i){return i}function gg(t,i){if(Le){var s=Qe.formState;if(s!==null){e:{var l=Ae;if(Le){if(it){t:{for(var h=it,d=ii;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Ln(h.nextSibling),l=h.data==="F!";break e}}vs(l)}l=!1}l&&(i=s[0])}}return s=Wt(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:i},s.queue=l,s=Pg.bind(null,Ae,l),l.dispatch=s,l=If(!1),d=Mf.bind(null,Ae,!1,l.queue),l=Wt(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=Bb.bind(null,Ae,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function yg(t){var i=ft();return vg(i,Fe,t)}function vg(t,i,s){if(i=wf(t,i,pg)[0],t=Pu(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=zo(i)}catch(_){throw _===ko?Ou:_}else l=i;i=ft();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Ae.flags|=2048,Sa(9,Vu(),Hb.bind(null,h,s),null)),[l,d,t]}function Hb(t,i){t.action=i}function _g(t){var i=ft(),s=Fe;if(s!==null)return vg(i,s,t);ft(),i=i.memoizedState,s=ft();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Sa(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=Af(),Ae.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Vu(){return{destroy:void 0,resource:void 0}}function Eg(){return ft().memoizedState}function Uu(t,i,s,l){var h=Wt();l=l===void 0?null:l,Ae.flags|=t,h.memoizedState=Sa(1|i,Vu(),s,l)}function Bo(t,i,s,l){var h=ft();l=l===void 0?null:l;var d=h.memoizedState.inst;Fe!==null&&l!==null&&vf(l,Fe.memoizedState.deps)?h.memoizedState=Sa(i,d,s,l):(Ae.flags|=t,h.memoizedState=Sa(1|i,d,s,l))}function Tg(t,i){Uu(8390656,8,t,i)}function bg(t,i){Bo(2048,8,t,i)}function Ag(t,i){return Bo(4,2,t,i)}function Sg(t,i){return Bo(4,4,t,i)}function wg(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Rg(t,i,s){s=s!=null?s.concat([t]):null,Bo(4,4,wg.bind(null,i,t),s)}function Of(){}function Ig(t,i){var s=ft();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&vf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Cg(t,i){var s=ft();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&vf(i,l[1]))return l[0];if(l=t(),bs){an(!0);try{t()}finally{an(!1)}}return s.memoizedState=[l,i],l}function Nf(t,i,s){return s===void 0||(hr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=xy(),Ae.lanes|=t,vr|=t,s)}function Og(t,i,s,l){return ln(s,i)?s:Ta.current!==null?(t=Nf(t,s,l),ln(t,i)||(St=!0),t):(hr&42)===0?(St=!0,t.memoizedState=s):(t=xy(),Ae.lanes|=t,vr|=t,i)}function Ng(t,i,s,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,Mf(t,!1,i,s);try{var I=h(),B=Y.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=Lb(I,l);Ho(t,i,Q,dn(t))}else Ho(t,i,l,dn(t))}catch(J){Ho(t,i,{then:function(){},status:"rejected",reason:J},dn())}finally{oe.p=d,Y.T=_}}function qb(){}function xf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=xg(t).queue;Ng(t,h,i,de,s===null?qb:function(){return Dg(t),s(l)})}function xg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:de},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dg(t){var i=xg(t).next.queue;Ho(t,i,{},dn())}function Df(){return Ht(al)}function Mg(){return ft().memoizedState}function kg(){return ft().memoizedState}function Fb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=dn();t=ur(s);var l=cr(i,t,s);l!==null&&(mn(l,i,s),Vo(l,i,s)),i={cache:lf()},t.payload=i;return}i=i.return}}function Gb(t,i,s){var l=dn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(t)?Vg(i,s):(s=Zh(t,i,s,l),s!==null&&(mn(s,t,l),Ug(s,i,l)))}function Pg(t,i,s){var l=dn();Ho(t,i,s,l)}function Ho(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(t))Vg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,ln(T,_))return Tu(t,i,h,0),Qe===null&&Eu(),!1}catch{}finally{}if(s=Zh(t,i,h,l),s!==null)return mn(s,t,l),Ug(s,i,l),!0}return!1}function Mf(t,i,s,l){if(l={lane:2,revertLane:hd(),action:l,hasEagerState:!1,eagerState:null,next:null},Lu(t)){if(i)throw Error(a(479))}else i=Zh(t,s,l,2),i!==null&&mn(i,t,2)}function Lu(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Vg(t,i){ba=Du=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Ug(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,uo(t,s)}}var ju={readContext:Ht,use:ku,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot},Lg={readContext:Ht,use:ku,useCallback:function(t,i){return Wt().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Tg,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Uu(4194308,4,wg.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Uu(4194308,4,t,i)},useInsertionEffect:function(t,i){Uu(4,2,t,i)},useMemo:function(t,i){var s=Wt();i=i===void 0?null:i;var l=t();if(bs){an(!0);try{t()}finally{an(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Wt();if(s!==void 0){var h=s(i);if(bs){an(!0);try{s(i)}finally{an(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Gb.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var i=Wt();return t={current:t},i.memoizedState=t},useState:function(t){t=If(t);var i=t.queue,s=Pg.bind(null,Ae,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Of,useDeferredValue:function(t,i){var s=Wt();return Nf(s,t,i)},useTransition:function(){var t=If(!1);return t=Ng.bind(null,Ae,t.queue,!0,!1),Wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ae,h=Wt();if(Le){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Qe===null)throw Error(a(349));(Me&124)!==0||sg(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Tg(og.bind(null,l,d,t),[t]),l.flags|=2048,Sa(9,Vu(),ag.bind(null,l,d,s,i),null),s},useId:function(){var t=Wt(),i=Qe.identifierPrefix;if(Le){var s=Di,l=xi;s=(l&~(1<<32-Bt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Mu++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=jb++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Df,useFormState:gg,useActionState:gg,useOptimistic:function(t){var i=Wt();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Mf.bind(null,Ae,!0,s),s.dispatch=i,[t,i]},useMemoCache:Sf,useCacheRefresh:function(){return Wt().memoizedState=Fb.bind(null,Ae)}},jg={readContext:Ht,use:ku,useCallback:Ig,useContext:Ht,useEffect:bg,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:Sg,useMemo:Cg,useReducer:Pu,useRef:Eg,useState:function(){return Pu(Pi)},useDebugValue:Of,useDeferredValue:function(t,i){var s=ft();return Og(s,Fe.memoizedState,t,i)},useTransition:function(){var t=Pu(Pi)[0],i=ft().memoizedState;return[typeof t=="boolean"?t:zo(t),i]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:Df,useFormState:yg,useActionState:yg,useOptimistic:function(t,i){var s=ft();return cg(s,Fe,t,i)},useMemoCache:Sf,useCacheRefresh:kg},Kb={readContext:Ht,use:ku,useCallback:Ig,useContext:Ht,useEffect:bg,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:Sg,useMemo:Cg,useReducer:Rf,useRef:Eg,useState:function(){return Rf(Pi)},useDebugValue:Of,useDeferredValue:function(t,i){var s=ft();return Fe===null?Nf(s,t,i):Og(s,Fe.memoizedState,t,i)},useTransition:function(){var t=Rf(Pi)[0],i=ft().memoizedState;return[typeof t=="boolean"?t:zo(t),i]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:Df,useFormState:_g,useActionState:_g,useOptimistic:function(t,i){var s=ft();return Fe!==null?cg(s,Fe,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:kg},wa=null,qo=0;function zu(t){var i=qo;return qo+=1,wa===null&&(wa=[]),Xp(wa,t,i)}function Fo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bu(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zg(t){var i=t._init;return i(t._payload)}function Bg(t){function i(P,x){if(t){var z=P.deletions;z===null?(P.deletions=[x],P.flags|=16):z.push(x)}}function s(P,x){if(!t)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=Ni(P,x),P.index=0,P.sibling=null,P}function d(P,x,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<x?(P.flags|=67108866,x):z):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,x,z,Z){return x===null||x.tag!==6?(x=Jh(z,P.mode,Z),x.return=P,x):(x=h(x,z),x.return=P,x)}function I(P,x,z,Z){var ce=z.type;return ce===k?Q(P,x,z.props.children,Z,z.key):x!==null&&(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&zg(ce)===x.type)?(x=h(x,z.props),Fo(x,z),x.return=P,x):(x=Au(z.type,z.key,z.props,null,P.mode,Z),Fo(x,z),x.return=P,x)}function B(P,x,z,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=ef(z,P.mode,Z),x.return=P,x):(x=h(x,z.children||[]),x.return=P,x)}function Q(P,x,z,Z,ce){return x===null||x.tag!==7?(x=ms(z,P.mode,Z,ce),x.return=P,x):(x=h(x,z),x.return=P,x)}function J(P,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Jh(""+x,P.mode,z),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case A:return z=Au(x.type,x.key,x.props,null,P.mode,z),Fo(z,x),z.return=P,z;case U:return x=ef(x,P.mode,z),x.return=P,x;case w:var Z=x._init;return x=Z(x._payload),J(P,x,z)}if(tt(x)||L(x))return x=ms(x,P.mode,z,null),x.return=P,x;if(typeof x.then=="function")return J(P,zu(x),z);if(x.$$typeof===W)return J(P,Iu(P,x),z);Bu(P,x)}return null}function H(P,x,z,Z){var ce=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ce!==null?null:T(P,x,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===ce?I(P,x,z,Z):null;case U:return z.key===ce?B(P,x,z,Z):null;case w:return ce=z._init,z=ce(z._payload),H(P,x,z,Z)}if(tt(z)||L(z))return ce!==null?null:Q(P,x,z,Z,null);if(typeof z.then=="function")return H(P,x,zu(z),Z);if(z.$$typeof===W)return H(P,x,Iu(P,z),Z);Bu(P,z)}return null}function q(P,x,z,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(z)||null,T(x,P,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return P=P.get(Z.key===null?z:Z.key)||null,I(x,P,Z,ce);case U:return P=P.get(Z.key===null?z:Z.key)||null,B(x,P,Z,ce);case w:var Re=Z._init;return Z=Re(Z._payload),q(P,x,z,Z,ce)}if(tt(Z)||L(Z))return P=P.get(z)||null,Q(x,P,Z,ce,null);if(typeof Z.then=="function")return q(P,x,z,zu(Z),ce);if(Z.$$typeof===W)return q(P,x,z,Iu(x,Z),ce);Bu(x,Z)}return null}function _e(P,x,z,Z){for(var ce=null,Re=null,fe=x,ye=x=0,Rt=null;fe!==null&&ye<z.length;ye++){fe.index>ye?(Rt=fe,fe=null):Rt=fe.sibling;var Ve=H(P,fe,z[ye],Z);if(Ve===null){fe===null&&(fe=Rt);break}t&&fe&&Ve.alternate===null&&i(P,fe),x=d(Ve,x,ye),Re===null?ce=Ve:Re.sibling=Ve,Re=Ve,fe=Rt}if(ye===z.length)return s(P,fe),Le&&gs(P,ye),ce;if(fe===null){for(;ye<z.length;ye++)fe=J(P,z[ye],Z),fe!==null&&(x=d(fe,x,ye),Re===null?ce=fe:Re.sibling=fe,Re=fe);return Le&&gs(P,ye),ce}for(fe=l(fe);ye<z.length;ye++)Rt=q(fe,P,ye,z[ye],Z),Rt!==null&&(t&&Rt.alternate!==null&&fe.delete(Rt.key===null?ye:Rt.key),x=d(Rt,x,ye),Re===null?ce=Rt:Re.sibling=Rt,Re=Rt);return t&&fe.forEach(function(Ir){return i(P,Ir)}),Le&&gs(P,ye),ce}function ge(P,x,z,Z){if(z==null)throw Error(a(151));for(var ce=null,Re=null,fe=x,ye=x=0,Rt=null,Ve=z.next();fe!==null&&!Ve.done;ye++,Ve=z.next()){fe.index>ye?(Rt=fe,fe=null):Rt=fe.sibling;var Ir=H(P,fe,Ve.value,Z);if(Ir===null){fe===null&&(fe=Rt);break}t&&fe&&Ir.alternate===null&&i(P,fe),x=d(Ir,x,ye),Re===null?ce=Ir:Re.sibling=Ir,Re=Ir,fe=Rt}if(Ve.done)return s(P,fe),Le&&gs(P,ye),ce;if(fe===null){for(;!Ve.done;ye++,Ve=z.next())Ve=J(P,Ve.value,Z),Ve!==null&&(x=d(Ve,x,ye),Re===null?ce=Ve:Re.sibling=Ve,Re=Ve);return Le&&gs(P,ye),ce}for(fe=l(fe);!Ve.done;ye++,Ve=z.next())Ve=q(fe,P,ye,Ve.value,Z),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?ye:Ve.key),x=d(Ve,x,ye),Re===null?ce=Ve:Re.sibling=Ve,Re=Ve);return t&&fe.forEach(function($A){return i(P,$A)}),Le&&gs(P,ye),ce}function Ke(P,x,z,Z){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:e:{for(var ce=z.key;x!==null;){if(x.key===ce){if(ce=z.type,ce===k){if(x.tag===7){s(P,x.sibling),Z=h(x,z.props.children),Z.return=P,P=Z;break e}}else if(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&zg(ce)===x.type){s(P,x.sibling),Z=h(x,z.props),Fo(Z,z),Z.return=P,P=Z;break e}s(P,x);break}else i(P,x);x=x.sibling}z.type===k?(Z=ms(z.props.children,P.mode,Z,z.key),Z.return=P,P=Z):(Z=Au(z.type,z.key,z.props,null,P.mode,Z),Fo(Z,z),Z.return=P,P=Z)}return _(P);case U:e:{for(ce=z.key;x!==null;){if(x.key===ce)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){s(P,x.sibling),Z=h(x,z.children||[]),Z.return=P,P=Z;break e}else{s(P,x);break}else i(P,x);x=x.sibling}Z=ef(z,P.mode,Z),Z.return=P,P=Z}return _(P);case w:return ce=z._init,z=ce(z._payload),Ke(P,x,z,Z)}if(tt(z))return _e(P,x,z,Z);if(L(z)){if(ce=L(z),typeof ce!="function")throw Error(a(150));return z=ce.call(z),ge(P,x,z,Z)}if(typeof z.then=="function")return Ke(P,x,zu(z),Z);if(z.$$typeof===W)return Ke(P,x,Iu(P,z),Z);Bu(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(s(P,x.sibling),Z=h(x,z),Z.return=P,P=Z):(s(P,x),Z=Jh(z,P.mode,Z),Z.return=P,P=Z),_(P)):s(P,x)}return function(P,x,z,Z){try{qo=0;var ce=Ke(P,x,z,Z);return wa=null,ce}catch(fe){if(fe===ko||fe===Ou)throw fe;var Re=un(29,fe,null,P.mode);return Re.lanes=Z,Re.return=P,Re}finally{}}}var Ra=Bg(!0),Hg=Bg(!1),In=te(null),ri=null;function fr(t){var i=t.alternate;se(_t,_t.current&1),se(In,t),ri===null&&(i===null||Ta.current!==null||i.memoizedState!==null)&&(ri=t)}function qg(t){if(t.tag===22){if(se(_t,_t.current),se(In,t),ri===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ri=t)}}else dr()}function dr(){se(_t,_t.current),se(In,In.current)}function Vi(t){le(In),ri===t&&(ri=null),le(_t)}var _t=te(0);function Hu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Ad(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function kf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Pf={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=dn(),h=ur(l);h.payload=i,s!=null&&(h.callback=s),i=cr(t,h,l),i!==null&&(mn(i,t,l),Vo(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=dn(),h=ur(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=cr(t,h,l),i!==null&&(mn(i,t,l),Vo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=dn(),l=ur(s);l.tag=2,i!=null&&(l.callback=i),i=cr(t,l,s),i!==null&&(mn(i,t,s),Vo(i,t,s))}};function Fg(t,i,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ro(s,l)||!Ro(h,d):!0}function Gg(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Pf.enqueueReplaceState(i,i.state,null)}function As(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Kg(t){qu(t)}function $g(t){console.error(t)}function Yg(t){qu(t)}function Fu(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Qg(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,i,s){return s=ur(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(t,i)},s}function Xg(t){return t=ur(t),t.tag=3,t}function Zg(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Qg(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Qg(i,s,l),typeof h!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function $b(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&xo(i,s,h,!0),s=In.current,s!==null){switch(s.tag){case 13:return ri===null?ad():s.alternate===null&&rt===0&&(rt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===hf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),ld(t,l,h)),!1;case 22:return s.flags|=65536,l===hf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),ld(t,l,h)),!1}throw Error(a(435,s.tag))}return ld(t,l,h),ad(),!1}if(Le)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==rf&&(t=Error(a(422),{cause:l}),No(An(t,s)))):(l!==rf&&(i=Error(a(423),{cause:l}),No(An(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=An(l,s),h=Vf(t.stateNode,l,h),mf(t,h),rt!==4&&(rt=2)),!1;var d=Error(a(520),{cause:l});if(d=An(d,s),Zo===null?Zo=[d]:Zo.push(d),rt!==4&&(rt=2),i===null)return!0;l=An(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Vf(s.stateNode,l,t),mf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_r===null||!_r.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Xg(h),Zg(h,t,s,l),mf(s,h),!1}s=s.return}while(s!==null);return!1}var Wg=Error(a(461)),St=!1;function kt(t,i,s,l){i.child=t===null?Hg(i,null,s,l):Ra(i,t.child,s,l)}function Jg(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Es(i),l=_f(t,i,s,_,d,h),T=Ef(),t!==null&&!St?(Tf(t,i,h),Ui(t,i,h)):(Le&&T&&tf(i),i.flags|=1,kt(t,i,l,h),i.child)}function ey(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Wh(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,ty(t,i,d,l,h)):(t=Au(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ff(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ro,s(_,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=Ni(d,l),t.ref=i.ref,t.return=i,i.child=t}function ty(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(Ro(d,l)&&t.ref===i.ref)if(St=!1,i.pendingProps=l=d,Ff(t,h))(t.flags&131072)!==0&&(St=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return Uf(t,i,s,l,h)}function ny(t,i,s){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return iy(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(i,d!==null?d.cachePool:null),d!==null?tg(i,d):gf(),qg(i);else return i.lanes=i.childLanes=536870912,iy(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Cu(i,d.cachePool),tg(i,d),dr(),i.memoizedState=null):(t!==null&&Cu(i,null),gf(),dr());return kt(t,i,h,s),i.child}function iy(t,i,s,l){var h=cf();return h=h===null?null:{parent:vt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&Cu(i,null),gf(),qg(i),t!==null&&xo(t,i,l,!0),null}function Gu(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Uf(t,i,s,l,h){return Es(i),s=_f(t,i,s,l,void 0,h),l=Ef(),t!==null&&!St?(Tf(t,i,h),Ui(t,i,h)):(Le&&l&&tf(i),i.flags|=1,kt(t,i,s,h),i.child)}function ry(t,i,s,l,h,d){return Es(i),i.updateQueue=null,s=ig(i,l,s,h),ng(t),l=Ef(),t!==null&&!St?(Tf(t,i,d),Ui(t,i,d)):(Le&&l&&tf(i),i.flags|=1,kt(t,i,s,d),i.child)}function sy(t,i,s,l,h){if(Es(i),i.stateNode===null){var d=ga,_=s.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ff(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):ga,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(kf(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Pf.enqueueReplaceState(d,d.state,null),Lo(i,l,d,h),Uo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=As(s,T);d.props=I;var B=d.context,Q=s.contextType;_=ga,typeof Q=="object"&&Q!==null&&(_=Ht(Q));var J=s.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&Gg(i,d,l,_),lr=!1;var H=i.memoizedState;d.state=H,Lo(i,l,d,h),Uo(),B=i.memoizedState,T||H!==B||lr?(typeof J=="function"&&(kf(i,s,J,l),B=i.memoizedState),(I=lr||Fg(i,s,I,l,H,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,df(t,i),_=i.memoizedProps,Q=As(s,_),d.props=Q,J=i.pendingProps,H=d.context,B=s.contextType,I=ga,typeof B=="object"&&B!==null&&(I=Ht(B)),T=s.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||H!==I)&&Gg(i,d,l,I),lr=!1,H=i.memoizedState,d.state=H,Lo(i,l,d,h),Uo();var q=i.memoizedState;_!==J||H!==q||lr||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof T=="function"&&(kf(i,s,T,l),q=i.memoizedState),(Q=lr||Fg(i,s,Q,l,H,q,I)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Gu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ra(i,t.child,null,h),i.child=Ra(i,null,s,h)):kt(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Ui(t,i,h),t}function ay(t,i,s,l){return Oo(),i.flags|=256,kt(t,i,s,l),i.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:$p()}}function zf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Cn),t}function oy(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?fr(i):dr(),Le){var T=it,I;if(I=T){e:{for(I=T,T=ii;I.nodeType!==8;){if(!T){T=null;break e}if(I=Ln(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:ps!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},I=un(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,Zt=i,it=null,I=!0):I=!1}I||vs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ad(T)?i.lanes=32:i.lanes=536870912,null;Vi(i)}return T=l.children,l=l.fallback,h?(dr(),h=i.mode,T=Ku({mode:"hidden",children:T},h),l=ms(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=jf(s),h.childLanes=zf(t,_,s),i.memoizedState=Lf,l):(fr(i),Bf(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(fr(i),i.flags&=-257,i=Hf(t,i,s)):i.memoizedState!==null?(dr(),i.child=t.child,i.flags|=128,i=null):(dr(),h=l.fallback,T=i.mode,l=Ku({mode:"visible",children:l.children},T),h=ms(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ra(i,t.child,null,s),l=i.child,l.memoizedState=jf(s),l.childLanes=zf(t,_,s),i.memoizedState=Lf,i=h);else if(fr(i),Ad(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(a(419)),l.stack="",l.digest=_,No({value:l,source:null,stack:null}),i=Hf(t,i,s)}else if(St||xo(t,i,s,!1),_=(s&t.childLanes)!==0,St||_){if(_=Qe,_!==null&&(l=s&-s,l=(l&42)!==0?1:er(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,pa(t,l),mn(_,t,l),Wg;T.data==="$?"||ad(),i=Hf(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,it=Ln(T.nextSibling),Zt=i,Le=!0,ys=null,ii=!1,t!==null&&(wn[Rn++]=xi,wn[Rn++]=Di,wn[Rn++]=ps,xi=t.id,Di=t.overflow,ps=i),i=Bf(i,l.children),i.flags|=4096);return i}return h?(dr(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=Ni(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Ni(B,h):(h=ms(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=jf(s):(I=T.cachePool,I!==null?(B=vt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=$p(),T={baseLanes:T.baseLanes|s,cachePool:I}),h.memoizedState=T,h.childLanes=zf(t,_,s),i.memoizedState=Lf,l):(fr(i),s=t.child,t=s.sibling,s=Ni(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function Bf(t,i){return i=Ku({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ku(t,i){return t=un(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hf(t,i,s){return Ra(i,t.child,null,s),t=Bf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ly(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),af(t.return,i,s)}function qf(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function uy(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(kt(t,i,l.children,s),l=_t.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,s,i);else if(t.tag===19)ly(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(_t,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Hu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),qf(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}qf(i,!0,s,null,d);break;case"together":qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),vr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(xo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ni(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ni(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Ff(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function Yb(t,i,s){switch(i.tag){case 3:Ye(i,i.stateNode.containerInfo),or(i,vt,t.memoizedState.cache),Oo();break;case 27:case 5:Ji(i);break;case 4:Ye(i,i.stateNode.containerInfo);break;case 10:or(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(fr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?oy(t,i,s):(fr(i),t=Ui(t,i,s),t!==null?t.sibling:null);fr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(xo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return uy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(_t,_t.current),l)break;return null;case 22:case 23:return i.lanes=0,ny(t,i,s);case 24:or(i,vt,t.memoizedState.cache)}return Ui(t,i,s)}function cy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)St=!0;else{if(!Ff(t,s)&&(i.flags&128)===0)return St=!1,Yb(t,i,s);St=(t.flags&131072)!==0}else St=!1,Le&&(i.flags&1048576)!==0&&zp(i,wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Wh(l)?(t=As(l,t),i.tag=1,i=sy(null,i,l,t,s)):(i.tag=0,i=Uf(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=Jg(null,i,l,t,s);break e}else if(h===D){i.tag=14,i=ey(null,i,l,t,s);break e}}throw i=xt(l)||l,Error(a(306,i,""))}}return i;case 0:return Uf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=As(l,i.pendingProps),sy(t,i,l,h,s);case 3:e:{if(Ye(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,df(t,i),Lo(i,l,null,s);var _=i.memoizedState;if(l=_.cache,or(i,vt,l),l!==d.cache&&of(i,[vt],s,!0),Uo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ay(t,i,l,s);break e}else if(l!==h){h=An(Error(a(424)),i),No(h),i=ay(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Ln(t.firstChild),Zt=i,Le=!0,ys=null,ii=!0,s=Hg(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Oo(),l===h){i=Ui(t,i,s);break e}kt(t,i,l,s)}i=i.child}return i;case 26:return Gu(t,i),t===null?(s=mv(i.type,null,i.pendingProps,null))?i.memoizedState=s:Le||(s=i.type,t=i.pendingProps,l=ac(Ee.current).createElement(s),l[pt]=i,l[ut]=t,Vt(l,s,t),at(l),i.stateNode=l):i.memoizedState=mv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ji(i),t===null&&Le&&(l=i.stateNode=hv(i.type,i.pendingProps,Ee.current),Zt=i,ii=!0,h=it,br(i.type)?(Sd=h,it=Ln(l.firstChild)):it=h),kt(t,i,i.pendingProps.children,s),Gu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=it)&&(l=bA(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,Zt=i,it=Ln(l.firstChild),ii=!1,h=!0):h=!1),h||vs(i)),Ji(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Ed(h,d)?l=null:_!==null&&Ed(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=_f(t,i,zb,null,null,s),al._currentValue=h),Gu(t,i),kt(t,i,l,s),i.child;case 6:return t===null&&Le&&((t=s=it)&&(s=AA(s,i.pendingProps,ii),s!==null?(i.stateNode=s,Zt=i,it=null,t=!0):t=!1),t||vs(i)),null;case 13:return oy(t,i,s);case 4:return Ye(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ra(i,null,l,s):kt(t,i,l,s),i.child;case 11:return Jg(t,i,i.type,i.pendingProps,s);case 7:return kt(t,i,i.pendingProps,s),i.child;case 8:return kt(t,i,i.pendingProps.children,s),i.child;case 12:return kt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,or(i,i.type,l.value),kt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Es(i),h=Ht(h),l=l(h),i.flags|=1,kt(t,i,l,s),i.child;case 14:return ey(t,i,i.type,i.pendingProps,s);case 15:return ty(t,i,i.type,i.pendingProps,s);case 19:return uy(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=Ku(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ni(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return ny(t,i,s);case 24:return Es(i),l=Ht(vt),t===null?(h=cf(),h===null&&(h=Qe,d=lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},ff(i),or(i,vt,h)):((t.lanes&s)!==0&&(df(t,i),Lo(i,null,null,s),Uo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),or(i,vt,l)):(l=d.cache,or(i,vt,l),l!==h.cache&&of(i,[vt],s,!0))),kt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Li(t){t.flags|=4}function hy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_v(i)){if(i=In.current,i!==null&&((Me&4194048)===Me?ri!==null:(Me&62914560)!==Me&&(Me&536870912)===0||i!==ri))throw Po=hf,Yp;t.flags|=8192}}function $u(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?oo():536870912,t.lanes|=i,Na|=i)}function Go(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function et(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function Qb(t,i,s){var l=i.pendingProps;switch(nf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(i),null;case 1:return et(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ki(vt),Gn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Co(i)?Li(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qp())),et(i),null;case 26:return s=i.memoizedState,t===null?(Li(i),s!==null?(et(i),hy(i,s)):(et(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Li(i),et(i),hy(i,s)):(et(i),i.flags&=-16777217):(t.memoizedProps!==l&&Li(i),et(i),i.flags&=-16777217),null;case 27:yi(i),s=Ee.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return et(i),null}t=me.current,Co(i)?Bp(i):(t=hv(h,l,s),i.stateNode=t,Li(i))}return et(i),null;case 5:if(yi(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return et(i),null}if(t=me.current,Co(i))Bp(i);else{switch(h=ac(Ee.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[pt]=i,t[ut]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Vt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Li(i)}}return et(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ee.current,Co(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[pt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||rv(t.nodeValue,s)),t||vs(i)}else t=ac(t).createTextNode(l),t[pt]=i,i.stateNode=t}return et(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Co(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[pt]=i}else Oo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;et(i),h=!1}else h=qp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),$u(i,i.updateQueue),et(i),null;case 4:return Gn(),t===null&&pd(i.stateNode.containerInfo),et(i),null;case 10:return ki(i.type),et(i),null;case 19:if(le(_t),h=i.memoizedState,h===null)return et(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Go(h,!1);else{if(rt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Hu(t),d!==null){for(i.flags|=128,Go(h,!1),t=d.updateQueue,i.updateQueue=t,$u(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)jp(s,t),s=s.sibling;return se(_t,_t.current&1|2),i.child}t=t.sibling}h.tail!==null&&yn()>Xu&&(i.flags|=128,l=!0,Go(h,!1),i.lanes=4194304)}else{if(!l)if(t=Hu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,$u(i,t),Go(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Le)return et(i),null}else 2*yn()-h.renderingStartTime>Xu&&s!==536870912&&(i.flags|=128,l=!0,Go(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,t=_t.current,se(_t,l?t&1|2:t&1),i):(et(i),null);case 22:case 23:return Vi(i),yf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(et(i),i.subtreeFlags&6&&(i.flags|=8192)):et(i),s=i.updateQueue,s!==null&&$u(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&le(Ts),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ki(vt),et(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Xb(t,i){switch(nf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ki(vt),Gn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(Vi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Oo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(_t),null;case 4:return Gn(),null;case 10:return ki(i.type),null;case 22:case 23:return Vi(i),yf(),t!==null&&le(Ts),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ki(vt),null;case 25:return null;default:return null}}function fy(t,i){switch(nf(i),i.tag){case 3:ki(vt),Gn();break;case 26:case 27:case 5:yi(i);break;case 4:Gn();break;case 13:Vi(i);break;case 19:le(_t);break;case 10:ki(i.type);break;case 22:case 23:Vi(i),yf(),t!==null&&le(Ts);break;case 24:ki(vt)}}function Ko(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){$e(i,i.return,T)}}function mr(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=s,B=T;try{B()}catch(Q){$e(h,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){$e(i,i.return,Q)}}function dy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{eg(i,s)}catch(l){$e(t,t.return,l)}}}function my(t,i,s){s.props=As(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){$e(t,i,l)}}function $o(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){$e(t,i,h)}}function si(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$e(t,i,h)}else s.current=null}function py(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){$e(t,t.return,h)}}function Gf(t,i,s){try{var l=t.stateNode;yA(l,t.type,s,i),l[ut]=i}catch(h){$e(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&br(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=sc));else if(l!==4&&(l===27&&br(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for($f(t,i,s),t=t.sibling;t!==null;)$f(t,i,s),t=t.sibling}function Yu(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&br(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yu(t,i,s),t=t.sibling;t!==null;)Yu(t,i,s),t=t.sibling}function yy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Vt(i,l,s),i[pt]=t,i[ut]=s}catch(d){$e(t,t.return,d)}}var ji=!1,lt=!1,Yf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Zb(t,i){if(t=t.containerInfo,vd=fc,t=Op(t),Gh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,I=-1,B=0,Q=0,J=t,H=null;t:for(;;){for(var q;J!==s||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(I=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(q=J.firstChild)!==null;)H=J,J=q;for(;;){if(J===t)break t;if(H===s&&++B===h&&(T=_),H===d&&++Q===l&&(I=_),(q=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=q}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(_d={focusedElem:t,selectionRange:s},fc=!1,wt=i;wt!==null;)if(i=wt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,wt=t;else for(;wt!==null;){switch(i=wt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var _e=As(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){$e(s,s.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)bd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,wt=t;break}wt=i.return}}function _y(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:pr(t,s),l&4&&Ko(5,s);break;case 1:if(pr(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(s,s.return,_)}else{var h=As(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(s,s.return,_)}}l&64&&dy(s),l&512&&$o(s,s.return);break;case 3:if(pr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{eg(t,i)}catch(_){$e(s,s.return,_)}}break;case 27:i===null&&l&4&&yy(s);case 26:case 5:pr(t,s),i===null&&l&4&&py(s),l&512&&$o(s,s.return);break;case 12:pr(t,s);break;case 13:pr(t,s),l&4&&by(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=aA.bind(null,s),SA(t,s))));break;case 22:if(l=s.memoizedState!==null||ji,!l){i=i!==null&&i.memoizedState!==null||lt,h=ji;var d=lt;ji=l,(lt=i)&&!d?gr(t,s,(s.subtreeFlags&8772)!==0):pr(t,s),ji=h,lt=d}break;case 30:break;default:pr(t,s)}}function Ey(t){var i=t.alternate;i!==null&&(t.alternate=null,Ey(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ir(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var We=null,Jt=!1;function zi(t,i,s){for(s=s.child;s!==null;)Ty(t,i,s),s=s.sibling}function Ty(t,i,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(nt,s)}catch{}switch(s.tag){case 26:lt||si(s,i),zi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:lt||si(s,i);var l=We,h=Jt;br(s.type)&&(We=s.stateNode,Jt=!1),zi(t,i,s),nl(s.stateNode),We=l,Jt=h;break;case 5:lt||si(s,i);case 6:if(l=We,h=Jt,We=null,zi(t,i,s),We=l,Jt=h,We!==null)if(Jt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(s.stateNode)}catch(d){$e(s,i,d)}else try{We.removeChild(s.stateNode)}catch(d){$e(s,i,d)}break;case 18:We!==null&&(Jt?(t=We,uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),cl(t)):uv(We,s.stateNode));break;case 4:l=We,h=Jt,We=s.stateNode.containerInfo,Jt=!0,zi(t,i,s),We=l,Jt=h;break;case 0:case 11:case 14:case 15:lt||mr(2,s,i),lt||mr(4,s,i),zi(t,i,s);break;case 1:lt||(si(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&my(s,i,l)),zi(t,i,s);break;case 21:zi(t,i,s);break;case 22:lt=(l=lt)||s.memoizedState!==null,zi(t,i,s),lt=l;break;default:zi(t,i,s)}}function by(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cl(t)}catch(s){$e(i,i.return,s)}}function Wb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new vy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new vy),i;default:throw Error(a(435,t.tag))}}function Qf(t,i){var s=Wb(t);i.forEach(function(l){var h=oA.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function cn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(br(T.type)){We=T.stateNode,Jt=!1;break e}break;case 5:We=T.stateNode,Jt=!1;break e;case 3:case 4:We=T.stateNode.containerInfo,Jt=!0;break e}T=T.return}if(We===null)throw Error(a(160));Ty(d,_,h),We=null,Jt=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ay(i,t),i=i.sibling}var Un=null;function Ay(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(mr(3,t,t.return),Ko(3,t),mr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(lt||s===null||si(s,s.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Un;if(cn(i,t),hn(t),l&512&&(lt||s===null||si(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Wr]||d[pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Vt(d,l,s),d[pt]=t,at(d),l=d;break e;case"link":var _=yv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Vt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=yv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Vt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[pt]=t,at(d),l=d}t.stateNode=l}else vv(h,t.type,t.stateNode);else t.stateNode=gv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?vv(h,t.type,t.stateNode):gv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,s.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(lt||s===null||si(s,s.return)),s!==null&&l&4&&Gf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(lt||s===null||si(s,s.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(q){$e(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Gf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(q){$e(t,t.return,q)}}break;case 3:if(uc=null,h=Un,Un=oc(i.containerInfo),cn(i,t),Un=h,hn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{cl(i.containerInfo)}catch(q){$e(t,t.return,q)}Yf&&(Yf=!1,Sy(t));break;case 4:l=Un,Un=oc(t.stateNode.containerInfo),cn(i,t),hn(t),Un=l;break;case 12:cn(i,t),hn(t);break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(td=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qf(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,B=ji,Q=lt;if(ji=B||h,lt=Q||I,cn(i,t),lt=Q,ji=B,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||I||ji||lt||Ss(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){$e(I,I.return,q)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(q){$e(I,I.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Qf(t,s))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qf(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(gy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Kf(t);Yu(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(_n(_,""),s.flags&=-33);var T=Kf(t);Yu(t,T,_);break;case 3:case 4:var I=s.stateNode.containerInfo,B=Kf(t);$f(t,B,I);break;default:throw Error(a(161))}}catch(Q){$e(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Sy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function pr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_y(t,i.alternate,i),i=i.sibling}function Ss(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:mr(4,i,i.return),Ss(i);break;case 1:si(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&my(i,i.return,s),Ss(i);break;case 27:nl(i.stateNode);case 26:case 5:si(i,i.return),Ss(i);break;case 22:i.memoizedState===null&&Ss(i);break;case 30:Ss(i);break;default:Ss(i)}t=t.sibling}}function gr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:gr(h,d,s),Ko(4,d);break;case 1:if(gr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){$e(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Jp(I[h],T)}catch(B){$e(l,l.return,B)}}s&&_&64&&dy(d),$o(d,d.return);break;case 27:yy(d);case 26:case 5:gr(h,d,s),s&&l===null&&_&4&&py(d),$o(d,d.return);break;case 12:gr(h,d,s);break;case 13:gr(h,d,s),s&&_&4&&by(h,d);break;case 22:d.memoizedState===null&&gr(h,d,s),$o(d,d.return);break;case 30:break;default:gr(h,d,s)}i=i.sibling}}function Xf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Do(s))}function Zf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Do(t))}function ai(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wy(t,i,s,l),i=i.sibling}function wy(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,s,l),h&2048&&Ko(9,i);break;case 1:ai(t,i,s,l);break;case 3:ai(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Do(t)));break;case 12:if(h&2048){ai(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){$e(i,i.return,I)}}else ai(t,i,s,l);break;case 13:ai(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,s,l):Yo(t,i):d._visibility&2?ai(t,i,s,l):(d._visibility|=2,Ia(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Xf(_,i);break;case 24:ai(t,i,s,l),h&2048&&Zf(i.alternate,i);break;default:ai(t,i,s,l)}}function Ia(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=s,I=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ia(d,_,T,I,h),Ko(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Ia(d,_,T,I,h):Yo(d,_):(Q._visibility|=2,Ia(d,_,T,I,h)),h&&B&2048&&Xf(_.alternate,_);break;case 24:Ia(d,_,T,I,h),h&&B&2048&&Zf(_.alternate,_);break;default:Ia(d,_,T,I,h)}i=i.sibling}}function Yo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:Yo(s,l),h&2048&&Xf(l.alternate,l);break;case 24:Yo(s,l),h&2048&&Zf(l.alternate,l);break;default:Yo(s,l)}i=i.sibling}}var Qo=8192;function Ca(t){if(t.subtreeFlags&Qo)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 26:Ca(t),t.flags&Qo&&t.memoizedState!==null&&UA(Un,t.memoizedState,t.memoizedProps);break;case 5:Ca(t);break;case 3:case 4:var i=Un;Un=oc(t.stateNode.containerInfo),Ca(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Qo,Qo=16777216,Ca(t),Qo=i):Ca(t));break;default:Ca(t)}}function Iy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Xo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];wt=l,Oy(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 0:case 11:case 15:Xo(t),t.flags&2048&&mr(9,t,t.return);break;case 3:Xo(t);break;case 12:Xo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Qu(t)):Xo(t);break;default:Xo(t)}}function Qu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];wt=l,Oy(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:mr(8,i,i.return),Qu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Qu(i));break;default:Qu(i)}t=t.sibling}}function Oy(t,i){for(;wt!==null;){var s=wt;switch(s.tag){case 0:case 11:case 15:mr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Do(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,wt=l;else e:for(s=t;wt!==null;){l=wt;var h=l.sibling,d=l.return;if(Ey(l),l===s){wt=null;break e}if(h!==null){h.return=d,wt=h;break e}wt=d}}}var Jb={getCacheForType:function(t){var i=Ht(vt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},eA=typeof WeakMap=="function"?WeakMap:Map,Be=0,Qe=null,Ce=null,Me=0,He=0,fn=null,yr=!1,Oa=!1,Wf=!1,Bi=0,rt=0,vr=0,ws=0,Jf=0,Cn=0,Na=0,Zo=null,en=null,ed=!1,td=0,Xu=1/0,Zu=null,_r=null,Pt=0,Er=null,xa=null,Da=0,nd=0,id=null,Ny=null,Wo=0,rd=null;function dn(){if((Be&2)!==0&&Me!==0)return Me&-Me;if(Y.T!==null){var t=_a;return t!==0?t:hd()}return tr()}function xy(){Cn===0&&(Cn=(Me&536870912)===0||Le?ao():536870912);var t=In.current;return t!==null&&(t.flags|=32),Cn}function mn(t,i,s){(t===Qe&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Tr(t,Me,Cn,!1)),_i(t,s),((Be&2)===0||t!==Qe)&&(t===Qe&&((Be&2)===0&&(ws|=s),rt===4&&Tr(t,Me,Cn,!1)),oi(t))}function Dy(t,i,s){if((Be&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||Zr(t,i),h=l?iA(t,i):od(t,i,!0),d=l;do{if(h===0){Oa&&!l&&Tr(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!tA(s)){h=od(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Zo;var I=T.current.memoizedState.isDehydrated;if(I&&(Ma(T,_).flags|=256),_=od(T,_,!1),_!==2){if(Wf&&!I){T.errorRecoveryDisabledLanes|=d,ws|=d,h=4;break e}d=en,en=h,d!==null&&(en===null?en=d:en.push.apply(en,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ma(t,0),Tr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Tr(l,i,Cn,!yr);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=td+300-yn(),10<h)){if(Tr(l,i,Cn,!yr),Xs(l,0,!0)!==0)break e;l.timeoutHandle=ov(My.bind(null,l,s,en,Zu,ed,i,Cn,ws,Na,yr,d,2,-0,0),h);break e}My(l,s,en,Zu,ed,i,Cn,ws,Na,yr,d,0,-0,0)}}break}while(!0);oi(t)}function My(t,i,s,l,h,d,_,T,I,B,Q,J,H,q){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:VA},Ry(i),J=LA(),J!==null)){t.cancelPendingCommit=J(zy.bind(null,t,i,d,s,l,h,_,T,I,Q,1,H,q)),Tr(t,d,_,!B);return}zy(t,i,d,s,l,h,_,T,I)}function tA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!ln(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Tr(t,i,s,l){i&=~Jf,i&=~ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Bt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Kn(t,s,i)}function Wu(){return(Be&6)===0?(Jo(0),!1):!0}function sd(){if(Ce!==null){if(He===0)var t=Ce.return;else t=Ce,Mi=_s=null,bf(t),wa=null,qo=0,t=Ce;for(;t!==null;)fy(t.alternate,t),t=t.return;Ce=null}}function Ma(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,_A(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),sd(),Qe=t,Ce=s=Ni(t.current,null),Me=i,He=0,fn=null,yr=!1,Oa=Zr(t,i),Wf=!1,Na=Cn=Jf=ws=vr=rt=0,en=Zo=null,ed=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Bt(l),d=1<<h;i|=t[h],l&=~d}return Bi=i,Eu(),s}function ky(t,i){Ae=null,Y.H=ju,i===ko||i===Ou?(i=Zp(),He=3):i===Yp?(i=Zp(),He=4):He=i===Wg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,Ce===null&&(rt=1,Fu(t,An(i,t.current)))}function Py(){var t=Y.H;return Y.H=ju,t===null?ju:t}function Vy(){var t=Y.A;return Y.A=Jb,t}function ad(){rt=4,yr||(Me&4194048)!==Me&&In.current!==null||(Oa=!0),(vr&134217727)===0&&(ws&134217727)===0||Qe===null||Tr(Qe,Me,Cn,!1)}function od(t,i,s){var l=Be;Be|=2;var h=Py(),d=Vy();(Qe!==t||Me!==i)&&(Zu=null,Ma(t,i)),i=!1;var _=rt;e:do try{if(He!==0&&Ce!==null){var T=Ce,I=fn;switch(He){case 8:sd(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var B=He;if(He=0,fn=null,ka(t,T,I,B),s&&Oa){_=0;break e}break;default:B=He,He=0,fn=null,ka(t,T,I,B)}}nA(),_=rt;break}catch(Q){ky(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Mi=_s=null,Be=l,Y.H=h,Y.A=d,Ce===null&&(Qe=null,Me=0,Eu()),_}function nA(){for(;Ce!==null;)Uy(Ce)}function iA(t,i){var s=Be;Be|=2;var l=Py(),h=Vy();Qe!==t||Me!==i?(Zu=null,Xu=yn()+500,Ma(t,i)):Oa=Zr(t,i);e:do try{if(He!==0&&Ce!==null){i=Ce;var d=fn;t:switch(He){case 1:He=0,fn=null,ka(t,i,d,1);break;case 2:case 9:if(Qp(d)){He=0,fn=null,Ly(i);break}i=function(){He!==2&&He!==9||Qe!==t||(He=7),oi(t)},d.then(i,i);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Qp(d)?(He=0,fn=null,Ly(i)):(He=0,fn=null,ka(t,i,d,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var T=Ce;if(!_||_v(_)){He=0,fn=null;var I=T.sibling;if(I!==null)Ce=I;else{var B=T.return;B!==null?(Ce=B,Ju(B)):Ce=null}break t}}He=0,fn=null,ka(t,i,d,5);break;case 6:He=0,fn=null,ka(t,i,d,6);break;case 8:sd(),rt=6;break e;default:throw Error(a(462))}}rA();break}catch(Q){ky(t,Q)}while(!0);return Mi=_s=null,Y.H=l,Y.A=h,Be=s,Ce!==null?0:(Qe=null,Me=0,Eu(),rt)}function rA(){for(;Ce!==null&&!no();)Uy(Ce)}function Uy(t){var i=cy(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?Ju(t):Ce=i}function Ly(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=ry(s,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=ry(s,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:bf(i);default:fy(s,i),i=Ce=jp(i,Bi),i=cy(s,i,Bi)}t.memoizedProps=t.pendingProps,i===null?Ju(t):Ce=i}function ka(t,i,s,l){Mi=_s=null,bf(i),wa=null,qo=0;var h=i.return;try{if($b(t,h,i,s,Me)){rt=1,Fu(t,An(s,t.current)),Ce=null;return}}catch(d){if(h!==null)throw Ce=h,d;rt=1,Fu(t,An(s,t.current)),Ce=null;return}i.flags&32768?(Le||l===1?t=!0:Oa||(Me&536870912)!==0?t=!1:(yr=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),jy(i,t)):Ju(i)}function Ju(t){var i=t;do{if((i.flags&32768)!==0){jy(i,yr);return}t=i.return;var s=Qb(i.alternate,i,Bi);if(s!==null){Ce=s;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);rt===0&&(rt=5)}function jy(t,i){do{var s=Xb(t.alternate,t);if(s!==null){s.flags&=32767,Ce=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=s}while(t!==null);rt=6,Ce=null}function zy(t,i,s,l,h,d,_,T,I){t.cancelPendingCommit=null;do ec();while(Pt!==0);if((Be&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Xh,lo(t,s,d,_,T,I),t===Qe&&(Ce=Qe=null,Me=0),xa=i,Er=t,Da=s,nd=d,id=h,Ny=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lA($r,function(){return Gy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=oe.p,oe.p=2,_=Be,Be|=4;try{Zb(t,i,s)}finally{Be=_,oe.p=h,Y.T=l}}Pt=1,By(),Hy(),qy()}}function By(){if(Pt===1){Pt=0;var t=Er,i=xa,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Be;Be|=4;try{Ay(i,t);var d=_d,_=Op(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Cp(T.ownerDocument.documentElement,T)){if(I!==null&&Gh(T)){var B=I.start,Q=I.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var J=T.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var q=H.getSelection(),_e=T.textContent.length,ge=Math.min(I.start,_e),Ke=I.end===void 0?ge:Math.min(I.end,_e);!q.extend&&ge>Ke&&(_=Ke,Ke=ge,ge=_);var P=Ip(T,ge),x=Ip(T,Ke);if(P&&x&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var z=J.createRange();z.setStart(P.node,P.offset),q.removeAllRanges(),ge>Ke?(q.addRange(z),q.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),q.addRange(z))}}}}for(J=[],q=T;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}fc=!!vd,_d=vd=null}finally{Be=h,oe.p=l,Y.T=s}}t.current=i,Pt=2}}function Hy(){if(Pt===2){Pt=0;var t=Er,i=xa,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Be;Be|=4;try{_y(t,i.alternate,i)}finally{Be=h,oe.p=l,Y.T=s}}Pt=3}}function qy(){if(Pt===4||Pt===3){Pt=0,Ql();var t=Er,i=xa,s=Da,l=Ny;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,xa=Er=null,Fy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(_r=null),Zs(s),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(nt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=oe.p,oe.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,oe.p=h}}(Da&3)!==0&&ec(),oi(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===rd?Wo++:(Wo=0,rd=t):Wo=0,Jo(0)}}function Fy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Do(i)))}function ec(t){return By(),Hy(),qy(),Gy()}function Gy(){if(Pt!==5)return!1;var t=Er,i=nd;nd=0;var s=Zs(Da),l=Y.T,h=oe.p;try{oe.p=32>s?32:s,Y.T=null,s=id,id=null;var d=Er,_=Da;if(Pt=0,xa=Er=null,Da=0,(Be&6)!==0)throw Error(a(331));var T=Be;if(Be|=4,Cy(d.current),wy(d,d.current,_,s),Be=T,Jo(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(nt,d)}catch{}return!0}finally{oe.p=h,Y.T=l,Fy(t,i)}}function Ky(t,i,s){i=An(s,i),i=Vf(t.stateNode,i,2),t=cr(t,i,2),t!==null&&(_i(t,2),oi(t))}function $e(t,i,s){if(t.tag===3)Ky(t,t,s);else for(;i!==null;){if(i.tag===3){Ky(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){t=An(s,t),s=Xg(2),l=cr(i,s,2),l!==null&&(Zg(s,l,i,t),_i(l,2),oi(l));break}}i=i.return}}function ld(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new eA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Wf=!0,h.add(s),t=sA.bind(null,t,i,s),i.then(t,t))}function sA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Qe===t&&(Me&s)===s&&(rt===4||rt===3&&(Me&62914560)===Me&&300>yn()-td?(Be&2)===0&&Ma(t,0):Jf|=s,Na===Me&&(Na=0)),oi(t)}function $y(t,i){i===0&&(i=oo()),t=pa(t,i),t!==null&&(_i(t,i),oi(t))}function aA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),$y(t,s)}function oA(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),$y(t,s)}function lA(t,i){return Gr(t,i)}var tc=null,Pa=null,ud=!1,nc=!1,cd=!1,Rs=0;function oi(t){t!==Pa&&t.next===null&&(Pa===null?tc=Pa=t:Pa=Pa.next=t),nc=!0,ud||(ud=!0,cA())}function Jo(t,i){if(!cd&&nc){cd=!0;do for(var s=!1,l=tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Bt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Zy(l,d))}else d=Me,d=Xs(l,l===Qe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zr(l,d)||(s=!0,Zy(l,d));l=l.next}while(s);cd=!1}}function uA(){Yy()}function Yy(){nc=ud=!1;var t=0;Rs!==0&&(vA()&&(t=Rs),Rs=0);for(var i=yn(),s=null,l=tc;l!==null;){var h=l.next,d=Qy(l,i);d===0?(l.next=null,s===null?tc=h:s.next=h,h===null&&(Pa=s)):(s=l,(t!==0||(d&3)!==0)&&(nc=!0)),l=h}Jo(t)}function Qy(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Bt(d),T=1<<_,I=h[_];I===-1?((T&s)===0||(T&l)!==0)&&(h[_]=so(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=Qe,s=Me,s=Xs(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(He===2||He===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Kr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Zr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Kr(l),Zs(s)){case 2:case 8:s=Ys;break;case 32:s=$r;break;case 268435456:s=Qs;break;default:s=$r}return l=Xy.bind(null,t),s=Gr(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Kr(l),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ec()&&t.callbackNode!==s)return null;var l=Me;return l=Xs(t,t===Qe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dy(t,l,i),Qy(t,yn()),t.callbackNode!=null&&t.callbackNode===s?Xy.bind(null,t):null)}function Zy(t,i){if(ec())return null;Dy(t,i,!0)}function cA(){EA(function(){(Be&6)!==0?Gr(io,uA):Yy()})}function hd(){return Rs===0&&(Rs=ao()),Rs}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ia(""+t)}function Jy(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function hA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=Wy((h[ut]||null).action),_=l.submitter;_&&(i=(i=_[ut]||null)?Wy(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new ra("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rs!==0){var I=_?Jy(h,_):new FormData(h);xf(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?Jy(h,_):new FormData(h),xf(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var fd=0;fd<Qh.length;fd++){var dd=Qh[fd],fA=dd.toLowerCase(),dA=dd[0].toUpperCase()+dd.slice(1);Vn(fA,"on"+dA)}Vn(Dp,"onAnimationEnd"),Vn(Mp,"onAnimationIteration"),Vn(kp,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(Nb,"onTransitionRun"),Vn(xb,"onTransitionStart"),Vn(Db,"onTransitionCancel"),Vn(Pp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function ev(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){qu(Q)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Q){qu(Q)}h.currentTarget=null,d=I}}}}function Oe(t,i){var s=i[co];s===void 0&&(s=i[co]=new Set);var l=t+"__bubble";s.has(l)||(tv(i,t,2,!1),s.add(l))}function md(t,i,s){var l=0;i&&(l|=4),tv(s,t,l,i)}var ic="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[ic]){t[ic]=!0,ho.forEach(function(s){s!=="selectionchange"&&(mA.has(s)||md(s,!1,t),md(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ic]||(i[ic]=!0,md("selectionchange",!1,i))}}function tv(t,i,s,l){switch(wv(i)){case 2:var h=BA;break;case 8:h=HA;break;default:h=Od}s=h.bind(null,i,s,t),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function gd(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ei(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}su(function(){var B=d,Q=En(s),J=[];e:{var H=Vp.get(t);if(H!==void 0){var q=ra,_e=t;switch(t){case"keypress":if(Wn(s)===0)break e;case"keydown":case"keyup":q=ca;break;case"focusin":_e="focus",q=oa;break;case"focusout":_e="blur",q=oa;break;case"beforeblur":case"afterblur":q=oa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=du;break;case Dp:case Mp:case kp:q=la;break;case Pp:q=pu;break;case"scroll":case"scrollend":q=au;break;case"wheel":q=ha;break;case"copy":case"cut":case"paste":q=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=So;break;case"toggle":case"beforetoggle":q=yu}var ge=(i&4)!==0,Ke=!ge&&(t==="scroll"||t==="scrollend"),P=ge?H!==null?H+"Capture":null:H;ge=[];for(var x=B,z;x!==null;){var Z=x;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||P===null||(Z=ss(x,P),Z!=null&&ge.push(tl(x,Z,z))),Ke)break;x=x.return}0<ge.length&&(H=new q(H,_e,null,s,Q),J.push({event:H,listeners:ge}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",H&&s!==Si&&(_e=s.relatedTarget||s.fromElement)&&(Ei(_e)||_e[vn]))break e;if((q||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,q?(_e=s.relatedTarget||s.toElement,q=B,_e=_e?Ei(_e):null,_e!==null&&(Ke=u(_e),ge=_e.tag,_e!==Ke||ge!==5&&ge!==27&&ge!==6)&&(_e=null)):(q=null,_e=B),q!==_e)){if(ge=bn,Z="onMouseLeave",P="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ge=So,Z="onPointerLeave",P="onPointerEnter",x="pointer"),Ke=q==null?H:Yn(q),z=_e==null?H:Yn(_e),H=new ge(Z,x+"leave",q,s,Q),H.target=Ke,H.relatedTarget=z,Z=null,Ei(Q)===B&&(ge=new ge(P,x+"enter",_e,s,Q),ge.target=z,ge.relatedTarget=Ke,Z=ge),Ke=Z,q&&_e)t:{for(ge=q,P=_e,x=0,z=ge;z;z=Va(z))x++;for(z=0,Z=P;Z;Z=Va(Z))z++;for(;0<x-z;)ge=Va(ge),x--;for(;0<z-x;)P=Va(P),z--;for(;x--;){if(ge===P||P!==null&&ge===P.alternate)break t;ge=Va(ge),P=Va(P)}ge=null}else ge=null;q!==null&&nv(J,H,q,ge,!1),_e!==null&&Ke!==null&&nv(J,Ke,_e,ge,!0)}}e:{if(H=B?Yn(B):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var ce=Tp;else if(yt(H))if(bp)ce=Ib;else{ce=wb;var Re=Sb}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&yo(B.elementType)&&(ce=Tp):ce=Rb;if(ce&&(ce=ce(t,B))){Oi(J,ce,s,Q);break e}Re&&Re(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&sr(H,"number",H.value)}switch(Re=B?Yn(B):window,t){case"focusin":(yt(Re)||Re.contentEditable==="true")&&(fa=Re,Kh=B,Io=null);break;case"focusout":Io=Kh=fa=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Np(J,s,Q);break;case"selectionchange":if(Ob)break;case"keydown":case"keyup":Np(J,s,Q)}var fe;if(ti)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else xe?K(t,s)&&(ye="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ye="onCompositionStart");ye&&(v&&s.locale!=="ko"&&(xe||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&xe&&(fe=_o()):(Zn=Q,ar="value"in Zn?Zn.value:Zn.textContent,xe=!0)),Re=rc(B,ye),0<Re.length&&(ye=new bo(ye,t,null,s,Q),J.push({event:ye,listeners:Re}),fe?ye.data=fe:(fe=ae(s),fe!==null&&(ye.data=fe)))),(fe=g?gt(t,s):De(t,s))&&(ye=rc(B,"onBeforeInput"),0<ye.length&&(Re=new bo("onBeforeInput","beforeinput",null,s,Q),J.push({event:Re,listeners:ye}),Re.data=fe)),hA(J,t,B,s,Q)}ev(J,i)})}function tl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function rc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ss(t,s),h!=null&&l.unshift(tl(t,h,d)),h=ss(t,i),h!=null&&l.push(tl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function nv(t,i,s,l,h){for(var d=i._reactName,_=[];s!==null&&s!==l;){var T=s,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=ss(s,d),B!=null&&_.unshift(tl(s,B,I))):h||(B=ss(s,d),B!=null&&_.push(tl(s,B,I)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var pA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function iv(t){return(typeof t=="string"?t:""+t).replace(pA,`
`).replace(gA,"")}function rv(t,i){return i=iv(i),iv(t)===i}function sc(){}function Ge(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(t,""+l);break;case"className":Qn(t,"class",l);break;case"tabIndex":Qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(t,s,l);break;case"style":go(t,l,d);break;case"data":if(i!=="object"){Qn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ia(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Ge(t,i,"name",h.name,h,null),Ge(t,i,"formEncType",h.formEncType,h,null),Ge(t,i,"formMethod",h.formMethod,h,null),Ge(t,i,"formTarget",h.formTarget,h,null)):(Ge(t,i,"encType",h.encType,h,null),Ge(t,i,"method",h.method,h,null),Ge(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ia(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=sc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),rr(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":rr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=jh.get(s)||s,rr(t,s,l))}}function yd(t,i,s,l,h,d){switch(s){case"style":go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[ut]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):rr(t,s,l)}}}function Vt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ge(t,i,d,_,s,null)}}h&&Ge(t,i,"srcSet",s.srcSet,s,null),l&&Ge(t,i,"src",s.src,s,null);return;case"input":Oe("invalid",t);var T=d=_=h=null,I=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":I=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Ge(t,i,l,Q,s,null)}}ns(t,d,T,I,B,_,h,!1),na(t);return;case"select":Oe("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Ge(t,i,h,T,s,null)}i=d,s=_,t.multiple=!!l,i!=null?Ai(t,!!l,i,!1):s!=null&&Ai(t,!!l,s,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ge(t,i,_,T,s,null)}is(t,l,h,d),na(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ge(t,i,I,l,s,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<el.length;l++)Oe(el[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ge(t,i,B,l,s,null)}return;default:if(yo(i)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&yd(t,i,Q,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Ge(t,i,T,l,s,null))}function yA(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,B=null,Q=null;for(q in s){var J=s[q];if(s.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(q)||Ge(t,i,q,null,l,J)}}for(var H in l){var q=l[H];if(J=s[H],l.hasOwnProperty(H)&&(q!=null||J!=null))switch(H){case"type":d=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":Q=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:q!==J&&Ge(t,i,H,q,l,J)}}on(t,_,T,I,B,Q,d,h);return;case"select":q=_=T=H=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(d)||Ge(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Ge(t,i,h,d,l,I)}i=T,s=_,l=q,H!=null?Ai(t,!!s,H,!1):!!l!=!!s&&(i!=null?Ai(t,!!s,i,!0):Ai(t,!!s,s?[]:"",!1));return;case"textarea":q=H=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ge(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Ge(t,i,_,h,l,d)}qe(t,H,q);return;case"option":for(var _e in s)if(H=s[_e],s.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:Ge(t,i,_e,null,l,H)}for(I in l)if(H=l[I],q=s[I],l.hasOwnProperty(I)&&H!==q&&(H!=null||q!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ge(t,i,I,H,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in s)H=s[ge],s.hasOwnProperty(ge)&&H!=null&&!l.hasOwnProperty(ge)&&Ge(t,i,ge,null,l,H);for(B in l)if(H=l[B],q=s[B],l.hasOwnProperty(B)&&H!==q&&(H!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:Ge(t,i,B,H,l,q)}return;default:if(yo(i)){for(var Ke in s)H=s[Ke],s.hasOwnProperty(Ke)&&H!==void 0&&!l.hasOwnProperty(Ke)&&yd(t,i,Ke,void 0,l,H);for(Q in l)H=l[Q],q=s[Q],!l.hasOwnProperty(Q)||H===q||H===void 0&&q===void 0||yd(t,i,Q,H,l,q);return}}for(var P in s)H=s[P],s.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&Ge(t,i,P,null,l,H);for(J in l)H=l[J],q=s[J],!l.hasOwnProperty(J)||H===q||H==null&&q==null||Ge(t,i,J,H,l,q)}var vd=null,_d=null;function ac(t){return t.nodeType===9?t:t.ownerDocument}function sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ed(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Td=null;function vA(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(t){return lv.resolve(null).then(t).catch(TA)}:ov;function TA(t){setTimeout(function(){throw t})}function br(t){return t==="head"}function uv(t,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&nl(_.documentElement),s&2&&nl(_.body),s&4)for(s=_.head,nl(s),_=s.firstChild;_;){var T=_.nextSibling,I=_.nodeName;_[Wr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(h===0){t.removeChild(d),cl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);cl(i)}function bd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bd(s),ir(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function bA(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function AA(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ln(t.nextSibling),t===null))return null;return t}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function SA(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Sd=null;function cv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function hv(t,i,s){switch(i=ac(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ir(t)}var On=new Map,fv=new Set;function oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=oe.d;oe.d={f:wA,r:RA,D:IA,C:CA,L:OA,m:NA,X:DA,S:xA,M:MA};function wA(){var t=Hi.f(),i=Wu();return t||i}function RA(t){var i=$n(t);i!==null&&i.tag===5&&i.type==="form"?Dg(i):Hi.r(t)}var Ua=typeof document>"u"?null:document;function dv(t,i,s){var l=Ua;if(l&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),fv.has(h)||(fv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Vt(i,"link",t),at(i),l.head.appendChild(i)))}}function IA(t){Hi.D(t),dv("dns-prefetch",t,null)}function CA(t,i){Hi.C(t,i),dv("preconnect",t,i)}function OA(t,i,s){Hi.L(t,i,s);var l=Ua;if(l&&t&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ct(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ct(s.imageSizes)+'"]')):h+='[href="'+ct(t)+'"]';var d=h;switch(i){case"style":d=La(t);break;case"script":d=ja(t)}On.has(d)||(t=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(il(d))||i==="script"&&l.querySelector(rl(d))||(i=l.createElement("link"),Vt(i,"link",t),at(i),l.head.appendChild(i)))}}function NA(t,i){Hi.m(t,i);var s=Ua;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(l)+'"][href="'+ct(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(t)}if(!On.has(d)&&(t=E({rel:"modulepreload",href:t},i),On.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rl(d)))return}l=s.createElement("link"),Vt(l,"link",t),at(l),s.head.appendChild(l)}}}function xA(t,i,s){Hi.S(t,i,s);var l=Ua;if(l&&t){var h=Yt(l).hoistableStyles,d=La(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(il(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},s),(s=On.get(d))&&wd(t,s);var I=_=l.createElement("link");at(I),Vt(I,"link",t),I._p=new Promise(function(B,Q){I.onload=B,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function DA(t,i){Hi.X(t,i);var s=Ua;if(s&&t){var l=Yt(s).hoistableScripts,h=ja(t),d=l.get(h);d||(d=s.querySelector(rl(h)),d||(t=E({src:t,async:!0},i),(i=On.get(h))&&Rd(t,i),d=s.createElement("script"),at(d),Vt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function MA(t,i){Hi.M(t,i);var s=Ua;if(s&&t){var l=Yt(s).hoistableScripts,h=ja(t),d=l.get(h);d||(d=s.querySelector(rl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=On.get(h))&&Rd(t,i),d=s.createElement("script"),at(d),Vt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mv(t,i,s,l){var h=(h=Ee.current)?oc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=La(s.href),s=Yt(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=La(s.href);var d=Yt(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(il(t)))&&!d._p&&(_.instance=d,_.state.loading=5),On.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(t,s),d||kA(h,t,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ja(s),s=Yt(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function La(t){return'href="'+ct(t)+'"'}function il(t){return'link[rel="stylesheet"]['+t+"]"}function pv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function kA(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Vt(i,"link",s),at(i),t.head.appendChild(i))}function ja(t){return'[src="'+ct(t)+'"]'}function rl(t){return"script[async]"+t}function gv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ct(s.href)+'"]');if(l)return i.instance=l,at(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),at(l),Vt(l,"style",h),lc(l,s.precedence,t),i.instance=l;case"stylesheet":h=La(s.href);var d=t.querySelector(il(h));if(d)return i.state.loading|=4,i.instance=d,at(d),d;l=pv(s),(h=On.get(h))&&wd(l,h),d=(t.ownerDocument||t).createElement("link"),at(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Vt(d,"link",l),i.state.loading|=4,lc(d,s.precedence,t),i.instance=d;case"script":return d=ja(s.src),(h=t.querySelector(rl(d)))?(i.instance=h,at(h),h):(l=s,(h=On.get(d))&&(l=E({},s),Rd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),at(h),Vt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lc(l,s.precedence,t));return i.instance}function lc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Rd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var uc=null;function yv(t,i,s){if(uc===null){var l=new Map,h=uc=new Map;h.set(s,l)}else h=uc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Wr]||d[pt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function vv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function PA(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _v(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var sl=null;function VA(){}function UA(t,i,s){if(sl===null)throw Error(a(475));var l=sl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=La(s.href),d=t.querySelector(il(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=cc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,at(d);return}d=t.ownerDocument||t,s=pv(s),(h=On.get(h))&&wd(s,h),d=d.createElement("link"),at(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Vt(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=cc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function LA(){if(sl===null)throw Error(a(475));var t=sl;return t.stylesheets&&t.count===0&&Id(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Id(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hc=null;function Id(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hc=new Map,i.forEach(jA,t),hc=null,cc.call(t))}function jA(t,i){if(!(i.state.loading&4)){var s=hc.get(t);if(s)var l=s.get(null);else{s=new Map,hc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var al={$$typeof:W,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function zA(t,i,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ev(t,i,s,l,h,d,_,T,I,B,Q,J){return t=new zA(t,i,s,_,T,I,B,J),i=1,d===!0&&(i|=24),d=un(3,null,null,i),t.current=d,d.stateNode=t,i=lf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},ff(d),t}function Tv(t){return t?(t=ga,t):ga}function bv(t,i,s,l,h,d){h=Tv(h),l.context===null?l.context=h:l.pendingContext=h,l=ur(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=cr(t,l,i),s!==null&&(mn(s,t,i),Vo(s,t,i))}function Av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Cd(t,i){Av(t,i),(t=t.alternate)&&Av(t,i)}function Sv(t){if(t.tag===13){var i=pa(t,67108864);i!==null&&mn(i,t,67108864),Cd(t,67108864)}}var fc=!0;function BA(t,i,s,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=2,Od(t,i,s,l)}finally{oe.p=d,Y.T=h}}function HA(t,i,s,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=8,Od(t,i,s,l)}finally{oe.p=d,Y.T=h}}function Od(t,i,s,l){if(fc){var h=Nd(l);if(h===null)gd(t,i,l,dc,s),Rv(t,l);else if(FA(h,t,i,s,l))l.stopPropagation();else if(Rv(t,l),i&4&&-1<qA.indexOf(t)){for(;h!==null;){var d=$n(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Mn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-Bt(_);T.entanglements[1]|=I,_&=~I}oi(d),(Be&6)===0&&(Xu=yn()+500,Jo(0))}}break;case 13:T=pa(d,2),T!==null&&mn(T,d,2),Wu(),Cd(d,2)}if(d=Nd(l),d===null&&gd(t,i,l,dc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else gd(t,i,l,null,s)}}function Nd(t){return t=En(t),xd(t)}var dc=null;function xd(t){if(dc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return dc=t,null}function wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mh()){case io:return 2;case Ys:return 8;case $r:case kh:return 32;case Qs:return 268435456;default:return 32}default:return 32}}var Dd=!1,Ar=null,Sr=null,wr=null,ol=new Map,ll=new Map,Rr=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(t,i){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(i.pointerId)}}function ul(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=$n(i),i!==null&&Sv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function FA(t,i,s,l,h){switch(i){case"focusin":return Ar=ul(Ar,t,i,s,l,h),!0;case"dragenter":return Sr=ul(Sr,t,i,s,l,h),!0;case"mouseover":return wr=ul(wr,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return ol.set(d,ul(ol.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ll.set(d,ul(ll.get(d)||null,t,i,s,l,h)),!0}return!1}function Iv(t){var i=Ei(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,Wl(t.priority,function(){if(s.tag===13){var l=dn();l=er(l);var h=pa(s,l);h!==null&&mn(h,s,l),Cd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Nd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Si=l,s.target.dispatchEvent(l),Si=null}else return i=$n(s),i!==null&&Sv(i),t.blockedOn=s,!1;i.shift()}return!0}function Cv(t,i,s){mc(t)&&s.delete(i)}function GA(){Dd=!1,Ar!==null&&mc(Ar)&&(Ar=null),Sr!==null&&mc(Sr)&&(Sr=null),wr!==null&&mc(wr)&&(wr=null),ol.forEach(Cv),ll.forEach(Cv)}function pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Dd||(Dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GA)))}var gc=null;function Ov(t){gc!==t&&(gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===t&&(gc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(xd(l||s)===null)continue;break}var d=$n(s);d!==null&&(t.splice(i,3),i-=3,xf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function cl(t){function i(I){return pc(I,t)}Ar!==null&&pc(Ar,t),Sr!==null&&pc(Sr,t),wr!==null&&pc(wr,t),ol.forEach(i),ll.forEach(i);for(var s=0;s<Rr.length;s++){var l=Rr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Rr.length&&(s=Rr[0],s.blockedOn===null);)Iv(s),s.blockedOn===null&&Rr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[ut]||null;if(typeof d=="function")_||Ov(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ut]||null)T=_.formAction;else if(xd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Ov(s)}}}function Md(t){this._internalRoot=t}yc.prototype.render=Md.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=dn();bv(s,l,t,i,null,null)},yc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;bv(t.current,2,null,t,null,null),Wu(),i[vn]=null}};function yc(t){this._internalRoot=t}yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=tr();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Rr.length&&i!==0&&i<Rr[s].priority;s++);Rr.splice(s,0,t),s===0&&Iv(t)}};var Nv=e.version;if(Nv!=="19.1.0")throw Error(a(527,Nv,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var KA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{nt=vc.inject(KA),ze=vc}catch{}}return fl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Kg,d=$g,_=Yg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Ev(t,1,!1,null,null,s,l,h,d,_,T,null),t[vn]=i.current,pd(t),new Md(i)},fl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Kg,_=$g,T=Yg,I=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),i=Ev(t,1,!0,i,s??null,l,h,d,_,T,I,B),i.context=Tv(null),s=i.current,l=dn(),l=er(l),h=ur(l),h.callback=null,cr(s,h,l),s=l,i.current.lanes=s,_i(i,s),oi(i),t[vn]=i.current,pd(t),new yc(i)},fl.version="19.1.0",fl}var zv;function n1(){if(zv)return Vd.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=t1(),Vd.exports}var i1=n1();const r1=N0(i1);var dl={},Bv;function s1(){if(Bv)return dl;Bv=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.parse=f,dl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,U){const k=new u,$=A.length;if($<2)return k;const F=(U==null?void 0:U.decode)||E;let G=0;do{const ne=A.indexOf("=",G);if(ne===-1)break;const W=A.indexOf(";",G),ue=W===-1?$:W;if(ne>ue){G=A.lastIndexOf(";",ne-1)+1;continue}const ie=m(A,G,ne),pe=p(A,ne,ie),D=A.slice(ie,pe);if(k[D]===void 0){let w=m(A,ne+1,ue),R=p(A,ue,w);const N=F(A.slice(w,R));k[D]=N}G=ue+1}while(G<$);return k}function m(A,U,k){do{const $=A.charCodeAt(U);if($!==32&&$!==9)return U}while(++U<k);return k}function p(A,U,k){for(;U>k;){const $=A.charCodeAt(--U);if($!==32&&$!==9)return U+1}return k}function y(A,U,k){const $=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const F=$(U);if(!e.test(F))throw new TypeError(`argument val is invalid: ${U}`);let G=A+"="+F;if(!k)return G;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);G+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);G+="; Domain="+k.domain}if(k.path){if(!a.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);G+="; Path="+k.path}if(k.expires){if(!S(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);G+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(G+="; HttpOnly"),k.secure&&(G+="; Secure"),k.partitioned&&(G+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return G}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return o.call(A)==="[object Date]"}return dl}s1();var Hv="popstate";function a1(r={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return im("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Il(o)}return l1(e,n,null,r)}function Et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function hi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o1(){return Math.random().toString(36).substring(2,10)}function qv(r,e){return{usr:r.state,key:r.key,idx:e}}function im(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ul(e):e,state:n,key:e&&e.key||a||o1()}}function Il({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ul(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function l1(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let F=E(),G=F==null?null:F-y;y=F,p&&p({action:m,location:$.location,delta:G})}function A(F,G){m="PUSH";let ne=im($.location,F,G);y=E()+1;let W=qv(ne,y),ue=$.createHref(ne);try{f.pushState(W,"",ue)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ue)}u&&p&&p({action:m,location:$.location,delta:1})}function U(F,G){m="REPLACE";let ne=im($.location,F,G);y=E();let W=qv(ne,y),ue=$.createHref(ne);f.replaceState(W,"",ue),u&&p&&p({action:m,location:$.location,delta:0})}function k(F){return u1(F)}let $={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,S),p=F,()=>{o.removeEventListener(Hv,S),p=null}},createHref(F){return e(o,F)},createURL:k,encodeLocation(F){let G=k(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:U,go(F){return f.go(F)}};return $}function u1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Il(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function x0(r,e,n="/"){return c1(r,e,n,!1)}function c1(r,e,n,a){let o=typeof e=="string"?Ul(e):e,u=Qi(o.pathname||"/",n);if(u==null)return null;let f=D0(r);h1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=b1(u);m=E1(f[p],y,a)}return m}function D0(r,e=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=Gi([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),D0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:v1(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of M0(u.path))o(u,f,p)}),e}function M0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=M0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function h1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:_1(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var f1=/^:[\w-]+$/,d1=3,m1=2,p1=1,g1=10,y1=-2,Fv=r=>r==="*";function v1(r,e){let n=r.split("/"),a=n.length;return n.some(Fv)&&(a+=y1),e&&(a+=m1),n.filter(o=>!Fv(o)).reduce((o,u)=>o+(f1.test(u)?d1:u===""?p1:g1),a)}function _1(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function E1(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),A=p.route;if(!S&&y&&n&&!a[a.length-1].route.index&&(S=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Gi([u,S.pathname]),pathnameBase:R1(Gi([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Gi([u,S.pathnameBase]))}return f}function Uc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=T1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:S},A)=>{if(E==="*"){let k=m[A]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const U=m[A];return S&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function T1(r,e=!1,n=!0){hi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function b1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Qi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function A1(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Ul(r):r;return{pathname:n?n.startsWith("/")?n:S1(n,e):e,search:I1(a),hash:C1(o)}}function S1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zd(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k0(r){let e=w1(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function P0(r,e,n,a=!1){let o;typeof r=="string"?o=Ul(r):(o={...r},Et(!o.pathname||!o.pathname.includes("?"),zd("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),zd("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),zd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?e[S]:"/"}let p=A1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),R1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),I1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,C1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function O1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var V0=["POST","PUT","PATCH","DELETE"];new Set(V0);var N1=["GET",...V0];new Set(N1);var Wa=X.createContext(null);Wa.displayName="DataRouter";var ch=X.createContext(null);ch.displayName="DataRouterState";var U0=X.createContext({isTransitioning:!1});U0.displayName="ViewTransition";var x1=X.createContext(new Map);x1.displayName="Fetchers";var D1=X.createContext(null);D1.displayName="Await";var pi=X.createContext(null);pi.displayName="Navigation";var hh=X.createContext(null);hh.displayName="Location";var Wi=X.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var Om=X.createContext(null);Om.displayName="RouteError";function M1(r,{relative:e}={}){Et(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=X.useContext(pi),{hash:o,pathname:u,search:f}=jl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Gi([n,u])),a.createHref({pathname:m,search:f,hash:o})}function Ll(){return X.useContext(hh)!=null}function Bs(){return Et(Ll(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(hh).location}var L0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j0(r){X.useContext(pi).static||X.useLayoutEffect(r)}function k1(){let{isDataRoute:r}=X.useContext(Wi);return r?$1():P1()}function P1(){Et(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(Wa),{basename:e,navigator:n}=X.useContext(pi),{matches:a}=X.useContext(Wi),{pathname:o}=Bs(),u=JSON.stringify(k0(a)),f=X.useRef(!1);return j0(()=>{f.current=!0}),X.useCallback((p,y={})=>{if(hi(f.current,L0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=P0(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Gi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}X.createContext(null);function jl(r,{relative:e}={}){let{matches:n}=X.useContext(Wi),{pathname:a}=Bs(),o=JSON.stringify(k0(n));return X.useMemo(()=>P0(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function V1(r,e,n,a){Et(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=X.useContext(pi),{matches:u}=X.useContext(Wi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let G=E&&E.path||"";z0(p,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=Bs(),A;A=S;let U=A.pathname||"/",k=U;if(y!=="/"){let G=y.replace(/^\//,"").split("/");k="/"+U.replace(/^\//,"").split("/").slice(G.length).join("/")}let $=x0(r,{pathname:k});return hi(E||$!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),hi($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),B1($&&$.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Gi([y,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:Gi([y,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,a)}function U1(){let r=K1(),e=O1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:o},n):null,f)}var L1=X.createElement(U1,null),j1=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?X.createElement(Wi.Provider,{value:this.props.routeContext},X.createElement(Om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z1({routeContext:r,match:e,children:n}){let a=X.useContext(Wa);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Wi.Provider,{value:r},n)}function B1(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:S}=n,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,A=!1,U=null,k=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,U=y.route.errorElement||L1,f&&(m<0&&E===0?(z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):m===E&&(A=!0,k=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),F=()=>{let G;return S?G=U:A?G=k:y.route.Component?G=X.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=p,X.createElement(z1,{match:y,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?X.createElement(j1,{location:n.location,revalidation:n.revalidation,component:U,error:S,children:F(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):F()},null)}function Nm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H1(r){let e=X.useContext(Wa);return Et(e,Nm(r)),e}function q1(r){let e=X.useContext(ch);return Et(e,Nm(r)),e}function F1(r){let e=X.useContext(Wi);return Et(e,Nm(r)),e}function xm(r){let e=F1(r),n=e.matches[e.matches.length-1];return Et(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function G1(){return xm("useRouteId")}function K1(){var a;let r=X.useContext(Om),e=q1("useRouteError"),n=xm("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function $1(){let{router:r}=H1("useNavigate"),e=xm("useNavigate"),n=X.useRef(!1);return j0(()=>{n.current=!0}),X.useCallback(async(o,u={})=>{hi(n.current,L0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Gv={};function z0(r,e,n){!e&&!Gv[r]&&(Gv[r]=!0,hi(!1,n))}X.memo(Y1);function Y1({routes:r,future:e,state:n}){return V1(r,void 0,n,e)}function Q1({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Et(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ul(n));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:A="default"}=n,U=X.useMemo(()=>{let k=Qi(p,f);return k==null?null:{location:{pathname:k,search:y,hash:E,state:S,key:A},navigationType:a}},[f,p,y,E,S,A,a]);return hi(U!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:X.createElement(pi.Provider,{value:m},X.createElement(hh.Provider,{children:e,value:U}))}var Ic="get",Cc="application/x-www-form-urlencoded";function fh(r){return r!=null&&typeof r.tagName=="string"}function X1(r){return fh(r)&&r.tagName.toLowerCase()==="button"}function Z1(r){return fh(r)&&r.tagName.toLowerCase()==="form"}function W1(r){return fh(r)&&r.tagName.toLowerCase()==="input"}function J1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function eS(r,e){return r.button===0&&(!e||e==="_self")&&!J1(r)}var _c=null;function tS(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var nS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bd(r){return r!=null&&!nS.has(r)?(hi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):r}function iS(r,e){let n,a,o,u,f;if(Z1(r)){let m=r.getAttribute("action");a=m?Qi(m,e):null,n=r.getAttribute("method")||Ic,o=Bd(r.getAttribute("enctype"))||Cc,u=new FormData(r)}else if(X1(r)||W1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?Qi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ic,o=Bd(r.getAttribute("formenctype"))||Bd(m.getAttribute("enctype"))||Cc,u=new FormData(m,r),!tS()){let{name:y,type:E,value:S}=r;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,S)}}else{if(fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ic,a=null,o=Cc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Dm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function rS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function aS(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await rS(u,n);return f.links?f.links():[]}return[]}));return cS(a.flat(1).filter(sS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kv(r,e,n,a,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var S;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function oS(r,e,{includeHydrateFallback:n}={}){return lS(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lS(r){return[...new Set(r)]}function uS(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function cS(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(uS(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hS=new Set([100,101,204,205]);function fS(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Qi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function B0(){let r=X.useContext(Wa);return Dm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function dS(){let r=X.useContext(ch);return Dm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Mm=X.createContext(void 0);Mm.displayName="FrameworkContext";function H0(){let r=X.useContext(Mm);return Dm(r,"You must render this element inside a <HydratedRouter> element"),r}function mS(r,e){let n=X.useContext(Mm),[a,o]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,A=X.useRef(null);X.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=G=>{G.forEach(ne=>{f(ne.isIntersecting)})},F=new IntersectionObserver($,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[r]),X.useEffect(()=>{if(a){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[a]);let U=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:ml(m,U),onBlur:ml(p,k),onMouseEnter:ml(y,U),onMouseLeave:ml(E,k),onTouchStart:ml(S,U)}]:[!1,A,{}]}function ml(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function pS({page:r,...e}){let{router:n}=B0(),a=X.useMemo(()=>x0(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?X.createElement(yS,{page:r,matches:a,...e}):null}function gS(r){let{manifest:e,routeModules:n}=H0(),[a,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return aS(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function yS({page:r,matches:e,...n}){let a=Bs(),{manifest:o,routeModules:u}=H0(),{basename:f}=B0(),{loaderData:m,matches:p}=dS(),y=X.useMemo(()=>Kv(r,e,p,o,a,"data"),[r,e,p,o,a]),E=X.useMemo(()=>Kv(r,e,p,o,a,"assets"),[r,e,p,o,a]),S=X.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let k=new Set,$=!1;if(e.forEach(G=>{var W;let ne=o.routes[G.route.id];!ne||!ne.hasLoader||(!y.some(ue=>ue.route.id===G.route.id)&&G.route.id in m&&((W=u[G.route.id])!=null&&W.shouldRevalidate)||ne.hasClientLoader?$=!0:k.add(G.route.id))}),k.size===0)return[];let F=fS(r,f);return $&&k.size>0&&F.searchParams.set("_routes",e.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[f,m,a,o,y,e,r,u]),A=X.useMemo(()=>oS(E,o),[E,o]),U=gS(E);return X.createElement(X.Fragment,null,S.map(k=>X.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),A.map(k=>X.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),U.map(({key:k,link:$})=>X.createElement("link",{key:k,...$})))}function vS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q0&&(window.__reactRouterVersion="7.6.1")}catch{}function _S({basename:r,children:e,window:n}){let a=X.useRef();a.current==null&&(a.current=a1({window:n,v5Compat:!0}));let o=a.current,[u,f]=X.useState({action:o.action,location:o.location}),m=X.useCallback(p=>{X.startTransition(()=>f(p))},[f]);return X.useLayoutEffect(()=>o.listen(m),[o,m]),X.createElement(Q1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var F0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G0=X.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...A},U){let{basename:k}=X.useContext(pi),$=typeof y=="string"&&F0.test(y),F,G=!1;if(typeof y=="string"&&$&&(F=y,q0))try{let R=new URL(window.location.href),N=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=Qi(N.pathname,k);N.origin===R.origin&&M!=null?y=M+N.search+N.hash:G=!0}catch{hi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=M1(y,{relative:o}),[W,ue,ie]=mS(a,A),pe=AS(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function D(R){e&&e(R),R.defaultPrevented||pe(R)}let w=X.createElement("a",{...A,...ie,href:F||ne,onClick:G||u?e:D,ref:vS(U,ue),target:p,"data-discover":!$&&n==="render"?"true":void 0});return W&&!$?X.createElement(X.Fragment,null,w,X.createElement(pS,{page:ne})):w});G0.displayName="Link";var ES=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let S=jl(f,{relative:y.relative}),A=Bs(),U=X.useContext(ch),{navigator:k,basename:$}=X.useContext(pi),F=U!=null&&CS(S)&&m===!0,G=k.encodeLocation?k.encodeLocation(S).pathname:S.pathname,ne=A.pathname,W=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),W=W?W.toLowerCase():null,G=G.toLowerCase()),W&&$&&(W=Qi(W,$)||W);const ue=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ie=ne===G||!o&&ne.startsWith(G)&&ne.charAt(ue)==="/",pe=W!=null&&(W===G||!o&&W.startsWith(G)&&W.charAt(G.length)==="/"),D={isActive:ie,isPending:pe,isTransitioning:F},w=ie?e:void 0,R;typeof a=="function"?R=a(D):R=[a,ie?"active":null,pe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(D):u;return X.createElement(G0,{...y,"aria-current":w,className:R,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(D):p)});ES.displayName="NavLink";var TS=X.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Ic,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...A},U)=>{let k=RS(),$=IS(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&F0.test(m),ne=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ue=W.nativeEvent.submitter,ie=(ue==null?void 0:ue.getAttribute("formmethod"))||f;k(ue||W.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return X.createElement("form",{ref:U,method:F,action:$,onSubmit:a?p:ne,...A,"data-discover":!G&&r==="render"?"true":void 0})});TS.displayName="Form";function bS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K0(r){let e=X.useContext(Wa);return Et(e,bS(r)),e}function AS(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=k1(),p=Bs(),y=jl(r,{relative:u});return X.useCallback(E=>{if(eS(E,e)){E.preventDefault();let S=n!==void 0?n:Il(p)===Il(y);m(r,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,a,e,r,o,u,f])}var SS=0,wS=()=>`__${String(++SS)}__`;function RS(){let{router:r}=K0("useSubmit"),{basename:e}=X.useContext(pi),n=G1();return X.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=iS(a,e);if(o.navigate===!1){let E=o.fetcherKey||wS();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function IS(r,{relative:e}={}){let{basename:n}=X.useContext(pi),a=X.useContext(Wi);Et(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...jl(r||".",{relative:e})},f=Bs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gi([n,u.pathname])),Il(u)}function CS(r,e={}){let n=X.useContext(U0);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=K0("useViewTransitionState"),o=jl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Qi(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Qi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Uc(o.pathname,f)!=null||Uc(o.pathname,u)!=null}[...hS];const OS=()=>{};var $v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},NS=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,U=y&63;p||(U=64,f||(A=64)),a.push(n[E],n[S],n[A],n[U])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):NS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new xS;const A=u<<2|m>>4;if(a.push(A),y!==64){const U=m<<4&240|y>>2;if(a.push(U),S!==64){const k=y<<6&192|S;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DS=function(r){const e=$0(r);return Y0.encodeByteArray(e,!0)},Lc=function(r){return DS(r).replace(/\./g,"")},Q0=function(r){try{return Y0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=()=>MS().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof $v>"u")return;const r=$v.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},VS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Q0(r[1]);return e&&JSON.parse(e)},dh=()=>{try{return OS()||kS()||PS()||VS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},X0=r=>{var e,n;return(n=(e=dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Z0=r=>{const e=X0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},W0=()=>{var r;return(r=dh())===null||r===void 0?void 0:r.config},J0=r=>{var e;return(e=dh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(r){return r.endsWith(".cloudworkstations.dev")}async function km(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(f)),""].join(".")}const _l={};function LS(){const r={prod:[],emulator:[]};for(const e of Object.keys(_l))_l[e]?r.emulator.push(e):r.prod.push(e);return r}function jS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Yv=!1;function Pm(r,e){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||_l[r]===e||_l[r]||Yv)return;_l[r]=e;function n(A){return`__firebase__banner__${A}`}const a="__firebase__banner",u=LS().prod.length>0;function f(){const A=document.getElementById(a);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,U){A.setAttribute("width","24"),A.setAttribute("id",U),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Yv=!0,f()},A}function E(A,U){A.setAttribute("id",U),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=jS(a),U=n("text"),k=document.getElementById(U)||document.createElement("span"),$=n("learnmore"),F=document.getElementById($)||document.createElement("a"),G=n("preprendIcon"),ne=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const W=A.element;m(W),E(F,$);const ue=y();p(ne,G),W.append(ne,k,F,ue),document.body.appendChild(W)}u?(k.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function BS(){var r;const e=(r=dh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FS(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GS(){return!BS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nE(){try{return typeof indexedDB=="object"}catch{return!1}}function iE(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function KS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="FirebaseError";class Dn extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=$S,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hs.prototype.create)}}class Hs{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?YS(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Dn(o,m,a)}}function YS(r,e){return r.replace(QS,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const QS=/\{\$([^}]+)}/g;function XS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Pr(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(Qv(u)&&Qv(f)){if(!Pr(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Qv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function gl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function yl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function ZS(r,e){const n=new WS(r,e);return n.subscribe.bind(n)}class WS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");JS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Hd),o.error===void 0&&(o.error=Hd),o.complete===void 0&&(o.complete=Hd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=1e3,tw=2,nw=4*60*60*1e3,iw=.5;function Xv(r,e=ew,n=tw){const a=e*Math.pow(n,r),o=Math.round(iw*a*(Math.random()-.5)*2);return Math.min(nw,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r){return r&&r._delegate?r._delegate:r}class xn{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new US;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aw(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sw(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sw(r){return r===Is?void 0:r}function aw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const lw={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},uw=Ne.INFO,cw={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},hw=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=cw[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mh{constructor(e){this.name=e,this._logLevel=uw,this._logHandler=hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const fw=(r,e)=>e.some(n=>r instanceof n);let Zv,Wv;function dw(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mw(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,rm=new WeakMap,sE=new WeakMap,qd=new WeakMap,Vm=new WeakMap;function pw(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Mr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&rE.set(n,r)}).catch(()=>{}),Vm.set(e,r),e}function gw(r){if(rm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});rm.set(r,e)}let sm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return rm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yw(r){sm=r(sm)}function vw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Fd(this),e,...n);return sE.set(a,e.sort?e.sort():[e]),Mr(a)}:mw().includes(r)?function(...e){return r.apply(Fd(this),e),Mr(rE.get(this))}:function(...e){return Mr(r.apply(Fd(this),e))}}function _w(r){return typeof r=="function"?vw(r):(r instanceof IDBTransaction&&gw(r),fw(r,dw())?new Proxy(r,sm):r)}function Mr(r){if(r instanceof IDBRequest)return pw(r);if(qd.has(r))return qd.get(r);const e=_w(r);return e!==r&&(qd.set(r,e),Vm.set(e,r)),e}const Fd=r=>Vm.get(r);function aE(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Mr(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Mr(f.result),p.oldVersion,p.newVersion,Mr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Ew=["get","getKey","getAll","getAllKeys","count"],Tw=["put","add","delete","clear"],Gd=new Map;function Jv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Tw.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Ew.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Gd.set(e,u),u}yw(r=>({...r,get:(e,n,a)=>Jv(e,n)||r.get(e,n,a),has:(e,n)=>!!Jv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Aw(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Aw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const am="@firebase/app",e_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new mh("@firebase/app"),Sw="@firebase/app-compat",ww="@firebase/analytics-compat",Rw="@firebase/analytics",Iw="@firebase/app-check-compat",Cw="@firebase/app-check",Ow="@firebase/auth",Nw="@firebase/auth-compat",xw="@firebase/database",Dw="@firebase/data-connect",Mw="@firebase/database-compat",kw="@firebase/functions",Pw="@firebase/functions-compat",Vw="@firebase/installations",Uw="@firebase/installations-compat",Lw="@firebase/messaging",jw="@firebase/messaging-compat",zw="@firebase/performance",Bw="@firebase/performance-compat",Hw="@firebase/remote-config",qw="@firebase/remote-config-compat",Fw="@firebase/storage",Gw="@firebase/storage-compat",Kw="@firebase/firestore",$w="@firebase/ai",Yw="@firebase/firestore-compat",Qw="firebase",Xw="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",Zw={[am]:"fire-core",[Sw]:"fire-core-compat",[Rw]:"fire-analytics",[ww]:"fire-analytics-compat",[Cw]:"fire-app-check",[Iw]:"fire-app-check-compat",[Ow]:"fire-auth",[Nw]:"fire-auth-compat",[xw]:"fire-rtdb",[Dw]:"fire-data-connect",[Mw]:"fire-rtdb-compat",[kw]:"fire-fn",[Pw]:"fire-fn-compat",[Vw]:"fire-iid",[Uw]:"fire-iid-compat",[Lw]:"fire-fcm",[jw]:"fire-fcm-compat",[zw]:"fire-perf",[Bw]:"fire-perf-compat",[Hw]:"fire-rc",[qw]:"fire-rc-compat",[Fw]:"fire-gcs",[Gw]:"fire-gcs-compat",[Kw]:"fire-fst",[Yw]:"fire-fst-compat",[$w]:"fire-vertex","fire-js":"fire-js",[Qw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,Ww=new Map,lm=new Map;function t_(r,e){try{r.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function qn(r){const e=r.name;if(lm.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,r);for(const n of jc.values())t_(n,r);for(const n of Ww.values())t_(n,r);return!0}function zr(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Hs("app","Firebase",Jw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=Xw;function oE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:om,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw kr.create("bad-app-name",{appName:String(o)});if(n||(n=W0()),!n)throw kr.create("no-options");const u=jc.get(o);if(u){if(Pr(n,u.options)&&Pr(a,u.config))return u;throw kr.create("duplicate-app",{appName:o})}const f=new ow(o);for(const p of lm.values())f.addComponent(p);const m=new eR(n,a,f);return jc.set(o,m),m}function ph(r=om){const e=jc.get(r);if(!e&&r===om&&W0())return oE();if(!e)throw kr.create("no-app",{appName:r});return e}function nn(r,e,n){var a;let o=(a=Zw[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(m.join(" "));return}qn(new xn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebase-heartbeat-database",nR=1,Cl="firebase-heartbeat-store";let Kd=null;function lE(){return Kd||(Kd=aE(tR,nR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function iR(r){try{const n=(await lE()).transaction(Cl),a=await n.objectStore(Cl).get(uE(r));return await n.done,a}catch(e){if(e instanceof Dn)Xi.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function n_(r,e){try{const a=(await lE()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(e,uE(r)),await a.done}catch(n){if(n instanceof Dn)Xi.warn(n.message);else{const a=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(a.message)}}}function uE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=1024,sR=30;class aR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=i_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>sR){const f=uR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Xi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i_(),{heartbeatsToSend:a,unsentEntries:o}=oR(this._heartbeatsCache.heartbeats),u=Lc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Xi.warn(n),""}}}function i_(){return new Date().toISOString().substring(0,10)}function oR(r,e=rR){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),r_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),r_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class lR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nE()?iE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return n_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return n_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function r_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function uR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r){qn(new xn("platform-logger",e=>new bw(e),"PRIVATE")),qn(new xn("heartbeat",e=>new aR(e),"PRIVATE")),nn(am,e_,r),nn(am,e_,"esm2017"),nn("fire-js","")}cR("");var hR="firebase",fR="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn(hR,fR,"app");const cE="@firebase/installations",Um="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=1e4,fE=`w:${Um}`,dE="FIS_v2",dR="https://firebaseinstallations.googleapis.com/v1",mR=60*60*1e3,pR="installations",gR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ms=new Hs(pR,gR,yR);function mE(r){return r instanceof Dn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE({projectId:r}){return`${dR}/projects/${r}/installations`}function gE(r){return{token:r.token,requestStatus:2,expiresIn:_R(r.expiresIn),creationTime:Date.now()}}async function yE(r,e){const a=(await e.json()).error;return Ms.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function vE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function vR(r,{refreshToken:e}){const n=vE(r);return n.append("Authorization",ER(e)),n}async function _E(r){const e=await r();return e.status>=500&&e.status<600?r():e}function _R(r){return Number(r.replace("s","000"))}function ER(r){return`${dE} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const a=pE(r),o=vE(r),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:dE,appId:r.appId,sdkVersion:fE},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await _E(()=>fetch(a,m));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:gE(y.authToken)}}else throw await yE("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=/^[cdef][\w-]{21}$/,um="";function SR(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=wR(r);return AR.test(n)?n:um}catch{return um}}function wR(r){return bR(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;function bE(r,e){const n=gh(r);AE(n,e),RR(n,e)}function AE(r,e){const n=TE.get(r);if(n)for(const a of n)a(e)}function RR(r,e){const n=IR();n&&n.postMessage({key:r,fid:e}),CR()}let Cs=null;function IR(){return!Cs&&"BroadcastChannel"in self&&(Cs=new BroadcastChannel("[Firebase] FID Change"),Cs.onmessage=r=>{AE(r.data.key,r.data.fid)}),Cs}function CR(){TE.size===0&&Cs&&(Cs.close(),Cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="firebase-installations-database",NR=1,ks="firebase-installations-store";let $d=null;function Lm(){return $d||($d=aE(OR,NR,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ks)}}})),$d}async function zc(r,e){const n=gh(r),o=(await Lm()).transaction(ks,"readwrite"),u=o.objectStore(ks),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&bE(r,e.fid),e}async function SE(r){const e=gh(r),a=(await Lm()).transaction(ks,"readwrite");await a.objectStore(ks).delete(e),await a.done}async function yh(r,e){const n=gh(r),o=(await Lm()).transaction(ks,"readwrite"),u=o.objectStore(ks),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&bE(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(r){let e;const n=await yh(r.appConfig,a=>{const o=xR(a),u=DR(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===um?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function xR(r){const e=r||{fid:SR(),registrationStatus:0};return wE(e)}function DR(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ms.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=MR(r,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kR(r)}:{installationEntry:e}}async function MR(r,e){try{const n=await TR(r,e);return zc(r.appConfig,n)}catch(n){throw mE(n)&&n.customData.serverCode===409?await SE(r.appConfig):await zc(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kR(r){let e=await s_(r.appConfig);for(;e.registrationStatus===1;)await EE(100),e=await s_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await jm(r);return a||n}return e}function s_(r){return yh(r,e=>{if(!e)throw Ms.create("installation-not-found");return wE(e)})}function wE(r){return PR(r)?{fid:r.fid,registrationStatus:0}:r}function PR(r){return r.registrationStatus===1&&r.registrationTime+hE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR({appConfig:r,heartbeatServiceProvider:e},n){const a=UR(r,n),o=vR(r,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:fE,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await _E(()=>fetch(a,m));if(p.ok){const y=await p.json();return gE(y)}else throw await yE("Generate Auth Token",p)}function UR(r,{fid:e}){return`${pE(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(r,e=!1){let n;const a=await yh(r.appConfig,u=>{if(!RE(u))throw Ms.create("not-registered");const f=u.authToken;if(!e&&zR(f))return u;if(f.requestStatus===1)return n=LR(r,e),u;{if(!navigator.onLine)throw Ms.create("app-offline");const m=HR(u);return n=jR(r,m),m}});return n?await n:a.authToken}async function LR(r,e){let n=await a_(r.appConfig);for(;n.authToken.requestStatus===1;)await EE(100),n=await a_(r.appConfig);const a=n.authToken;return a.requestStatus===0?zm(r,e):a}function a_(r){return yh(r,e=>{if(!RE(e))throw Ms.create("not-registered");const n=e.authToken;return qR(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function jR(r,e){try{const n=await VR(r,e),a=Object.assign(Object.assign({},e),{authToken:n});return await zc(r.appConfig,a),n}catch(n){if(mE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await SE(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await zc(r.appConfig,a)}throw n}}function RE(r){return r!==void 0&&r.registrationStatus===2}function zR(r){return r.requestStatus===2&&!BR(r)}function BR(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+mR}function HR(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function qR(r){return r.requestStatus===1&&r.requestTime+hE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(r){const e=r,{installationEntry:n,registrationPromise:a}=await jm(e);return a?a.catch(console.error):zm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(r,e=!1){const n=r;return await KR(n),(await zm(n,e)).token}async function KR(r){const{registrationPromise:e}=await jm(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(r){if(!r||!r.options)throw Yd("App Configuration");if(!r.name)throw Yd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Yd(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Yd(r){return Ms.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="installations",YR="installations-internal",QR=r=>{const e=r.getProvider("app").getImmediate(),n=$R(e),a=zr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},XR=r=>{const e=r.getProvider("app").getImmediate(),n=zr(e,IE).getImmediate();return{getId:()=>FR(n),getToken:o=>GR(n,o)}};function ZR(){qn(new xn(IE,QR,"PUBLIC")),qn(new xn(YR,XR,"PRIVATE"))}ZR();nn(cE,Um);nn(cE,Um,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="analytics",WR="firebase_id",JR="origin",eI=60*1e3,tI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new mh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new Hs("analytics","Analytics",nI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(r){if(!r.startsWith(Bm)){const e=gn.create("invalid-gtag-resource",{gtagURL:r});return rn.warn(e.message),""}return r}function CE(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function rI(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function sI(r,e){const n=rI("firebase-js-sdk-policy",{createScriptURL:iI}),a=document.createElement("script"),o=`${Bm}?l=${r}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function aI(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function oI(r,e,n,a,o,u){const f=a[o];try{if(f)await e[f];else{const p=(await CE(n)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){rn.error(m)}r("config",o,u)}async function lI(r,e,n,a,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await CE(n);for(const p of f){const y=m.find(S=>S.measurementId===p),E=y&&e[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,o||{})}catch(u){rn.error(u)}}function uI(r,e,n,a){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await lI(r,e,n,m,p)}else if(u==="config"){const[m,p]=f;await oI(r,e,n,a,m,p)}else if(u==="consent"){const[m,p]=f;r("consent",m,p)}else if(u==="get"){const[m,p,y]=f;r("get",m,p,y)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){rn.error(m)}}return o}function cI(r,e,n,a,o){let u=function(...f){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=uI(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function hI(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Bm)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=30,dI=1e3;class mI{constructor(e={},n=dI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const OE=new mI;function pI(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function gI(r){var e;const{appId:n,apiKey:a}=r,o={method:"GET",headers:pI(a)},u=tI.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function yI(r,e=OE,n){const{appId:a,apiKey:o,measurementId:u}=r.options;if(!a)throw gn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw gn.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new EI;return setTimeout(async()=>{m.abort()},eI),NE({appId:a,apiKey:o,measurementId:u},f,m,e)}async function NE(r,{throttleEndTimeMillis:e,backoffCount:n},a,o=OE){var u;const{appId:f,measurementId:m}=r;try{await vI(a,e)}catch(p){if(m)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await gI(r);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!_I(y)){if(o.deleteThrottleMetadata(f),m)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=y==null?void 0:y.customData)===null||u===void 0?void 0:u.httpStatus)===503?Xv(n,o.intervalMillis,fI):Xv(n,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,S),rn.debug(`Calling attemptFetch again in ${E} millis`),NE(r,S,a,o)}}function vI(r,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),a(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _I(r){if(!(r instanceof Dn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class EI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TI(r,e,n,a,o){if(o&&o.global){r("event",n,a);return}else{const u=await e,f=Object.assign(Object.assign({},a),{send_to:u});r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(){if(nE())try{await iE()}catch(r){return rn.warn(gn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return rn.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AI(r,e,n,a,o,u,f){var m;const p=yI(r);p.then(U=>{n[U.measurementId]=U.appId,r.options.measurementId&&U.measurementId!==r.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>rn.error(U)),e.push(p);const y=bI().then(U=>{if(U)return a.getId()}),[E,S]=await Promise.all([p,y]);hI(u)||sI(u,E.measurementId),o("js",new Date);const A=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return A[JR]="firebase",A.update=!0,S!=null&&(A[WR]=S),o("config",E.measurementId,A),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.app=e}_delete(){return delete El[this.app.options.appId],Promise.resolve()}}let El={},o_=[];const l_={};let Qd="dataLayer",wI="gtag",u_,xE,c_=!1;function RI(){const r=[];if(tE()&&r.push("This is a browser extension environment."),KS()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=gn.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function II(r,e,n){RI();const a=r.options.appId;if(!a)throw gn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(El[a]!=null)throw gn.create("already-exists",{id:a});if(!c_){aI(Qd);const{wrappedGtag:u,gtagCore:f}=cI(El,o_,l_,Qd,wI);xE=u,u_=f,c_=!0}return El[a]=AI(r,o_,l_,e,u_,Qd,n),new SI(r)}function CI(r=ph()){r=Nt(r);const e=zr(r,Bc);return e.isInitialized()?e.getImmediate():OI(r)}function OI(r,e={}){const n=zr(r,Bc);if(n.isInitialized()){const o=n.getImmediate();if(Pr(e,n.getOptions()))return o;throw gn.create("already-initialized")}return n.initialize({options:e})}function NI(r,e,n,a){r=Nt(r),TI(xE,El[r.app.options.appId],e,n,a).catch(o=>rn.error(o))}const h_="@firebase/analytics",f_="0.10.16";function xI(){qn(new xn(Bc,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return II(a,o,n)},"PUBLIC")),qn(new xn("analytics-internal",r,"PRIVATE")),nn(h_,f_),nn(h_,f_,"esm2017");function r(e){try{const n=e.getProvider(Bc).getImmediate();return{logEvent:(a,o,u)=>NI(n,a,o,u)}}catch(n){throw gn.create("interop-component-reg-failed",{reason:n})}}}xI();function Hm(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function DE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DI=DE,ME=new Hs("auth","Firebase",DE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new mh("@firebase/auth");function MI(r,...e){Hc.logLevel<=Ne.WARN&&Hc.warn(`Auth (${qs}): ${r}`,...e)}function Oc(r,...e){Hc.logLevel<=Ne.ERROR&&Hc.error(`Auth (${qs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(r,...e){throw qm(r,...e)}function ui(r,...e){return qm(r,...e)}function kE(r,e,n){const a=Object.assign(Object.assign({},DI()),{[e]:n});return new Hs("auth","Firebase",a).create(e,{appName:r.name})}function Ki(r){return kE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return ME.create(r,...e)}function ve(r,e,...n){if(!r)throw qm(e,...n)}function qi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function Zi(r,e){r||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function kI(){return d_()==="http:"||d_()==="https:"}function d_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kI()||tE()||"connection"in navigator)?navigator.onLine:!0}function VI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zi(n>e,"Short delay should be less than long delay!"),this.isMobile=zS()||qS()}get(){return PI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(r,e){Zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jI=new Bl(3e4,6e4);function Br(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Hr(r,e,n,a,o={}){return VE(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=zl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return HS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ja(r.emulatorConfig.host)&&(y.credentials="include"),PE.fetch()(await UE(r,r.config.apiHost,n,m),y)})}async function VE(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},UI),e);try{const o=new BI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ec(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ec(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kE(r,E,y);Fn(r,E)}}catch(o){if(o instanceof Dn)throw o;Fn(r,"network-request-failed",{message:String(o)})}}async function Hl(r,e,n,a,o={}){const u=await Hr(r,e,n,a,o);return"mfaPendingCredential"in u&&Fn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function UE(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?Fm(r.config,o):`${r.config.apiScheme}://${o}`;return LI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function zI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ui(this.auth,"network-request-failed")),jI.get())})}}function Ec(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ui(r,e,a);return o.customData._tokenResponse=n,o}function m_(r){return r!==void 0&&r.enterprise!==void 0}class HI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qI(r,e){return Hr(r,"GET","/v2/recaptchaConfig",Br(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,e){return Hr(r,"POST","/v1/accounts:delete",e)}async function qc(r,e){return Hr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GI(r,e=!1){const n=Nt(r),a=await n.getIdToken(e),o=Gm(a);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Tl(Xd(o.auth_time)),issuedAtTime:Tl(Xd(o.iat)),expirationTime:Tl(Xd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xd(r){return Number(r)*1e3}function Gm(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q0(n);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function p_(r){const e=Gm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Dn&&KI(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function KI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Ol(r,qc(n,{idToken:a}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?LE(u.providerUserInfo):[],m=QI(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new hm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function YI(r){const e=Nt(r);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QI(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function LE(r){return r.map(e=>{var{providerId:n}=e,a=Hm(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(r,e){const n=await VE(r,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await UE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",PE.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZI(r,e){return Hr(r,"POST","/v2/accounts:revokeToken",Br(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=p_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await XI(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new qa;return a&&(ve(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class zn{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=Hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new hm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GI(this,e)}reload(){return YI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Fc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await Ol(this,FI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,p,y,E;const S=(a=n.displayName)!==null&&a!==void 0?a:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,U=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:W,emailVerified:ue,isAnonymous:ie,providerData:pe,stsTokenManager:D}=n;ve(W&&D,e,"internal-error");const w=qa.fromJSON(this.name,D);ve(typeof W=="string",e,"internal-error"),Cr(S,e.name),Cr(A,e.name),ve(typeof ue=="boolean",e,"internal-error"),ve(typeof ie=="boolean",e,"internal-error"),Cr(U,e.name),Cr(k,e.name),Cr($,e.name),Cr(F,e.name),Cr(G,e.name),Cr(ne,e.name);const R=new zn({uid:W,auth:e,email:A,emailVerified:ue,displayName:S,isAnonymous:ie,photoURL:k,phoneNumber:U,tenantId:$,stsTokenManager:w,createdAt:G,lastLoginAt:ne});return pe&&Array.isArray(pe)&&(R.providerData=pe.map(N=>Object.assign({},N))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(e,n,a=!1){const o=new qa;o.updateFromServerResponse(n);const u=new zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Fc(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new qa;m.updateFromIdToken(a);const p=new zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;function Fi(r){Zi(r instanceof Function,"Expected a class definition");let e=g_.get(r);return e?(Zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,g_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jE.type="NONE";const y_=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r,e,n){return`firebase:${r}:${e}:${n}`}class Fa{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qc(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Fa(Fi(y_),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Fi(y_);const f=Nc(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const A=await qc(e,{idToken:E}).catch(()=>{});if(!A)break;S=await zn._fromGetAccountInfoResponse(e,A,E)}else S=zn._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Fa(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Fa(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GE(e))return"Blackberry";if(KE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||HE(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function zE(r=$t()){return/firefox\//i.test(r)}function BE(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HE(r=$t()){return/crios\//i.test(r)}function qE(r=$t()){return/iemobile/i.test(r)}function FE(r=$t()){return/android/i.test(r)}function GE(r=$t()){return/blackberry/i.test(r)}function KE(r=$t()){return/webos/i.test(r)}function Km(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function WI(r=$t()){var e;return Km(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JI(){return FS()&&document.documentMode===10}function $E(r=$t()){return Km(r)||FE(r)||KE(r)||GE(r)||/windows phone/i.test(r)||qE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r,e=[]){let n;switch(r){case"Browser":n=v_($t());break;case"Worker":n=`${v_($t())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qs}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,e={}){return Hr(r,"GET","/v2/passwordPolicy",Br(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=6;class i2{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:n2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new e2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qc(this,{idToken:e}),a=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(Ki(this));const n=e?Nt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t2(this),n=new i2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hs("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await ZI(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fs(r){return Nt(r)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZS(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s2(r){vh=r}function QE(r){return vh.loadJS(r)}function a2(){return vh.recaptchaEnterpriseScript}function o2(){return vh.gapiScript}function l2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class u2{constructor(){this.enterprise=new c2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class c2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const h2="recaptcha-enterprise",XE="NO_RECAPTCHA";class f2{constructor(e){this.type=h2,this.auth=Fs(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{qI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new HI(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;m_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(XE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new u2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&m_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=a2();p.length!==0&&(p+=m),QE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function E_(r,e,n,a=!1,o=!1){const u=new f2(r);let f;if(o)f=XE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fm(r,e,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await E_(r,e,n,n==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await E_(r,e,n,n==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(r,e){const n=zr(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Pr(u,e??{}))return o;Fn(o,"already-initialized")}return n.initialize({options:e})}function m2(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function p2(r,e,n){const a=Fs(r);ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=ZE(e),{host:f,port:m}=g2(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ve(Pr(y,a.config.emulator)&&Pr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Ja(f)?(km(`${u}//${f}${p}`),Pm("Auth",!0)):y2()}function ZE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function g2(r){const e=ZE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:T_(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:T_(f)}}}function T_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function y2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function v2(r,e){return Hr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(r,e){return Hl(r,"POST","/v1/accounts:signInWithPassword",Br(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(r,e){return Hl(r,"POST","/v1/accounts:signInWithEmailLink",Br(r,e))}async function T2(r,e){return Hl(r,"POST","/v1/accounts:signInWithEmailLink",Br(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends $m{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Nl(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Nl(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,n,"signInWithPassword",_2);case"emailLink":return E2(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,a,"signUpPassword",v2);case"emailLink":return T2(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,e){return Hl(r,"POST","/v1/accounts:signInWithIdp",Br(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="http://localhost";class Ps extends $m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=Hm(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new Ps(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ga(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Ga(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ga(e,n)}buildRequest(){const e={requestUri:b2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S2(r){const e=gl(yl(r)).link,n=e?gl(yl(e)).deep_link_id:null,a=gl(yl(r)).deep_link_id;return(a?gl(yl(a)).link:null)||a||n||e||r}class Ym{constructor(e){var n,a,o,u,f,m;const p=gl(yl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,S=A2((o=p.mode)!==null&&o!==void 0?o:null);ve(y&&E&&S,"argument-error"),this.apiKey=y,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=S2(e);try{return new Ym(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return Nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Ym.parseLink(n);return ve(a,"argument-error"),Nl._fromEmailAndCode(e,a.code,a.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends WE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends ql{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Nr.credential(n,a)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends ql{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends ql{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Dr.credential(n,a)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(r,e){return Hl(r,"POST","/v1/accounts:signUp",Br(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await zn._fromIdTokenResponse(e,a,o),f=b_(a);return new Vs({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=b_(a);return new Vs({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function b_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Dn{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Gc(e,n,a,o)}}function JE(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,u,e,a):u})}async function R2(r,e,n=!1){const a=await Ol(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Vs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r,e,n=!1){const{auth:a}=r;if(pn(a.app))return Promise.reject(Ki(a));const o="reauthenticate";try{const u=await Ol(r,JE(a,o,e,r),n);ve(u.idToken,a,"internal-error");const f=Gm(u.idToken);ve(f,a,"internal-error");const{sub:m}=f;return ve(r.uid===m,a,"user-mismatch"),Vs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Fn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(r,e,n=!1){if(pn(r.app))return Promise.reject(Ki(r));const a="signIn",o=await JE(r,a,e),u=await Vs._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function C2(r,e){return eT(Fs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(r){const e=Fs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O2(r,e,n){if(pn(r.app))return Promise.reject(Ki(r));const a=Fs(r),f=await fm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&tT(r),p}),m=await Vs._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function N2(r,e,n){return pn(r.app)?Promise.reject(Ki(r)):C2(Nt(r),eo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&tT(r),a})}function x2(r,e,n,a){return Nt(r).onIdTokenChanged(e,n,a)}function D2(r,e,n){return Nt(r).beforeAuthStateChanged(e,n)}function M2(r,e,n,a){return Nt(r).onAuthStateChanged(e,n,a)}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=1e3,P2=10;class iT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);JI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,P2):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iT.type="LOCAL";const V2=iT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rT.type="SESSION";const sT=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await U2(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Qm("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function j2(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function z2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function H2(){return aT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firebaseLocalStorageDb",q2=1,$c="firebaseLocalStorage",lT="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(r,e){return r.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function F2(){const r=indexedDB.deleteDatabase(oT);return new Fl(r).toPromise()}function dm(){const r=indexedDB.open(oT,q2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:lT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?e(a):(a.close(),await F2(),e(await dm()))})})}async function A_(r,e,n){const a=Eh(r,!0).put({[lT]:e,value:n});return new Fl(a).toPromise()}async function G2(r,e){const n=Eh(r,!1).get(e),a=await new Fl(n).toPromise();return a===void 0?null:a.value}function S_(r,e){const n=Eh(r,!0).delete(e);return new Fl(n).toPromise()}const K2=800,$2=3;class uT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>$2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(H2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await z2(),!this.activeServiceWorker)return;this.sender=new L2(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await A_(e,Kc,"1"),await S_(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>A_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>G2(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Eh(o,!1).getAll();return new Fl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uT.type="LOCAL";const Y2=uT;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(r,e){return e?Fi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends $m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ga(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X2(r){return eT(r.auth,new Xm(r),r.bypassAuthState)}function Z2(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),I2(n,new Xm(r),r.bypassAuthState)}async function W2(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),R2(n,new Xm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X2;case"linkViaPopup":case"linkViaRedirect":return W2;case"reauthViaPopup":case"reauthViaRedirect":return Z2;default:Fn(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Bl(2e3,1e4);class Ha extends cT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J2.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="pendingRedirect",xc=new Map;class tC extends cT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const a=await nC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(r,e){const n=sC(e),a=rC(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function iC(r,e){xc.set(r._key(),e)}function rC(r){return Fi(r._redirectPersistence)}function sC(r){return Nc(eC,r.config.apiKey,r.name)}async function aC(r,e,n=!1){if(pn(r.app))return Promise.reject(Ki(r));const a=Fs(r),o=Q2(a,e),f=await new tC(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=10*60*1e3;class lC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!hT(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function hT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,e={}){return Hr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fC=/^https?/;async function dC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await cC(r);for(const n of e)try{if(mC(n))return}catch{}Fn(r,"unauthorized-domain")}function mC(r){const e=cm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!fC.test(n))return!1;if(hC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Bl(3e4,6e4);function R_(){const r=ci().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function gC(r){return new Promise((e,n)=>{var a,o,u;function f(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),n(ui(r,"network-request-failed"))},timeout:pC.get()})}if(!((o=(a=ci().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ci().gapi)===null||u===void 0)&&u.load)f();else{const m=l2("iframefcb");return ci()[m]=()=>{gapi.load?f():n(ui(r,"network-request-failed"))},QE(`${o2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function yC(r){return Dc=Dc||gC(r),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Bl(5e3,15e3),_C="__/auth/iframe",EC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Fm(e,EC):`https://${r.config.authDomain}/${_C}`,a={apiKey:e.apiKey,appName:r.name,v:qs},o=bC.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${zl(a).slice(1)}`}async function SC(r){const e=await yC(r),n=ci().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:AC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=ui(r,"network-request-failed"),m=ci().setTimeout(()=>{u(f)},vC.get());function p(){ci().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,IC=600,CC="_blank",OC="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(r,e,n,a=RC,o=IC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},wC),{width:a.toString(),height:o.toString(),top:u,left:f}),y=$t().toLowerCase();n&&(m=HE(y)?CC:n),zE(y)&&(e=e||OC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[U,k])=>`${A}${U}=${k},`,"");if(WI(y)&&m!=="_self")return xC(e||"",m),new I_(null);const S=window.open(e||"",m,E);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new I_(S)}function xC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="__/auth/handler",MC="emulator/auth/handler",kC=encodeURIComponent("fac");async function C_(r,e,n,a,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:qs,eventId:o};if(e instanceof WE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",XS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof ql){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${kC}=${encodeURIComponent(p)}`:"";return`${PC(r)}?${zl(m).slice(1)}${y}`}function PC({config:r}){return r.emulator?Fm(r,MC):`https://${r.authDomain}/${DC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class VC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=aC,this._overrideRedirectResult=iC}async _openPopup(e,n,a,o){var u;Zi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await C_(e,n,a,cm(),o);return NC(e,f,Qm())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await C_(e,n,a,cm(),o);return j2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await SC(e),a=new lC(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zd,{type:Zd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Zd];f!==void 0&&n(!!f),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $E()||BE()||Km()}}const UC=VC;var O_="@firebase/auth",N_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zC(r){qn(new xn("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(r)},y=new r2(a,o,u,p);return m2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),qn(new xn("auth-internal",e=>{const n=Fs(e.getProvider("auth").getImmediate());return(a=>new LC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(O_,N_,jC(r)),nn(O_,N_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=5*60,HC=J0("authIdTokenMaxAge")||BC;let x_=null;const qC=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>HC)return;const o=n==null?void 0:n.token;x_!==o&&(x_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FC(r=ph()){const e=zr(r,"auth");if(e.isInitialized())return e.getImmediate();const n=d2(r,{popupRedirectResolver:UC,persistence:[Y2,V2,sT]}),a=J0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=qC(u.toString());D2(n,f,()=>f(n.currentUser)),x2(n,m=>f(m))}}const o=X0("auth");return o&&p2(n,`http://${o}`),n}function GC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}s2({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ui("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",GC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zC("Browser");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zm;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function R(){}R.prototype=w.prototype,D.D=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(N,M,L){for(var C=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)C[xt-2]=arguments[xt];return w.prototype[M].apply(N,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);var N=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)N[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],M=D.g[2];var L=D.g[3],C=w+(L^R&(M^L))+N[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=L+(M^w&(R^M))+N[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(R^L&(w^R))+N[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(w^M&(L^w))+N[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(L^R&(M^L))+N[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(M^w&(R^M))+N[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(R^L&(w^R))+N[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(w^M&(L^w))+N[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(L^R&(M^L))+N[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(M^w&(R^M))+N[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(R^L&(w^R))+N[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(w^M&(L^w))+N[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(L^R&(M^L))+N[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(M^w&(R^M))+N[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(R^L&(w^R))+N[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(w^M&(L^w))+N[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(M^L&(R^M))+N[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(w^R))+N[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(L^w))+N[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(M^L))+N[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^L&(R^M))+N[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(w^R))+N[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(L^w))+N[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(M^L))+N[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^L&(R^M))+N[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(w^R))+N[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(L^w))+N[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(M^L))+N[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^L&(R^M))+N[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(w^R))+N[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(L^w))+N[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(M^L))+N[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(R^M^L)+N[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^M)+N[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^R)+N[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^w)+N[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^L)+N[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^M)+N[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^R)+N[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^w)+N[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^L)+N[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^M)+N[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^R)+N[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^w)+N[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^L)+N[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^M)+N[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^R)+N[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^w)+N[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(M^(R|~L))+N[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~M))+N[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~R))+N[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~w))+N[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~L))+N[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~M))+N[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~R))+N[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~w))+N[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~L))+N[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~M))+N[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~R))+N[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~w))+N[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~L))+N[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~M))+N[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~R))+N[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~w))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+L&4294967295}a.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var R=w-this.blockSize,N=this.B,M=this.h,L=0;L<w;){if(M==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<w;)if(N[M++]=D.charCodeAt(L++),M==this.blockSize){o(this,N),M=0;break}}else for(;L<w;)if(N[M++]=D[L++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=w},a.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var R=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=R&255,R/=256;for(this.u(D),D=Array(16),w=R=0;4>w;++w)for(var N=0;32>N;N+=8)D[R++]=this.g[w]>>>N&255;return D};function u(D,w){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function f(D,w){this.h=w;for(var R=[],N=!0,M=D.length-1;0<=M;M--){var L=D[M]|0;N&&L==w||(R[M]=L,N=!1)}this.g=R}var m={};function p(D){return-128<=D&&128>D?u(D,function(w){return new f([w|0],0>w?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(0>D)return F(y(-D));for(var w=[],R=1,N=0;D>=R;N++)w[N]=D/R|0,R*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return F(E(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),N=S,M=0;M<D.length;M+=8){var L=Math.min(8,D.length-M),C=parseInt(D.substring(M,M+L),w);8>L?(L=y(Math.pow(w,L)),N=N.j(L).add(y(C))):(N=N.j(R),N=N.add(y(C)))}return N}var S=p(0),A=p(1),U=p(16777216);r=f.prototype,r.m=function(){if($(this))return-F(this).m();for(var D=0,w=1,R=0;R<this.g.length;R++){var N=this.i(R);D+=(0<=N?N:4294967296+N)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if($(this))return"-"+F(this).toString(D);for(var w=y(Math.pow(D,6)),R=this,N="";;){var M=ue(R,w).g;R=G(R,M.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=M,k(R))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function $(D){return D.h==-1}r.l=function(D){return D=G(this,D),$(D)?-1:k(D)?0:1};function F(D){for(var w=D.g.length,R=[],N=0;N<w;N++)R[N]=~D.g[N];return new f(R,~D.h).add(A)}r.abs=function(){return $(this)?F(this):this},r.add=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0,M=0;M<=w;M++){var L=N+(this.i(M)&65535)+(D.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);N=C>>>16,L&=65535,C&=65535,R[M]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function G(D,w){return D.add(F(w))}r.j=function(D){if(k(this)||k(D))return S;if($(this))return $(D)?F(this).j(F(D)):F(F(this).j(D));if($(D))return F(this.j(F(D)));if(0>this.l(U)&&0>D.l(U))return y(this.m()*D.m());for(var w=this.g.length+D.g.length,R=[],N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<D.g.length;M++){var L=this.i(N)>>>16,C=this.i(N)&65535,xt=D.i(M)>>>16,tt=D.i(M)&65535;R[2*N+2*M]+=C*tt,ne(R,2*N+2*M),R[2*N+2*M+1]+=L*tt,ne(R,2*N+2*M+1),R[2*N+2*M+1]+=C*xt,ne(R,2*N+2*M+1),R[2*N+2*M+2]+=L*xt,ne(R,2*N+2*M+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new f(R,0)};function ne(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function W(D,w){this.g=D,this.h=w}function ue(D,w){if(k(w))throw Error("division by zero");if(k(D))return new W(S,S);if($(D))return w=ue(F(D),w),new W(F(w.g),F(w.h));if($(w))return w=ue(D,F(w)),new W(F(w.g),w.h);if(30<D.g.length){if($(D)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,N=w;0>=N.l(D);)R=ie(R),N=ie(N);var M=pe(R,1),L=pe(N,1);for(N=pe(N,2),R=pe(R,2);!k(N);){var C=L.add(N);0>=C.l(D)&&(M=M.add(R),L=C),N=pe(N,1),R=pe(R,1)}return w=G(D,M.j(w)),new W(M,w)}for(M=S;0<=D.l(w);){for(R=Math.max(1,Math.floor(D.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=y(R),C=L.j(w);$(C)||0<C.l(D);)R-=N,L=y(R),C=L.j(w);k(L)&&(L=A),M=M.add(L),D=G(D,C)}return new W(M,D)}r.A=function(D){return ue(this,D).h},r.and=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)&D.i(N);return new f(R,this.h&D.h)},r.or=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)|D.i(N);return new f(R,this.h|D.h)},r.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)^D.i(N);return new f(R,this.h^D.h)};function ie(D){for(var w=D.g.length+1,R=[],N=0;N<w;N++)R[N]=D.i(N)<<1|D.i(N-1)>>>31;return new f(R,D.h)}function pe(D,w){var R=w>>5;w%=32;for(var N=D.g.length-R,M=[],L=0;L<N;L++)M[L]=0<w?D.i(L+R)>>>w|D.i(L+R+1)<<32-w:D.i(L+R);return new f(M,D.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Zm=f}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fT,vl,dT,Mc,mm,mT,pT,gT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)e:{var v=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in v))break e;v=v[j]}c=c[c.length-1],b=v[c],g=g(b),g!=b&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,b=!1,j={next:function(){if(!b&&v<c.length){var K=v++;return{value:g(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function S(c,g,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function A(c,g,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function U(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function k(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,j,K){for(var ae=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ae[xe-2]=arguments[xe];return g.prototype[j].apply(b,ae)}}function $(c){const g=c.length;if(0<g){const v=Array(g);for(let b=0;b<g;b++)v[b]=c[b];return v}return[]}function F(c,g){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const j=c.length||0,K=b.length||0;c.length=j+K;for(let ae=0;ae<K;ae++)c[j+ae]=b[ae]}else c.push(b)}}class G{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ie=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function pe(c,g,v){for(const b in c)g.call(v,c[b],b,c)}function D(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)c[v]=b[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function M(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Ue;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class xt{constructor(){this.h=this.g=null}add(g,v){const b=tt.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var tt=new G(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,de=!1,Ue=new xt,O=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(te)}};var te=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){L(v)}var g=tt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}de=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function we(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ie){e:{try{ue(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&we.aa.h.call(this)}}k(we,se);var Ee={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Gn(c,g,v,b,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=j,this.key=++Ye,this.da=this.fa=!1}function Ji(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,g,v,b,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=Gr(c,g,b,j);return-1<ae?(g=c[ae],v||(g.fa=!1)):(g=new Gn(g,this.src,K,!!b,j),g.fa=v,c.push(g)),g};function Fr(c,g){var v=g.type;if(v in c.g){var b=c.g[v],j=Array.prototype.indexOf.call(b,g,void 0),K;(K=0<=j)&&Array.prototype.splice.call(b,j,1),K&&(Ji(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Gr(c,g,v,b){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==b)return j}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),no={};function Ql(c,g,v,b,j){if(Array.isArray(g)){for(var K=0;K<g.length;K++)Ql(c,g[K],v,b,j);return null}return v=Xl(v),c&&c[Tt]?c.K(g,v,y(b)?!!b.capture:!1,j):yn(c,g,v,!1,b,j)}function yn(c,g,v,b,j,K){if(!g)throw Error("Invalid event type");var ae=y(j)?!!j.capture:!!j,xe=Qs(c);if(xe||(c[Kr]=xe=new yi(c)),v=xe.add(g,v,b,ae,K),v.proxy)return v;if(b=Mh(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)me||(j=ae),j===void 0&&(j=!1),c.addEventListener(g.toString(),b,j);else if(c.attachEvent)c.attachEvent($r(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Mh(){function c(v){return g.call(c.src,c.listener,v)}const g=kh;return c}function io(c,g,v,b,j){if(Array.isArray(g))for(var K=0;K<g.length;K++)io(c,g[K],v,b,j);else b=y(b)?!!b.capture:!!b,v=Xl(v),c&&c[Tt]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],v=Gr(K,v,b,j),-1<v&&(Ji(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=Qs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Gr(g,v,b,j)),(v=-1<c?g[c]:null)&&Ys(v))}function Ys(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Tt])Fr(g.i,c);else{var v=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(v,b,c.capture):g.detachEvent?g.detachEvent($r(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=Qs(g))?(Fr(v,c),v.h==0&&(v.src=null,g[Kr]=null)):Ji(c)}}}function $r(c){return c in no?no[c]:no[c]="on"+c}function kh(c,g){if(c.da)c=!0;else{g=new we(g,this);var v=c.listener,b=c.ha||c.src;c.fa&&Ys(c),c=v.call(b,g)}return c}function Qs(c){return c=c[Kr],c instanceof yi?c:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(c){return typeof c=="function"?c:(c[ro]||(c[ro]=function(g){return c.handleEvent(g)}),c[ro])}function nt(){le.call(this),this.i=new yi(this),this.M=this,this.F=null}k(nt,le),nt.prototype[Tt]=!0,nt.prototype.removeEventListener=function(c,g,v,b){io(this,c,g,v,b)};function ze(c,g){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var j=g;g=new se(b,c),N(g,j)}if(j=!0,v)for(var K=v.length-1;0<=K;K--){var ae=g.g=v[K];j=an(ae,b,!0,g)&&j}if(ae=g.g=c,j=an(ae,b,!0,g)&&j,j=an(ae,b,!1,g)&&j,v)for(K=0;K<v.length;K++)ae=g.g=v[K],j=an(ae,b,!1,g)&&j}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],b=0;b<v.length;b++)Ji(v[b]);delete c.g[g],c.h--}}this.F=null},nt.prototype.K=function(c,g,v,b){return this.i.add(String(c),g,!1,v,b)},nt.prototype.L=function(c,g,v,b){return this.i.add(String(c),g,!0,v,b)};function an(c,g,v,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,K=0;K<g.length;++K){var ae=g[K];if(ae&&!ae.da&&ae.capture==v){var xe=ae.listener,gt=ae.ha||ae.src;ae.fa&&Fr(c.i,ae),j=xe.call(gt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Bt(c,g,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Zl(c){c.g=Bt(()=>{c.g=null,c.i&&(c.i=!1,Zl(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ph extends le{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(c){le.call(this),this.h=c,this.g={}}k(Yr,le);var Qr=[];function Xr(c){pe(c.g,function(g,v){this.g.hasOwnProperty(v)&&Ys(g)},c),c.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Xr(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=m.JSON.stringify,Xs=m.JSON.parse,Zr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function so(){}so.prototype.h=null;function ao(c){return c.h||(c.h=c.i())}function oo(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){se.call(this,"d")}k(_i,se);function lo(){se.call(this,"c")}k(lo,se);var Kn={},uo=null;function er(){return uo=uo||new nt}Kn.La="serverreachability";function Zs(c){se.call(this,Kn.La,c)}k(Zs,se);function tr(c){const g=er();ze(g,new Zs(g))}Kn.STAT_EVENT="statevent";function Wl(c,g){se.call(this,Kn.STAT_EVENT,c),this.stat=g}k(Wl,se);function Ze(c){const g=er();ze(g,new Wl(g,c))}Kn.Ma="timingevent";function pt(c,g){se.call(this,Kn.Ma,c),this.size=g}k(pt,se);function ut(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function co(c,g,v,b,j,K){c.info(function(){if(c.g)if(K)for(var ae="",xe=K.split("&"),gt=0;gt<xe.length;gt++){var De=xe[gt].split("=");if(1<De.length){var At=De[0];De=De[1];var yt=At.split("_");ae=2<=yt.length&&yt[1]=="type"?ae+(At+"="+De+"&"):ae+(At+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+g+`
`+v+`
`+ae})}function Vh(c,g,v,b,j,K,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+g+`
`+v+`
`+K+" "+ae})}function nr(c,g,v,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Wr(c,v)+(b?" "+b:"")})}function Jl(c,g){c.info(function(){return"TIMEOUT: "+g})}vn.prototype.info=function(){};function Wr(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return Mn(v)}catch{return g}}var ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Yn(){}k(Yn,so),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},$n=new Yn;function Yt(c,g,v,b){this.j=c,this.i=g,this.l=v,this.R=b||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}var ho={},Ws={};function kn(c,g,v){c.L=1,c.v=is(on(g)),c.m=v,c.P=!0,Ti(c,null)}function Ti(c,g){c.F=Date.now(),Jr(c),c.A=on(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),vo(v.i,"t",b),c.C=0,v=c.j.J,c.h=new at,c.g=pu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Ph(A(c.Y,c,c.g),c.O)),g=c.U,v=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Qr[0]=j.toString()),j=Qr);for(var K=0;K<j.length;K++){var ae=Ql(v,j[K],b||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),tr(),co(c.i,c.u,c.A,c.l,c.R,c.m)}Yt.prototype.ca=function(c){c=c.target;const g=this.M;g&&bn(c)==3?g.j():this.Y(c)},Yt.prototype.Y=function(c){try{if(c==this.g)e:{const yt=bn(this.g);var g=this.g.Ba();const Oi=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||yt!=4||g==7||(g==8||0>=Oi?tr(3):tr(2)),rr(this);var v=this.g.Z();this.X=v;t:if(eu(this)){var b=ou(this.g);c="";var j=b.length,K=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dt(this),Qn(this);var ae="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(K&&g==j-1)});b.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Vh(this.i,this.u,this.A,this.l,this.R,yt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,gt=this.g;if((xe=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(xe)){var De=xe;break t}}De=null}if(v=De)nr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,es(this,v);else{this.o=!1,this.s=3,Ze(12),Dt(this),Qn(this);break e}}if(this.P){v=!0;let Mt;for(;!this.J&&this.C<ae.length;)if(Mt=tu(this,ae),Mt==Ws){yt==4&&(this.s=4,Ze(14),v=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==ho){this.s=4,Ze(15),nr(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else nr(this.i,this.l,Mt,null),es(this,Mt);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||ae.length!=0||this.h.h||(this.s=1,Ze(16),v=!1),this.o=this.o&&v,!v)nr(this.i,this.l,ae,"[Invalid Chunked Response]"),Dt(this),Qn(this);else if(0<ae.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),hs(At),At.M=!0,Ze(11))}}else nr(this.i,this.l,ae,null),es(this,ae);yt==4&&Dt(this),this.o&&!this.J&&(yt==4?fu(this.j,this):(this.o=!1,Jr(this)))}else Bh(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),Dt(this),Qn(this)}}}catch{}finally{}};function eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tu(c,g){var v=c.C,b=g.indexOf(`
`,v);return b==-1?Ws:(v=Number(g.substring(v,b)),isNaN(v)?ho:(b+=1,b+v>g.length?Ws:(g=g.slice(b,b+v),c.C=b+v,g)))}Yt.prototype.cancel=function(){this.J=!0,Dt(this)};function Jr(c){c.S=Date.now()+c.I,nu(c,c.I)}function nu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ut(A(c.ba,c),g)}function rr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Yt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jl(this.i,this.A),this.L!=2&&(tr(),Ze(17)),Dt(this),this.s=2,Qn(this)):nu(this,this.S-c)};function Qn(c){c.j.G==0||c.J||fu(c.j,c)}function Dt(c){rr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Xr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function es(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||fo(v.h,c))){if(!c.K&&fo(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ca(v),la(v);else break e;Ao(v),Ze(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=ut(A(v.Za,v),6e3));if(1>=ea(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ci(v,11)}else if((c.K||v.g==c)&&ca(v),!ne(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let De=j[g];if(v.T=De[0],De=De[1],v.G==2)if(De[0]=="c"){v.K=De[1],v.ia=De[2];const At=De[3];At!=null&&(v.la=At,v.j.info("VER="+v.la));const yt=De[4];yt!=null&&(v.Aa=yt,v.j.info("SVER="+v.Aa));const Oi=De[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(b=1.5*Oi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Mt=c.g;if(Mt){const ni=Mt.g?Mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var K=b.h;K.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ta(K,K.h),K.h=null))}if(b.D){const wo=Mt.g?Mt.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(b.ya=wo,qe(b.I,b.D,wo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ae=c;if(b.qa=mu(b,b.J?b.ia:null,b.W),ae.K){Qt(b.h,ae);var xe=ae,gt=b.L;gt&&(xe.I=gt),xe.B&&(rr(xe),Jr(xe)),b.g=ae}else cu(b);0<v.i.length&&ua(v)}else De[0]!="stop"&&De[0]!="close"||Ci(v,7);else v.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Ci(v,7):To(v):De[0]!="noop"&&v.l&&v.l.ta(De),v.v=0)}}tr(4)}catch{}}var iu=class{constructor(c,g){this.g=c,this.map=g}};function bi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ea(c){return c.h?1:c.g?c.g.size:0}function fo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ta(c,g){c.g?c.g.add(g):c.h=g}function Qt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}bi.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return $(c.i)}function Uh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,b=0;b<v;b++)g.push(c[b]);return g}g=[],v=0;for(b in c)g[v++]=c[b];return g}function na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const b in c)g[v++]=b;return g}}}function po(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=na(c),b=Uh(c),j=b.length,K=0;K<j;K++)g.call(void 0,b[K],v&&v[K],c)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),j=null;if(0<=b){var K=c[v].substring(0,b);j=c[v].substring(b+1)}else K=c[v];g(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ct(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ct){this.h=c.h,ns(this,c.j),this.o=c.o,this.g=c.g,sr(this,c.s),this.l=c.l;var g=c.i,v=new Si;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ai(this,v),this.m=c.m}else c&&(g=String(c).match(ts))?(this.h=!1,ns(this,g[1]||"",!0),this.o=_n(g[2]||""),this.g=_n(g[3]||"",!0),sr(this,g[4]),this.l=_n(g[5]||"",!0),Ai(this,g[6]||"",!0),this.m=_n(g[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}ct.prototype.toString=function(){var c=[],g=this.j;g&&c.push(rs(g,go,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(rs(g,go,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(rs(v,v.charAt(0)=="/"?jh:yo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",rs(v,ia)),c.join("")};function on(c){return new ct(c)}function ns(c,g,v){c.j=v?_n(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function sr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ai(c,g,v){g instanceof Si?(c.i=g,su(c.i,c.h)):(v||(g=rs(g,zh)),c.i=new Si(g,c.h))}function qe(c,g,v){c.i.set(g,v)}function is(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _n(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function rs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,ru),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var go=/[#\/\?@]/g,yo=/[#\?:]/g,jh=/[#\?]/g,zh=/[#\?@]/g,ia=/#/g;function Si(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Lh(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Si.prototype,r.add=function(c,g){En(this),this.i=null,c=Xn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function wi(c,g){En(c),g=Xn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ri(c,g){return En(c),g=Xn(c,g),c.g.has(g)}r.forEach=function(c,g){En(this),this.g.forEach(function(v,b){v.forEach(function(j){c.call(g,j,b,this)},this)},this)},r.na=function(){En(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let b=0;b<g.length;b++){const j=c[b];for(let K=0;K<j.length;K++)v.push(g[b])}return v},r.V=function(c){En(this);let g=[];if(typeof c=="string")Ri(this,c)&&(g=g.concat(this.g.get(Xn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return En(this),this.i=null,c=Xn(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function vo(c,g,v){wi(c,g),0<v.length&&(c.i=null,c.g.set(Xn(c,g),$(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var b=g[v];const K=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var j=K;ae[b]!==""&&(j+="="+encodeURIComponent(String(ae[b]))),c.push(j)}}return this.i=c.join("&")};function Xn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function su(c,g){g&&!c.j&&(En(c),c.i=null,c.g.forEach(function(v,b){var j=b.toLowerCase();b!=j&&(wi(this,b),vo(this,j,v))},c)),c.j=g}function ss(c,g){const v=new vn;if(m.Image){const b=new Image;b.onload=U(Tn,v,"TestLoadImage: loaded",!0,g,b),b.onerror=U(Tn,v,"TestLoadImage: error",!1,g,b),b.onabort=U(Tn,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=U(Tn,v,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Pn(c,g){const v=new vn,b=new AbortController,j=setTimeout(()=>{b.abort(),Tn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(j),K.ok?Tn(v,"TestPingServer: ok",!0,g):Tn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Tn(v,"TestPingServer: error",!1,g)})}function Tn(c,g,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function as(){this.g=new Zr}function Zn(c,g,v){const b=v||"";try{po(c,function(j,K){let ae=j;y(j)&&(ae=Mn(j)),g.push(b+K+"="+encodeURIComponent(ae))})}catch(j){throw g.push(b+"type="+encodeURIComponent("_badmap")),j}}function ar(c){this.l=c.Ub||null,this.j=c.eb||!1}k(ar,so),ar.prototype.g=function(){return new Ii(this.l,this.j)},ar.prototype.i=function(c){return function(){return c}}({});function Ii(c,g){nt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ii,nt),r=Ii.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Wn(this):Jn(this),this.readyState==3&&_o(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},r.Qa=function(c){this.g&&(this.response=c,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Eo(c){let g="";return pe(c,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function bt(c,g,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Eo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):qe(c,g,v))}function je(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(je,nt);var ra=/^https?$/i,os=["POST","PUT"];r=je.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?ao(this.o):ao($n),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){au(this,K);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())v.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(os,g,void 0))||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ls(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){au(this,K)}};function au(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,sa(c),ei(c)}function sa(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ze(this,"complete"),ze(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},r.bb=function(){aa(this)};function aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)Bt(c.Ea,0,c);else if(ze(c,"readystatechange"),bn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var b;if(b=ae===0){var j=String(c.D).match(ts)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!ra.test(j?j.toLowerCase():"")}v=b}if(v)ze(c,"complete"),ze(c,"success");else{c.m=6;try{var K=2<bn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",sa(c)}}finally{ei(c)}}}}function ei(c,g){if(c.g){ls(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||ze(c,"ready");try{v.onreadystatechange=b}catch{}}}function ls(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Xs(g)}};function ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bh(c){const g={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ne(c[b]))continue;var v=M(c[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[j]||[];g[j]=K,K.push(v)}D(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function oa(c){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,c),this.cb=us("retryDelaySeedMs",1e4,c),this.Wa=us("forwardChannelMaxRetries",2,c),this.wa=us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(c&&c.concurrentRequestLimit),this.Da=new as,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=oa.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,b){Ze(0),this.W=c,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=mu(this,null,this.W),ua(this)};function To(c){if(lu(c),c.G==3){var g=c.U++,v=on(c.I);if(qe(v,"SID",c.K),qe(v,"RID",g),qe(v,"TYPE","terminate"),cs(c,v),g=new Yt(c,c.j,g),g.L=2,g.v=is(on(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Jr(g)}du(c)}function la(c){c.g&&(hs(c),c.g.cancel(),c.g=null)}function lu(c){la(c),c.u&&(m.clearTimeout(c.u),c.u=null),ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ua(c){if(!Js(c.h)&&!c.s){c.s=!0;var g=c.Ga;oe||O(),de||(oe(),de=!0),Ue.add(g,c),c.B=0}}function Hh(c,g){return ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ut(A(c.Ga,c,g),So(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Yt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=uu(this,j,g),v=on(this.I),qe(v,"RID",c),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),cs(this,v),K&&(this.O?g="headers="+encodeURIComponent(String(Eo(K)))+"&"+g:this.m&&bt(v,this.m,K)),ta(this.h,j),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",g),qe(v,"SID","null"),j.T=!0,kn(j,v,null)):kn(j,v,g),this.G=2}}else this.G==3&&(c?bo(this,c):this.i.length==0||Js(this.h)||bo(this))};function bo(c,g){var v;g?v=g.l:v=c.U++;const b=on(c.I);qe(b,"SID",c.K),qe(b,"RID",v),qe(b,"AID",c.T),cs(c,b),c.m&&c.o&&bt(b,c.m,c.o),v=new Yt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,v),kn(v,b,g)}function cs(c,g){c.H&&pe(c.H,function(v,b){qe(g,b,v)}),c.l&&po({},function(v,b){qe(g,b,v)})}function uu(c,g,v){v=Math.min(c.i.length,v);var b=c.l?A(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const ae=["count="+v];K==-1?0<v?(K=j[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let xe=!0;for(let gt=0;gt<v;gt++){let De=j[gt].g;const At=j[gt].map;if(De-=K,0>De)K=Math.max(0,j[gt].g-100),xe=!1;else try{Zn(At,ae,"req"+De+"_")}catch{b&&b(At)}}if(xe){b=ae.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,b}function cu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;oe||O(),de||(oe(),de=!0),Ue.add(g,c),c.v=0}}function Ao(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ut(A(c.Fa,c),So(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ut(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),la(this),hu(this))};function hs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function hu(c){c.g=new Yt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=on(c.qa);qe(g,"RID","rpc"),qe(g,"SID",c.K),qe(g,"AID",c.T),qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(g,"TO",c.ja),qe(g,"TYPE","xmlhttp"),cs(c,g),c.m&&c.o&&bt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=is(on(g)),v.m=null,v.P=!0,Ti(v,c)}r.Za=function(){this.C!=null&&(this.C=null,la(this),Ao(this),Ze(19))};function ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function fu(c,g){var v=null;if(c.g==g){ca(c),hs(c),c.g=null;var b=2}else if(fo(c.h,g))v=g.D,Qt(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;b=er(),ze(b,new pt(b,v)),ua(c)}else cu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(b==1&&Hh(c,g)||b==2&&Ao(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),j){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function So(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Ci(c,g){if(c.j.info("Error code "+g),g==2){var v=A(c.fb,c),b=c.Xa;const j=!b;b=new ct(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ns(b,"https"),is(b),j?ss(b.toString(),v):Pn(b.toString(),v)}else Ze(2);c.G=0,c.l&&c.l.sa(g),du(c),lu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function du(c){if(c.G=0,c.ka=[],c.l){const g=mo(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function mu(c,g,v){var b=v instanceof ct?on(v):new ct(v);if(b.g!="")g&&(b.g=g+"."+b.g),sr(b,b.s);else{var j=m.location;b=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var K=new ct(null);b&&ns(K,b),g&&(K.g=g),j&&sr(K,j),v&&(K.l=v),b=K}return v=c.D,g=c.ya,v&&g&&qe(b,v,g),qe(b,"VER",c.la),cs(c,b),b}function pu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new je(new ar({eb:v})):new je(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ha(){}ha.prototype.g=function(c,g){return new Xt(c,g)};function Xt(c,g){nt.call(this),this.g=new oa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ti(this)}k(Xt,nt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){To(this.g)},Xt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Mn(c),c=v);g.i.push(new iu(g.Ya++,c)),g.G==3&&ua(g)},Xt.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Xt.aa.N.call(this)};function yu(c){_i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}k(yu,_i);function vu(){lo.call(this),this.status=1}k(vu,lo);function ti(c){this.g=c}k(ti,gu),ti.prototype.ua=function(){ze(this.g,"a")},ti.prototype.ta=function(c){ze(this.g,new yu(c))},ti.prototype.sa=function(c){ze(this.g,new vu)},ti.prototype.ra=function(){ze(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,gT=function(){return new ha},pT=function(){return er()},mT=Kn,mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Mc=ir,Ei.COMPLETE="complete",dT=Ei,oo.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",nt.prototype.listen=nt.prototype.K,vl=oo,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,fT=je}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",k_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new mh("@firebase/firestore");function za(){return Us.logLevel}function he(r,...e){if(Us.logLevel<=Ne.DEBUG){const n=e.map(Wm);Us.debug(`Firestore (${to}): ${r}`,...n)}}function Ls(r,...e){if(Us.logLevel<=Ne.ERROR){const n=e.map(Wm);Us.error(`Firestore (${to}): ${r}`,...n)}}function Th(r,...e){if(Us.logLevel<=Ne.WARN){const n=e.map(Wm);Us.warn(`Firestore (${to}): ${r}`,...n)}}function Wm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,yT(r,a,n)}function yT(r,e,n){let a=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ls(a),new Error(a)}function st(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||yT(e,o,a)}function Xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class $C{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YC{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xs,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xs)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(st(typeof a.accessToken=="string",31837,{l:a}),new vT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class QC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new QC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const a=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new P_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=WC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function pm(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return Pe(a,o);{const u=JC(),f=eO(u.encode(V_(r,n)),u.encode(V_(e,n)));return f!==0?f:Pe(a,o)}}n+=a>65535?2:1}return Pe(r.length,e.length)}function V_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function eO(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Pe(r[n],e[n]);return Pe(r.length,e.length)}function $a(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=-62135596800,L_=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*L_);return new Ot(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U_)throw new Te(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Ot(0,0))}static max(){return new Je(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="__name__";class li{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ie(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=li.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const a=li.isNumericId(e),o=li.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?li.extractNumericId(e).compare(li.extractNumericId(n)):pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zm.fromString(e.substring(4,e.length-2))}}class mt extends li{construct(e,n,a){return new mt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Te(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const tO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends li{construct(e,n,a){return new jt(e,n,a)}static isValidIdentifier(e){return tO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new jt([j_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Te(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Te(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new Te(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(mt.fromString(e))}static fromName(e){return new Se(mt.fromString(e).popFirst(5))}static empty(){return new Se(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function nO(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Je.fromTimestamp(a===1e9?new Ot(n+1,0):new Ot(n,a));return new Vr(o,Se.empty(),e)}function iO(r){return new Vr(r.readTime,r.key,xl)}class Vr{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Vr(Je.min(),Se.empty(),xl)}static max(){return new Vr(Je.max(),Se.empty(),xl)}}function rO(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==sO)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,a)=>{n(e)})}static reject(e){return new ee((n,a)=>{a(e)})}static waitFor(e){return new ee((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next(o=>o?ee.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ee((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new ee((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function oO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ep.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=-1;function np(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function lO(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="";function uO(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=z_(e)),e=cO(r.get(n),e);return z_(e)}function cO(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ET:n+="";break;default:n+=u}}return n}function z_(r){return r+ET+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function TT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Ut.RED,this.left=o??Ut.EMPTY,this.right=u??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Ut(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new zt(jt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hO("Invalid base64 string: "+u):u}}(e);return new fi(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new fi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const fO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(r){if(st(!!r,39018),typeof r=="string"){let e=0;const n=fO.exec(r);if(st(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ya(r){return typeof r=="string"?fi.fromBase64String(r):fi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="server_timestamp",AT="__type__",ST="__previous_value__",wT="__local_write_time__";function ip(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[AT])===null||n===void 0?void 0:n.stringValue)===bT}function rp(r){const e=r.mapValue.fields[ST];return ip(e)?rp(e):e}function Qc(r){const e=js(r.mapValue.fields[wT].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,a,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Xc="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Xc}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="__type__",mO="__max__",Ac={mapValue:{}},IT="__vector__",gm="value";function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ip(r)?4:gO(r)?9007199254740991:pO(r)?10:11:Ie(28295,{value:r})}function di(r,e){if(r===e)return!0;const n=zs(r);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Qc(r).isEqual(Qc(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=js(o.timestampValue),m=js(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ya(o.bytesValue).isEqual(Ya(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Lt(o.geoPointValue.latitude)===Lt(u.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Lt(o.integerValue)===Lt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Lt(o.doubleValue),m=Lt(u.doubleValue);return f===m?Yc(f)===Yc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return $a(r.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(B_(f)!==B_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!di(f[p],m[p])))return!1;return!0}(r,e);default:return Ie(52216,{left:r})}}function Dl(r,e){return(r.values||[]).find(n=>di(n,e))!==void 0}function Qa(r,e){if(r===e)return 0;const n=zs(r),a=zs(e);if(n!==a)return Pe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Lt(u.integerValue||u.doubleValue),p=Lt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return q_(r.timestampValue,e.timestampValue);case 4:return q_(Qc(r),Qc(e));case 5:return pm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Ya(u),p=Ya(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Pe(m[y],p[y]);if(E!==0)return E}return Pe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(Lt(u.latitude),Lt(f.latitude));return m!==0?m:Pe(Lt(u.longitude),Lt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return F_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const S=u.fields||{},A=f.fields||{},U=(m=S[gm])===null||m===void 0?void 0:m.arrayValue,k=(p=A[gm])===null||p===void 0?void 0:p.arrayValue,$=Pe(((y=U==null?void 0:U.values)===null||y===void 0?void 0:y.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:F_(U,k)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Ac.mapValue&&f===Ac.mapValue)return 0;if(u===Ac.mapValue)return 1;if(f===Ac.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const A=pm(p[S],E[S]);if(A!==0)return A;const U=Qa(m[p[S]],y[E[S]]);if(U!==0)return U}return Pe(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ie(23264,{Pe:n})}}function q_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=js(r),a=js(e),o=Pe(n.seconds,a.seconds);return o!==0?o:Pe(n.nanos,a.nanos)}function F_(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Qa(n[o],a[o]);if(u)return u}return Pe(n.length,a.length)}function Xa(r){return ym(r)}function ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=js(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ya(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Se.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=ym(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${ym(n.fields[f])}`;return o+"}"}(r.mapValue):Ie(61005,{value:r})}function kc(r){switch(zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rp(r);return e?16+kc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ya(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+kc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Gs(a.fields,(u,f)=>{o+=u.length+kc(f)}),o}(r.mapValue);default:throw Ie(13486,{value:r})}}function vm(r){return!!r&&"integerValue"in r}function sp(r){return!!r&&"arrayValue"in r}function Pc(r){return!!r&&"mapValue"in r}function pO(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[RT])===null||n===void 0?void 0:n.stringValue)===IT}function bl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Gs(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=bl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function gO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=jt.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Gs(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new Nn(bl(this.value))}}function CT(r){const e=[];return Gs(r.fields,(n,a)=>{const o=new jt([n]);if(Pc(a)){const u=CT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new jn(e,0,Je.min(),Je.min(),Je.min(),Nn.empty(),0)}static newFoundDocument(e,n,a,o){return new jn(e,1,n,Je.min(),a,o,0)}static newNoDocument(e,n){return new jn(e,2,n,Je.min(),Je.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,Je.min(),Je.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.position=e,this.inclusive=n}}function G_(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=Se.comparator(Se.fromName(f.referenceValue),n.key):a=Qa(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function K_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function yO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{}class Ct extends OT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new _O(e,n,a):n==="array-contains"?new bO(e,a):n==="in"?new AO(e,a):n==="not-in"?new SO(e,a):n==="array-contains-any"?new wO(e,a):new Ct(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new EO(e,a):new TO(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qa(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends OT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ur(e,n)}matches(e){return NT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function NT(r){return r.op==="and"}function xT(r){return vO(r)&&NT(r)}function vO(r){for(const e of r.filters)if(e instanceof Ur)return!1;return!0}function _m(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(xT(r))return r.filters.map(e=>_m(e)).join(",");{const e=r.filters.map(n=>_m(n)).join(",");return`${r.op}(${e})`}}function DT(r,e){return r instanceof Ct?function(a,o){return o instanceof Ct&&a.op===o.op&&a.field.isEqual(o.field)&&di(a.value,o.value)}(r,e):r instanceof Ur?function(a,o){return o instanceof Ur&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&DT(f,o.filters[m]),!0):!1}(r,e):void Ie(19439)}function MT(r){return r instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`}(r):r instanceof Ur?function(n){return n.op.toString()+" {"+n.getFilters().map(MT).join(" ,")+"}"}(r):"Filter"}class _O extends Ct{constructor(e,n,a){super(e,n,a),this.key=Se.fromName(a.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class EO extends Ct{constructor(e,n){super(e,"in",n),this.keys=kT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TO extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=kT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Se.fromName(a.referenceValue))}class bO extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sp(n)&&Dl(n.arrayValue,this.value)}}class AO extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class SO extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dl(this.value.arrayValue,n)}}class wO extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Dl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function $_(r,e=null,n=[],a=[],o=null,u=null,f=null){return new RO(r,e,n,a,o,u,f)}function ap(r){const e=Xe(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>_m(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Xa(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Xa(a)).join(",")),e.Ie=n}return e.Ie}function op(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yO(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!DT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!K_(r.startAt,e.startAt)&&K_(r.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function IO(r,e,n,a,o,u,f,m){return new bh(r,e,n,a,o,u,f,m)}function CO(r){return new bh(r)}function Y_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function OO(r){return r.collectionGroup!==null}function Al(r){const e=Xe(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new zt(jt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Jc(u,a))}),n.has(jt.keyField().canonicalString())||e.Ee.push(new Jc(jt.keyField(),a))}return e.Ee}function Ds(r){const e=Xe(r);return e.de||(e.de=NO(e,Al(r))),e.de}function NO(r,e){if(r.limitType==="F")return $_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Jc(o.field,u)});const n=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return $_(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Em(r,e,n){return new bh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function PT(r,e){return op(Ds(r),Ds(e))&&r.limitType===e.limitType}function VT(r){return`${ap(Ds(r))}|lt:${r.limitType}`}function pl(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>MT(o)).join(", ")}]`),np(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Xa(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Xa(o)).join(",")),`Target(${a})`}(Ds(r))}; limitType=${r.limitType})`}function lp(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Se.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Al(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,p){const y=G_(f,m,p);return f.inclusive?y<=0:y<0}(a.startAt,Al(a),o)||a.endAt&&!function(f,m,p){const y=G_(f,m,p);return f.inclusive?y>=0:y>0}(a.endAt,Al(a),o))}(r,e)}function xO(r){return(e,n)=>{let a=!1;for(const o of Al(r)){const u=DO(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function DO(r,e,n){const a=r.field.isKeyField()?Se.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Qa(p,y):Ie(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new sn(Se.comparator);function eh(){return MO}const UT=new sn(Se.comparator);function Sc(...r){let e=UT;for(const n of r)e=e.insert(n.key,n);return e}function LT(r){let e=UT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Os(){return Sl()}function jT(){return Sl()}function Sl(){return new Ks(r=>r.toString(),(r,e)=>r.isEqual(e))}const kO=new sn(Se.comparator),PO=new zt(Se.comparator);function Kt(...r){let e=PO;for(const n of r)e=e.add(n);return e}const VO=new zt(Pe);function UO(){return VO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function zT(r){return{integerValue:""+r}}function LO(r,e){return lO(e)?zT(e):up(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function jO(r,e,n){return r instanceof th?function(o,u){const f={fields:{[AT]:{stringValue:bT},[wT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ip(u)&&(u=rp(u)),u&&(f.fields[ST]=u),{mapValue:f}}(n,e):r instanceof Ml?HT(r,e):r instanceof kl?qT(r,e):function(o,u){const f=BT(o,u),m=Q_(f)+Q_(o.Re);return vm(f)&&vm(o.Re)?zT(m):up(o.serializer,m)}(r,e)}function zO(r,e,n){return r instanceof Ml?HT(r,e):r instanceof kl?qT(r,e):n}function BT(r,e){return r instanceof nh?function(a){return vm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class th extends Ah{}class Ml extends Ah{constructor(e){super(),this.elements=e}}function HT(r,e){const n=FT(e);for(const a of r.elements)n.some(o=>di(o,a))||n.push(a);return{arrayValue:{values:n}}}class kl extends Ah{constructor(e){super(),this.elements=e}}function qT(r,e){let n=FT(e);for(const a of r.elements)n=n.filter(o=>!di(o,a));return{arrayValue:{values:n}}}class nh extends Ah{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Q_(r){return Lt(r.integerValue||r.doubleValue)}function FT(r){return sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function BO(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Ml&&o instanceof Ml||a instanceof kl&&o instanceof kl?$a(a.elements,o.elements,di):a instanceof nh&&o instanceof nh?di(a.Re,o.Re):a instanceof th&&o instanceof th}(r.transform,e.transform)}class HO{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function GT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $T(r.key,$i.none()):new wh(r.key,r.data,$i.none());{const n=r.data,a=Nn.empty();let o=new zt(jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new $s(r.key,a,new Bn(o.toArray()),$i.none())}}function qO(r,e,n){r instanceof wh?function(o,u,f){const m=o.value.clone(),p=Z_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof $s?function(o,u,f){if(!Vc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Z_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(KT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function wl(r,e,n,a){return r instanceof wh?function(u,f,m,p){if(!Vc(u.precondition,f))return m;const y=u.value.clone(),E=W_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,a):r instanceof $s?function(u,f,m,p){if(!Vc(u.precondition,f))return m;const y=W_(u.fieldTransforms,p,f),E=f.data;return E.setAll(KT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,a):function(u,f,m){return Vc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function FO(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=BT(a.transform,o||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(a.field,u))}return n||null}function X_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&$a(a,o,(u,f)=>BO(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class wh extends Sh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends Sh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function Z_(r,e,n){const a=new Map;st(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,zO(f,m,n[o]))}return a}function W_(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,jO(u,f,e))}return a}class $T extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GO extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qO(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=wl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=wl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=jT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=GT(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Je.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Kt())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,a)=>X_(n,a))&&$a(this.baseMutations,e.baseMutations,(n,a)=>X_(n,a))}}class cp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){st(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return kO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new cp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,ke;function YO(r){switch(r){case re.OK:return Ie(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function QO(r){if(r===void 0)return Ls("GRPC error has no .code"),re.UNKNOWN;switch(r){case dt.OK:return re.OK;case dt.CANCELLED:return re.CANCELLED;case dt.UNKNOWN:return re.UNKNOWN;case dt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case dt.INTERNAL:return re.INTERNAL;case dt.UNAVAILABLE:return re.UNAVAILABLE;case dt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case dt.NOT_FOUND:return re.NOT_FOUND;case dt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case dt.ABORTED:return re.ABORTED;case dt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case dt.DATA_LOSS:return re.DATA_LOSS;default:return Ie(39323,{code:r})}}(ke=dt||(dt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zm([4294967295,4294967295],0);class XO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZO(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function WO(r,e){return Tm(r,e.toTimestamp())}function Ka(r){return st(!!r,49232),Je.fromTimestamp(function(n){const a=js(n);return new Ot(a.seconds,a.nanos)}(r))}function YT(r,e){return bm(r,e).canonicalString()}function bm(r,e){const n=function(o){return new mt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function JO(r){const e=mt.fromString(r);return st(oN(e),10190,{key:e.toString()}),e}function Am(r,e){return YT(r.databaseId,e.path)}function eN(r){const e=JO(r);return e.length===4?mt.emptyPath():nN(e)}function tN(r){return new mt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nN(r){return st(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function J_(r,e,n){return{name:Am(r,e),fields:n.value.mapValue.fields}}function iN(r,e){let n;if(e instanceof wh)n={update:J_(r,e.key,e.value)};else if(e instanceof $T)n={delete:Am(r,e.key)};else if(e instanceof $s)n={update:J_(r,e.key,e.data),updateMask:aN(e.fieldMask)};else{if(!(e instanceof GO))return Ie(16599,{ft:e.type});n={verify:Am(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ml)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof kl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof nh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ie(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:WO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)}(r,e.precondition)),n}function rN(r,e){return r&&r.length>0?(st(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Ka(o.updateTime):Ka(u);return f.isEqual(Je.min())&&(f=Ka(u)),new HO(f,o.transformResults||[])}(n,e))):[]}function sN(r){let e=eN(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){st(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const A=QT(S);return A instanceof Ur&&xT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(A=>function(k){return new Jc(Ba(k.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,np(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(S){const A=!!S.before,U=S.values||[];return new Wc(U,A)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const A=!S.before,U=S.values||[];return new Wc(U,A)}(n.endAt)),IO(e,o,f,u,m,"F",p,y)}function QT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ba(n.unaryFilter.field);return Ct.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ba(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ct.create(Ba(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ur.create(n.compositeFilter.filters.map(a=>QT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(r):Ie(30097,{filter:r})}function Ba(r){return jt.fromServerFormat(r.fieldPath)}function aN(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oN(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.wt=e}}function uN(r){const e=sN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.Cn=new hN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Vr.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class hN{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new zt(mt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new zt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(XT,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Za(0)}static lr(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="LruGarbageCollector",fN=1048576;function n0([r,e],[n,a]){const o=Pe(r,n);return o===0?Pe(e,a):o}class dN{constructor(e){this.Er=e,this.buffer=new zt(n0),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();n0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mN{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(t0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gl(n)?he(t0,"Ignoring IndexedDB error during garbage collection: ",n):await Jm(n)}await this.mr(3e5)})}}class pN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(ep.le);const a=new dN(n);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(e0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(y=Date.now(),za()<=Ne.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function gN(r,e){return new pN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&wl(a.mutation,o,Bn.empty(),Ot.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Kt()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Kt()){const o=Os();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Sc();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Os();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Kt()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=eh();const f=Sl(),m=function(){return Sl()}();return n.forEach((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof $s)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),wl(E.mutation,y,E.mutation.getFieldMask(),Ot.now())):f.set(y.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var S;return m.set(y,new vN(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Sl();let o=new sn((f,m)=>f-m),u=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||Bn.empty();E=m.applyToLocalView(y,E),a.set(p,E);const S=(o.get(m.batchId)||Kt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=jT();E.forEach(A=>{if(!u.has(A)){const U=GT(n.get(A),a.get(A));U!==null&&S.set(A,U),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ee.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return Se.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ee.resolve(Os());let m=xl,p=u;return f.next(y=>ee.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Kt())).next(E=>({batchId:m,changes:LT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(a=>{let o=Sc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Sc();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const y=function(S,A){return new bh(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(E=>{E.forEach((S,A)=>{f=f.insert(S,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,jn.newInvalidDocument(E)))});let m=Sc();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&wl(E.mutation,y,Bn.empty(),Ot.now()),lp(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ka(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:uN(o.bundledQuery),readTime:Ka(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.overlays=new sn(Se.comparator),this.Qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Os();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.bt(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=Os(),u=n.length+1,f=new Se(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new sn((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Os(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Os(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new $O(n,a));let u=this.Qr.get(n);u===void 0&&(u=Kt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.sessionToken=fi.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.$r=new zt(It.Ur),this.Kr=new zt(It.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new It(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new It(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new Se(new mt([])),a=new It(n,e),o=new It(n,e+1),u=[];return this.Kr.forEachInRange([a,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Se(new mt([])),a=new It(n,e),o=new It(n,e+1);let u=Kt();return this.Kr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new It(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class It{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Se.comparator(e.key,n.key)||Pe(e.Zr,n.Zr)}static Wr(e,n){return Pe(e.Zr,n.Zr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new zt(It.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new KO(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new It(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ti(a),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?tp:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new It(n,0),o=new It(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,o],f=>{const m=this.ei(f.Zr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new zt(Pe);return n.forEach(o=>{const u=new It(o,0),f=new It(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{a=a.add(m.Zr)})}),ee.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Se.isDocumentKey(u)||(u=u.child(""));const f=new It(new Se(u),0);let m=new zt(Pe);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Zr)),!0)},f),ee.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){st(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ee.forEach(n.mutations,o=>{const u=new It(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new It(n,0),o=this.Xr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.ii=e,this.docs=function(){return new sn(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let a=eh();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():jn.newInvalidDocument(o))}),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=eh();const f=n.path,m=new Se(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||rO(iO(E),a)<=0||(o.has(E.key)||lp(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ie(9500)}si(e,n){return ee.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new wN(this)}getSize(e){return ee.resolve(this.size)}}class wN extends yN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.persistence=e,this.oi=new Ks(n=>ap(n),op),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this._i=0,this.ai=new hp,this.targetCount=0,this.ui=Za.cr()}forEachTarget(e,n){return this.oi.forEach((a,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Za(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Tr(n),ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.ci={},this.overlays={},this.li=new ep(0),this.hi=!1,this.hi=!0,this.Pi=new bN,this.referenceDelegate=e(this),this.Ti=new RN(this),this.indexManager=new cN,this.remoteDocumentCache=function(o){return new SN(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new lN(n),this.Ei=new EN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new AN(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){he("MemoryPersistence","Starting transaction:",e);const o=new IN(this.li.next());return this.referenceDelegate.di(),a(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ee.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class IN extends aO{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Vi=new hp,this.mi=null}static fi(e){return new fp(e)}get gi(){if(this.mi)return this.mi;throw Ie(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,a=>{const o=Se.fromPath(a);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Je.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ee.or([()=>ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.yi=new Ks(a=>uO(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=gN(this,n)}static fi(e,n){return new ih(e,n)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}Sr(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return ee.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Je.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kc(e.data.value)),n}Dr(e,n,a){return ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ds=a,this.As=o}static Rs(e,n){let a=Kt(),o=Kt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return GS()?8:oO($t())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new CN;return this.bs(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,a,o){return a.documentReadCount<this.gs?(za()<=Ne.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(za()<=Ne.DEBUG&&he("QueryEngine","Query:",pl(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(za()<=Ne.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ds(n))):ee.resolve())}ws(e,n){if(Y_(n))return ee.resolve(null);let a=Ds(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Em(n,null,"F"),a=Ds(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Kt(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.vs(n,m);return this.Cs(n,y,f,p.readTime)?this.ws(e,Em(n,null,"F")):this.Fs(e,y,n,p)}))})))}Ss(e,n,a,o){return Y_(n)||o.isEqual(Je.min())?ee.resolve(null):this.ys.getDocuments(e,a).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,a,o)?ee.resolve(null):(za()<=Ne.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pl(n)),this.Fs(e,f,n,nO(o,xl)).next(m=>m))})}vs(e,n){let a=new zt(xO(e));return n.forEach((o,u)=>{lp(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,a){return za()<=Ne.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",pl(n)),this.ys.getDocumentsMatchingQuery(e,n,Vr.min(),a)}Fs(e,n,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="LocalStore";class xN{constructor(e,n,a,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new sn(Pe),this.Os=new Ks(u=>ap(u),op),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _N(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function DN(r,e,n,a){return new xN(r,e,n,a)}async function WT(r,e){const n=Xe(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=Kt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:m}))})})}function MN(r,e){const n=Xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,A=S.keys();let U=ee.resolve();return A.forEach(k=>{U=U.next(()=>E.getEntry(p,k)).next($=>{const F=y.docVersions.get(k);st(F!==null,48541),$.version.compareTo(F)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))})}),U.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Kt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function kN(r){const e=Xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function PN(r,e){const n=Xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=tp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}class i0{constructor(){this.activeTargetIds=UO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VN{constructor(){this.xo=new i0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new i0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="ConnectivityMonitor";class s0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(r0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(r0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function Sm(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===Xc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,n,a,o,u){const f=Sm(),m=this.jo(e,n.toUriEncodedString());he(Wd,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:y}=new URL(m),E=Ja(y);return this.Jo(e,m,p,a,E).then(S=>(he(Wd,`Received RPC '${e}' ${f}: `,S),S),S=>{throw Th(Wd,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",a),S})}Yo(e,n,a,o,u,f){return this.zo(e,n,a,o,u)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const a=LN[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class BN extends jN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=Sm();return new Promise((m,p)=>{const y=new fT;y.setWithCredentials(!0),y.listenOnce(dT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const S=y.getResponseJson();he(Ft,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Mc.TIMEOUT:he(Ft,`RPC '${e}' ${f} timed out`),p(new Te(re.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const A=y.getStatus();if(he(Ft,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const k=U==null?void 0:U.error;if(k&&k.status&&k.message){const $=function(G){const ne=G.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ne)>=0?ne:re.UNKNOWN}(k.status);p(new Te($,k.message))}else p(new Te(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Te(re.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(Ft,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);he(Ft,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,a,15)})}T_(e,n,a){const o=Sm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=gT(),m=pT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Ft,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let A=!1,U=!1;const k=new zN({Zo:F=>{U?he(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(he(Ft,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),he(Ft,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Xo:()=>S.close()}),$=(F,G,ne)=>{F.listen(G,W=>{try{ne(W)}catch(ue){setTimeout(()=>{throw ue},0)}})};return $(S,vl.EventType.OPEN,()=>{U||(he(Ft,`RPC '${e}' stream ${o} transport opened.`),k.__())}),$(S,vl.EventType.CLOSE,()=>{U||(U=!0,he(Ft,`RPC '${e}' stream ${o} transport closed`),k.u_())}),$(S,vl.EventType.ERROR,F=>{U||(U=!0,Th(Ft,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),k.u_(new Te(re.UNAVAILABLE,"The operation could not be completed")))}),$(S,vl.EventType.MESSAGE,F=>{var G;if(!U){const ne=F.data[0];st(!!ne,16349);const W=ne,ue=(W==null?void 0:W.error)||((G=W[0])===null||G===void 0?void 0:G.error);if(ue){he(Ft,`RPC '${e}' stream ${o} received error:`,ue);const ie=ue.status;let pe=function(R){const N=dt[R];if(N!==void 0)return QO(N)}(ie),D=ue.message;pe===void 0&&(pe=re.INTERNAL,D="Unknown error status: "+ie+" with message "+ue.message),U=!0,k.u_(new Te(pe,D)),S.close()}else he(Ft,`RPC '${e}' stream ${o} received:`,ne),k.c_(ne)}}),$(m,mT.STAT_EVENT,F=>{F.stat===mm.PROXY?he(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===mm.NOPROXY&&he(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r){return new XO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=a,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-a);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="PersistentStream";class HN{constructor(e,n,a,o,u,f,m,p){this.xi=e,this.y_=a,this.w_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new JT(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.S_===n&&this.K_(a,o)},a=>{e(()=>{const o=new Te(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(o)})})}K_(e,n){const a=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.W_(o))}),this.stream.onMessage(o=>{a(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return he(a0,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(he(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qN extends HN{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=rN(e.writeResults,e.commitTime),a=Ka(e.commitTime);return this.listener.ea(a,n)}ta(){const e={};e.database=tN(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>iN(this.serializer,a))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{}class GN extends FN{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.na=!1}ra(){if(this.na)throw new Te(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,bm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(re.UNKNOWN,u.toString())})}Yo(e,n,a,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,bm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Te(re.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class KN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ls(n),this.oa=!1):he("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="RemoteStore";class $N{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(f=>{a.enqueueAndForget(async()=>{Yl(this)&&(he(Kl,"Restarting streams for network reachability change."),await async function(p){const y=Xe(p);y.Ta.add(4),await $l(y),y.da.set("Unknown"),y.Ta.delete(4),await Ih(y)}(this))})}),this.da=new KN(a,o)}}async function Ih(r){if(Yl(r))for(const e of r.Ia)await e(!0)}async function $l(r){for(const e of r.Ia)await e(!1)}function Yl(r){return Xe(r).Ta.size===0}async function eb(r,e,n){if(!Gl(e))throw e;r.Ta.add(1),await $l(r),r.da.set("Offline"),n||(n=()=>kN(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(Kl,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await Ih(r)})}function tb(r,e){return e().catch(n=>eb(r,n,e))}async function Ch(r){const e=Xe(r),n=Lr(e);let a=e.ha.length>0?e.ha[e.ha.length-1].batchId:tp;for(;YN(e);)try{const o=await PN(e.localStore,a);if(o===null){e.ha.length===0&&n.N_();break}a=o.batchId,QN(e,o)}catch(o){await eb(e,o)}nb(e)&&ib(e)}function YN(r){return Yl(r)&&r.ha.length<10}function QN(r,e){r.ha.push(e);const n=Lr(r);n.M_()&&n.Y_&&n.Z_(e.mutations)}function nb(r){return Yl(r)&&!Lr(r).F_()&&r.ha.length>0}function ib(r){Lr(r).start()}async function XN(r){Lr(r).ta()}async function ZN(r){const e=Lr(r);for(const n of r.ha)e.Z_(n.mutations)}async function WN(r,e,n){const a=r.ha.shift(),o=cp.from(a,e,n);await tb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ch(r)}async function JN(r,e){e&&Lr(r).Y_&&await async function(a,o){if(function(f){return YO(f)&&f!==re.ABORTED}(o.code)){const u=a.ha.shift();Lr(a).O_(),await tb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ch(a)}}(r,e),nb(r)&&ib(r)}async function o0(r,e){const n=Xe(r);n.asyncQueue.verifyOperationInProgress(),he(Kl,"RemoteStore received new credentials");const a=Yl(n);n.Ta.add(3),await $l(n),a&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Ih(n)}async function ex(r,e){const n=Xe(r);e?(n.Ta.delete(2),await Ih(n)):e||(n.Ta.add(2),await $l(n),n.da.set("Unknown"))}function Lr(r){return r.Va||(r.Va=function(n,a,o){const u=Xe(n);return u.ra(),new qN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:XN.bind(null,r),i_:JN.bind(null,r),X_:ZN.bind(null,r),ea:WN.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await Ch(r)):(await r.Va.stop(),r.ha.length>0&&(he(Kl,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new mp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rb(r,e){if(Ls("AsyncQueue",`${e}: ${r}`),Gl(r))return new Te(re.UNAVAILABLE,`${e}: ${r}`);throw r}class tx{constructor(){this.queries=l0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,a){const o=Xe(n),u=o.queries;o.queries=l0(),u.forEach((f,m)=>{for(const p of m.ya)p.onError(a)})})(this,new Te(re.ABORTED,"Firestore shutting down"))}}function l0(){return new Ks(r=>VT(r),PT)}function nx(r){r.ba.forEach(e=>{e.next()})}var u0,c0;(c0=u0||(u0={})).Ca="default",c0.Cache="cache";const ix="SyncEngine";class rx{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new Ks(m=>VT(m),PT),this.cu=new Map,this.lu=new Set,this.hu=new sn(Se.comparator),this.Pu=new Map,this.Tu=new hp,this.Iu={},this.Eu=new Map,this.du=Za.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function sx(r,e,n){const a=ux(r);try{const o=await function(f,m){const p=Xe(f),y=Ot.now(),E=m.reduce((U,k)=>U.add(k.key),Kt());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",U=>{let k=eh(),$=Kt();return p.Bs.getEntries(U,E).next(F=>{k=F,k.forEach((G,ne)=>{ne.isValidDocument()||($=$.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(U,k)).next(F=>{S=F;const G=[];for(const ne of m){const W=FO(ne,S.get(ne.key).overlayedDocument);W!=null&&G.push(new $s(ne.key,W,CT(W.value.mapValue),$i.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,G,m)}).next(F=>{A=F;const G=F.applyToLocalDocumentSet(S,$);return p.documentOverlayCache.saveOverlays(U,F.batchId,G)})}).then(()=>({batchId:A.batchId,changes:LT(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Iu[f.currentUser.toKey()];y||(y=new sn(Pe)),y=y.insert(m,p),f.Iu[f.currentUser.toKey()]=y}(a,o.batchId,n),await Oh(a,o.changes),await Ch(a.remoteStore)}catch(o){const u=rb(o,"Failed to persist write");n.reject(u)}}function h0(r,e,n){const a=Xe(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.uu.forEach((u,f)=>{const m=f.view.Da(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Xe(f);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const A of S.ya)A.Da(m)&&(y=!0)}),y&&nx(p)}(a.eventManager,e),o.length&&a.au.j_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ax(r,e){const n=Xe(r),a=e.batch.batchId;try{const o=await MN(n.localStore,e);ab(n,a,null),sb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Oh(n,o)}catch(o){await Jm(o)}}async function ox(r,e,n){const a=Xe(r);try{const o=await function(f,m){const p=Xe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(st(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,e);ab(a,e,n),sb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Oh(a,o)}catch(o){await Jm(o)}}function sb(r,e){(r.Eu.get(e)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(e)}function ab(r,e,n){const a=Xe(r);let o=a.Iu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Iu[a.currentUser.toKey()]=o}}async function Oh(r,e,n){const a=Xe(r),o=[],u=[],f=[];a.uu.isEmpty()||(a.uu.forEach((m,p)=>{f.push(a.Ru(p,e,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const S=y?!y.fromCache:(E=void 0)===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=dp.Rs(p.targetId,y);u.push(S)}}))}),await Promise.all(f),a.au.j_(o),await async function(p,y){const E=Xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ee.forEach(y,A=>ee.forEach(A.ds,U=>E.persistence.referenceDelegate.addReference(S,A.targetId,U)).next(()=>ee.forEach(A.As,U=>E.persistence.referenceDelegate.removeReference(S,A.targetId,U)))))}catch(S){if(!Gl(S))throw S;he(NN,"Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const U=E.xs.get(A),k=U.snapshotVersion,$=U.withLastLimboFreeSnapshotVersion(k);E.xs=E.xs.insert(A,$)}}}(a.localStore,u))}async function lx(r,e){const n=Xe(r);if(!n.currentUser.isEqual(e)){he(ix,"User change. New user:",e.toKey());const a=await WT(n.localStore,e);n.currentUser=e,function(u,f){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new Te(re.CANCELLED,f))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Oh(n,a.ks)}}function ux(r){const e=Xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ax.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ox.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return DN(this.persistence,new ON,e.initialUser,this.serializer)}yu(e){return new ZT(fp.fi,this.serializer)}pu(e){return new VN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class cx extends rh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){st(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new mN(a,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new ZT(a=>ih.fi(a,n),this.serializer)}}class wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>h0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=lx.bind(null,this.syncEngine),await ex(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tx}()}createDatastore(e){const n=Rh(e.databaseInfo.databaseId),a=function(u){return new BN(u)}(e.databaseInfo);return function(u,f,m,p){return new GN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new $N(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>h0(this.syncEngine,n,0),function(){return s0.C()?new s0:new UN}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const S=new rx(o,u,f,m,p,y);return E&&(S.Au=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Xe(o);he(Kl,"RemoteStore shutting down."),u.Ta.add(5),await $l(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class hx{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=_T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{he(jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(he(jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=rb(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function em(r,e){r.asyncQueue.verifyOperationInProgress(),he(jr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await WT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function f0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await fx(r);he(jr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>o0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>o0(e.remoteStore,o)),r._onlineComponents=e}async function fx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(jr,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Th("Error using user provided cache. Falling back to memory cache: "+n),await em(r,new rh)}}else he(jr,"Using default OfflineComponentProvider"),await em(r,new cx(void 0));return r._offlineComponents}async function dx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(jr,"Using user provided OnlineComponentProvider"),await f0(r,r._uninitializedComponentsProvider._online)):(he(jr,"Using default OnlineComponentProvider"),await f0(r,new wm))),r._onlineComponents}function mx(r){return dx(r).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(r,e,n){if(!n)throw new Te(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function gx(r,e,n,a){if(e===!0&&a===!0)throw new Te(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function m0(r){if(!Se.isDocumentKey(r))throw new Te(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function Rm(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Te(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pp(r);throw new Te(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firestore.googleapis.com",p0=!0;class g0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lb,this.ssl=p0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:p0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fN)throw new Te(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ob((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Te(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Te(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Te(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new KC;switch(a.type){case"firstParty":return new XC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Te(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=d0.get(n);a&&(he("ComponentProvider","Removing Datastore"),d0.delete(n),a.terminate())}(this),Promise.resolve()}}function yx(r,e,n,a={}){var o;r=Rm(r,gp);const u=Ja(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(km(`https://${p}`),Pm("Firestore",!0)),f.host!==lb&&f.host!==p&&Th("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:a});if(!Pr(y,m)&&(r._setSettings(y),a.mockUserToken)){let E,S;if(typeof a.mockUserToken=="string")E=a.mockUserToken,S=Gt.MOCK_USER;else{E=eE(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new Te(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Gt(A)}r._authCredentials=new $C(new vT(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new yp(this.firestore,e,this._query)}}class Yi{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yi(this.firestore,e,this._key)}}class Pl extends yp{constructor(e,n,a){super(e,n,CO(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yi(this.firestore,null,new Se(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function vx(r,e,...n){if(r=Nt(r),arguments.length===1&&(e=_T.newId()),px("doc","path",e),r instanceof gp){const a=mt.fromString(e,...n);return m0(a),new Yi(r,null,new Se(a))}{if(!(r instanceof Yi||r instanceof Pl))throw new Te(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(mt.fromString(e,...n));return m0(a),new Yi(r.firestore,r instanceof Pl?r.converter:null,new Se(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="AsyncQueue";class v0{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new JT(this,"async_queue_retry"),this.ec=()=>{const a=Jd();a&&he(y0,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=e;const n=Jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new xs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Gl(e))throw e;he(y0,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(a=>{throw this.Ju=a,this.Yu=!1,Ls("INTERNAL UNHANDLED ERROR: ",_0(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=n,n}enqueueAfterDelay(e,n,a){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=mp.createAndSchedule(this,e,n,a,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&Ie(47125,{_c:_0(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function _0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ub extends gp{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new v0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v0(e),this._firestoreClient=void 0,await e}}}function _x(r,e){const n=typeof r=="object"?r:ph(),a=typeof r=="string"?r:Xc,o=zr(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Z0("firestore");u&&yx(o,...u)}return o}function Ex(r){if(r._terminated)throw new Te(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Tx(r),r._firestoreClient}function Tx(r){var e,n,a;const o=r._freezeSettings(),u=function(m,p,y,E){return new dO(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ob(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new hx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vl(fi.fromBase64String(e))}catch(n){throw new Te(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vl(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=/^__.*__$/;class fb{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new $s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function db(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{hc:r})}}class Ep{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:a,Ec:!1});return o.dc(e),o}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:a,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return sh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(db(this.hc)&&bx.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Ax{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Rh(e)}gc(e,n,a,o=!1){return new Ep({hc:e,methodName:n,fc:a,path:jt.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sx(r){const e=r._freezeSettings(),n=Rh(r._databaseId);return new Ax(r._databaseId,!!e.ignoreUndefinedProperties,n)}class Nh extends _p{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function wx(r,e,n,a){const o=r.gc(1,e,n);pb("Data must be an object, but it was:",o,a);const u=[],f=Nn.empty();Gs(a,(p,y)=>{const E=gb(e,p,n);y=Nt(y);const S=o.Ac(E);if(y instanceof Nh)u.push(E);else{const A=xh(y,S);A!=null&&(u.push(E),f.set(E,A))}});const m=new Bn(u);return new fb(f,m,o.fieldTransforms)}function Rx(r,e,n,a,o,u){const f=r.gc(1,e,n),m=[E0(e,a,n)],p=[o];if(u.length%2!=0)throw new Te(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(E0(e,u[A])),p.push(u[A+1]);const y=[],E=Nn.empty();for(let A=m.length-1;A>=0;--A)if(!Ox(y,m[A])){const U=m[A];let k=p[A];k=Nt(k);const $=f.Ac(U);if(k instanceof Nh)y.push(U);else{const F=xh(k,$);F!=null&&(y.push(U),E.set(U,F))}}const S=new Bn(y);return new fb(E,S,f.fieldTransforms)}function xh(r,e){if(mb(r=Nt(r)))return pb("Unsupported field value:",e,r),Ix(r,e);if(r instanceof _p)return function(a,o){if(!db(o.hc))throw o.Vc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=xh(m,o.Rc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=Nt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return LO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ot.fromDate(a);return{timestampValue:Tm(o.serializer,u)}}if(a instanceof Ot){const u=new Ot(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Tm(o.serializer,u)}}if(a instanceof cb)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vl)return{bytesValue:ZO(o.serializer,a._byteString)};if(a instanceof Yi){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:YT(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof hb)return function(f,m){return{mapValue:{fields:{[RT]:{stringValue:IT},[gm]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Vc("VectorValues must only contain numeric values.");return up(m.serializer,y)})}}}}}}(a,o);throw o.Vc(`Unsupported field value: ${pp(a)}`)}(r,e)}function Ix(r,e){const n={};return TT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(r,(a,o)=>{const u=xh(o,e.Ic(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function mb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ot||r instanceof cb||r instanceof Vl||r instanceof Yi||r instanceof _p||r instanceof hb)}function pb(r,e,n){if(!mb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=pp(n);throw a==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+a)}}function E0(r,e,n){if((e=Nt(e))instanceof vp)return e._internalPath;if(typeof e=="string")return gb(r,e);throw sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Cx=new RegExp("[~\\*/\\[\\]]");function gb(r,e,n){if(e.search(Cx)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new vp(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new Te(re.INVALID_ARGUMENT,m+r+p)}function Ox(r,e){return r.some(n=>n.isEqual(e))}function Nx(r,e,n,...a){r=Rm(r,Yi);const o=Rm(r.firestore,ub),u=Sx(o);let f;return f=typeof(e=Nt(e))=="string"||e instanceof vp?Rx(u,"updateDoc",r._key,e,n,a):wx(u,"updateDoc",r._key,e),xx(o,[f.toMutation(r._key,$i.exists(!0))])}function xx(r,e){return function(a,o){const u=new xs;return a.asyncQueue.enqueueAndForget(async()=>sx(await mx(a),o,u)),u.promise}(Ex(r),e)}(function(e,n=!0){(function(o){to=o})(qs),qn(new xn("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new ub(new YC(a.getProvider("auth-internal")),new ZC(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Te(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),nn(M_,k_,e),nn(M_,k_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebasestorage.googleapis.com",Dx="storageBucket",Mx=2*60*1e3,kx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Dn{constructor(e,n,a=0){super(tm(e),`Firebase Storage: ${n} (${tm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mi||(mi={}));function tm(r){return"storage/"+r}function Px(){const r="An unknown error occurred, please check the error payload for server response.";return new gi(mi.UNKNOWN,r)}function Vx(){return new gi(mi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ux(){return new gi(mi.CANCELED,"User canceled the upload/download.")}function Lx(r){return new gi(mi.INVALID_URL,"Invalid URL '"+r+"'.")}function jx(r){return new gi(mi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function T0(r){return new gi(mi.INVALID_ARGUMENT,r)}function vb(){return new gi(mi.APP_DELETED,"The Firebase app was deleted.")}function zx(r){return new gi(mi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Hn.makeFromUrl(e,n)}catch{return new Hn(e,"")}if(a.path==="")return a;throw jx(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(ue){ue.path_=decodeURIComponent(ue.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",U=new RegExp(`^https?://${S}/${E}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},$=n===yb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",G=new RegExp(`^https?://${$}/${o}/${F}`,"i"),W=[{regex:m,indices:p,postModify:u},{regex:U,indices:k,postModify:y},{regex:G,indices:{bucket:1,path:2},postModify:y}];for(let ue=0;ue<W.length;ue++){const ie=W[ue],pe=ie.regex.exec(e);if(pe){const D=pe[ie.indices.bucket];let w=pe[ie.indices.path];w||(w=""),a=new Hn(D,w),ie.postModify(a);break}}if(a==null)throw Lx(e);return a}}class Bx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(r,e,n){let a=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let y=!1;function E(...F){y||(y=!0,e.apply(null,F))}function S(F){o=setTimeout(()=>{o=null,r(U,p())},F)}function A(){u&&clearTimeout(u)}function U(F,...G){if(y){A();return}if(F){A(),E.call(null,F,...G);return}if(p()||f){A(),E.call(null,F,...G);return}a<64&&(a*=2);let W;m===1?(m=2,W=0):W=(a+Math.random())*1e3,S(W)}let k=!1;function $(F){k||(k=!0,A(),!y&&(o!==null?(F||(m=2),clearTimeout(o),S(0)):F||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,$(!0)},n),$}function qx(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(r){return r!==void 0}function b0(r,e,n,a){if(a<e)throw T0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw T0(`Invalid value for '${r}'. Expected ${n} or less.`)}function Gx(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var ah;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ah||(ah={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,a,o,u,f,m,p,y,E,S,A=!0,U=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=S,this.retry=A,this.isUsingEmulator=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,$)=>{this.resolve_=k,this.reject_=$,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Rc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ah.NO_ERROR,p=u.getStatus();if(!m||Kx(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ah.ABORT;a(!1,new Rc(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;a(!0,new Rc(y,u))})},n=(a,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Fx(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=Px();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?vb():Ux();f(p)}else{const p=Vx();f(p)}};this.canceled_?n(!1,new Rc(!1,null,!0)):this.backoffId_=Hx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rc{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function Yx(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Qx(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Xx(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Zx(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Wx(r,e,n,a,o,u,f=!0,m=!1){const p=Gx(r.urlParams),y=r.url+p,E=Object.assign({},r.headers);return Xx(E,e),Yx(E,n),Qx(E,u),Zx(E,a),new $x(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function eD(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this._service=e,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oh(e,n)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eD(this._location.path)}get storage(){return this._service}get parent(){const e=Jx(this._location.path);if(e===null)return null;const n=new Hn(this._location.bucket,e);return new oh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zx(e)}}function A0(r,e){const n=e==null?void 0:e[Dx];return n==null?null:Hn.makeFromBucketSpec(n,r)}function tD(r,e,n,a={}){r.host=`${e}:${n}`;const o=Ja(e);o&&(km(`https://${r.host}`),Pm("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:eE(u,r.app.options.projectId))}class nD{constructor(e,n,a,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=yb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Mx,this._maxUploadRetryTime=kx,this._requests=new Set,o!=null?this._bucket=Hn.makeFromBucketSpec(o,this._host):this._bucket=A0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=A0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oh(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new Bx(vb());{const f=Wx(e,this._appId,a,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const S0="@firebase/storage",w0="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="storage";function iD(r=ph(),e){r=Nt(r);const a=zr(r,_b).getImmediate({identifier:e}),o=Z0("storage");return o&&rD(a,...o),a}function rD(r,e,n,a={}){tD(r,e,n,a)}function sD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new nD(n,a,o,e,qs)}function aD(){qn(new xn(_b,sD,"PUBLIC").setMultipleInstances(!0)),nn(S0,w0,""),nn(S0,w0,"esm2017")}aD();const oD={apiKey:"AIzaSyBDiNfZbbFCuX_VBvRXmjyVkMTuUxSyR1A",authDomain:"grading-system-project-cb8ac.firebaseapp.com",projectId:"grading-system-project-cb8ac",storageBucket:"grading-system-project-cb8ac.firebasestorage.app",messagingSenderId:"469921719876",appId:"1:469921719876:web:a11b9209cba63ebe407e11",measurementId:"G-SNNEVMLKJR"},Dh=oE(oD);CI(Dh);const Rl=FC(Dh),lD=_x(Dh);iD(Dh);const uD=({setUser:r})=>{const[e,n]=X.useState("student"),[a,o]=X.useState(""),[u,f]=X.useState(""),[m,p]=X.useState(""),[y,E]=X.useState(""),S=async()=>{if(!u||!m||!a){E("Name, email, and password are required");return}try{const U=await N2(Rl,u,m);localStorage.setItem("userRole",e),localStorage.setItem("userName",a),r({name:a,role:e,email:U.user.email})}catch(U){E("Login failed: "+U.message)}},A=async()=>{if(!u||!m||!a){E("Name, email, and password are required");return}try{const U=await O2(Rl,u,m);localStorage.setItem("userRole",e),localStorage.setItem("userName",a),r({name:a,role:e,email:U.user.email})}catch(U){E("Signup failed: "+U.message)}};return V.jsxs("div",{className:"max-w-md mx-auto mt-20 p-8 bg-white rounded-lg shadow-md border border-gray-200",children:[V.jsx("h2",{className:"text-3xl font-extrabold text-center mb-6 text-indigo-700",children:"Welcome Back"}),y&&V.jsx("div",{className:"mb-4 text-red-600",children:y}),V.jsx("label",{className:"block mb-2 font-semibold text-gray-700",htmlFor:"name",children:"Enter Your Name"}),V.jsx("input",{id:"name",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-5",placeholder:"Your Name",value:a,onChange:U=>o(U.target.value),autoComplete:"off"}),V.jsx("label",{className:"block mb-2 font-semibold text-gray-700",htmlFor:"email",children:"Email"}),V.jsx("input",{id:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-5",placeholder:"Email",value:u,onChange:U=>f(U.target.value),autoComplete:"off"}),V.jsx("label",{className:"block mb-2 font-semibold text-gray-700",htmlFor:"password",children:"Password"}),V.jsx("input",{id:"password",type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-5",placeholder:"Password",value:m,onChange:U=>p(U.target.value),autoComplete:"off"}),V.jsx("label",{className:"block mb-2 font-semibold text-gray-700",htmlFor:"role",children:"Select Role"}),V.jsxs("select",{id:"role",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-7",value:e,onChange:U=>n(U.target.value),children:[V.jsx("option",{value:"student",children:"Student"}),V.jsx("option",{value:"teacher",children:"Teacher"})]}),V.jsx("button",{onClick:S,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-md transition duration-300 mb-2",children:"Login"}),V.jsx("button",{onClick:A,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 rounded-md transition duration-300",children:"Sign Up"})]})};var Eb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R0=Ns.createContext&&Ns.createContext(Eb),cD=["attr","size","title"];function hD(r,e){if(r==null)return{};var n=fD(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function fD(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function lh(){return lh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},lh.apply(this,arguments)}function I0(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function uh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I0(Object(n),!0).forEach(function(a){dD(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):I0(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function dD(r,e,n){return e=mD(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function mD(r){var e=pD(r,"string");return typeof e=="symbol"?e:e+""}function pD(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Tb(r){return r&&r.map((e,n)=>Ns.createElement(e.tag,uh({key:n},e.attr),Tb(e.child)))}function qr(r){return e=>Ns.createElement(gD,lh({attr:uh({},r.attr)},e),Tb(r.child))}function gD(r){var e=n=>{var{attr:a,size:o,title:u}=r,f=hD(r,cD),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Ns.createElement("svg",lh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:p,style:uh(uh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ns.createElement("title",null,u),r.children)};return R0!==void 0?Ns.createElement(R0.Consumer,null,n=>e(n)):e(Eb)}function bb(r){return qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(r)}function yD(r){return qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(r)}function C0(r){return qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(r)}function Im(r){return qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(r)}function Ab(r){return qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function vD(r){return qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(r)}function O0(r){return qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(r)}function nm(r){return qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}const _D=({user:r,assignments:e,setAssignments:n,assignmentGrades:a,grades:o,logout:u})=>{const[f,m]=X.useState([]),[p,y]=X.useState(!1),[E,S]=X.useState(!1),A=F=>{const G=Array.from(F.target.files).map(ne=>({fileName:ne.name,fileSize:(ne.size/1024).toFixed(2)+" KB",fileType:ne.type.split("/")[1]||ne.name.split(".").pop(),fileContent:URL.createObjectURL(ne)}));m(G),S(!1)},U=()=>{if(f.length===0){alert("Please upload at least one file.");return}y(!0),setTimeout(()=>{const F={student:r.name,files:f,timestamp:new Date().toLocaleString()};n(G=>[...G,F]),m([]),y(!1),S(!0),setTimeout(()=>S(!1),3e3)},1500)},$=(()=>{if(!o[r.name])return null;const F=Object.values(o[r.name]).filter(G=>typeof G=="number");return F.length===0?null:(F.reduce((G,ne)=>G+ne,0)/F.length).toFixed(1)})();return V.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:V.jsxs("div",{className:"max-w-4xl mx-auto",children:[V.jsxs("div",{className:"flex justify-between items-center mb-8",children:[V.jsxs("div",{children:[V.jsx("h1",{className:"text-3xl font-bold text-indigo-800",children:"Student Portal"}),V.jsxs("p",{className:"text-indigo-600",children:["Welcome back, ",V.jsx("span",{className:"font-semibold",children:r.name})]})]}),V.jsxs("button",{onClick:u,className:"flex items-center gap-2 bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg transition-all duration-200",children:[V.jsx(Ab,{})," Logout"]})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[V.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md overflow-hidden",children:V.jsxs("div",{className:"p-6",children:[V.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[V.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:V.jsx(O0,{className:"text-indigo-600 text-xl"})}),V.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Submit Assignment"})]}),V.jsxs("div",{className:"mb-6",children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload your files"}),V.jsx("div",{className:"flex items-center justify-center w-full",children:V.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-all duration-200",children:[V.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[V.jsx(O0,{className:"text-gray-500 text-2xl mb-2"}),V.jsxs("p",{className:"text-sm text-gray-500",children:[V.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),V.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOCX, PPTX (MAX. 10MB)"})]}),V.jsx("input",{type:"file",multiple:!0,onChange:A,className:"hidden"})]})})]}),f.length>0&&V.jsxs("div",{className:"mb-6",children:[V.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected files:"}),V.jsx("div",{className:"space-y-2",children:f.map((F,G)=>V.jsx("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx(Im,{className:"text-indigo-500"}),V.jsxs("div",{children:[V.jsx("p",{className:"text-sm font-medium",children:F.fileName}),V.jsxs("p",{className:"text-xs text-gray-500",children:[F.fileSize,"  ",F.fileType.toUpperCase()]})]})]})},G))})]}),V.jsx("button",{onClick:U,disabled:f.length===0||p,className:`w-full flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-all duration-200 ${f.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:p?V.jsxs(V.Fragment,{children:[V.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[V.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),V.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):V.jsxs(V.Fragment,{children:[V.jsx(C0,{})," Submit Assignment"]})}),E&&V.jsxs("div",{className:"mt-4 p-3 bg-green-100 text-green-700 rounded-lg text-sm flex items-center gap-2 animate-fade-in",children:[V.jsx(C0,{className:"text-green-600"}),"Assignment submitted successfully!"]})]})}),V.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:V.jsxs("div",{className:"p-6",children:[V.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[V.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:V.jsx(bb,{className:"text-purple-600 text-xl"})}),V.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Your Grades"})]}),$&&V.jsxs("div",{className:"mb-6",children:[V.jsxs("div",{className:"flex items-end justify-between mb-2",children:[V.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Overall Average"}),V.jsx("span",{className:"text-xs text-gray-500",children:"Out of 100"})]}),V.jsxs("div",{className:"relative pt-1",children:[V.jsx("div",{className:"flex items-center justify-between",children:V.jsx("div",{children:V.jsx("span",{className:"text-2xl font-bold text-purple-600",children:$})})}),V.jsx("div",{className:"overflow-hidden h-2 mt-2 text-xs flex rounded bg-purple-200",children:V.jsx("div",{style:{width:`${$}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-purple-600"})})]})]}),V.jsxs("div",{className:"space-y-4",children:[V.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Subject Grades"}),o[r.name]?V.jsx("div",{className:"space-y-3",children:Object.entries(o[r.name]).map(([F,G])=>V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("span",{className:"text-sm font-medium text-gray-700",children:F}),V.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${typeof G=="number"?G>=70?"bg-green-100 text-green-800":G>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:G||"Pending"})]},F))}):V.jsx("p",{className:"text-sm text-gray-500",children:"No grades available yet"})]}),V.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[V.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assignment Grade"}),V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Latest Submission"}),V.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${a[r.name]?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a[r.name]||"Not graded"})]})]})]})})]})]})})},ED=({assignments:r,setGrades:e,grades:n,assignmentGrades:a,setAssignmentGrades:o,logout:u})=>{const[f,m]=X.useState({}),[p,y]=X.useState({}),[E,S]=X.useState("grading"),[A,U]=X.useState(""),k=["OS","WEB","CN","OOP","ML"],$=(W,ue,ie)=>{m(pe=>({...pe,[W]:{...pe[W]||{},[ue]:ie}}))},F=(W,ue)=>{y(ie=>({...ie,[W]:ue}))},G=async W=>{f[W]&&e(ie=>({...ie,[W]:f[W]})),p[W]&&o(ie=>({...ie,[W]:p[W]}));const ue=r.find(ie=>ie.student===W);if(ue)try{const ie=vx(lD,"assignments",ue.id);await Nx(ie,{grade:p[W]||"",subjectGrades:f[W]||{}})}catch(ie){console.error("Error saving grades:",ie)}},ne=r.filter(W=>W.student.toLowerCase().includes(A.toLowerCase()));return V.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:V.jsxs("div",{className:"max-w-6xl mx-auto",children:[V.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[V.jsxs("div",{children:[V.jsxs("h1",{className:"text-3xl font-bold text-indigo-800 flex items-center gap-2",children:[V.jsx(yD,{className:"text-indigo-600"})," Teacher Portal"]}),V.jsx("p",{className:"text-indigo-600",children:"Manage student submissions and grades"})]}),V.jsxs("button",{onClick:u,className:"flex items-center gap-2 bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg transition-all duration-200",children:[V.jsx(Ab,{})," Logout"]})]}),V.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[V.jsx("div",{className:"border-b border-gray-200",children:V.jsxs("nav",{className:"flex -mb-px",children:[V.jsxs("button",{onClick:()=>S("grading"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm flex items-center gap-2 ${E==="grading"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[V.jsx(bb,{})," Grading"]}),V.jsxs("button",{onClick:()=>S("students"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm flex items-center gap-2 ${E==="students"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[V.jsx(nm,{})," Students"]})]})}),V.jsx("div",{className:"p-4 border-b border-gray-200",children:V.jsxs("div",{className:"relative",children:[V.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:V.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),V.jsx("input",{type:"text",placeholder:"Search students...",value:A,onChange:W=>U(W.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),V.jsxs("div",{className:"p-6",children:[E==="grading"&&V.jsx(V.Fragment,{children:ne.length===0?V.jsxs("div",{className:"text-center py-12",children:[V.jsx("div",{className:"mx-auto h-24 w-24 text-gray-400",children:V.jsx(Im,{className:"w-full h-full"})}),V.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No assignments submitted"}),V.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Students haven't submitted any assignments yet."})]}):V.jsx("div",{className:"space-y-6",children:ne.map((W,ue)=>V.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow duration-200",children:[V.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[V.jsxs("div",{children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"bg-indigo-100 p-2 rounded-full",children:V.jsx(nm,{className:"text-indigo-600"})}),V.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:W.student})]}),V.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Submitted on ",W.timestamp]})]}),V.jsxs("button",{onClick:()=>G(W.student),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-all duration-200",children:[V.jsx(vD,{})," Save Grades"]})]}),V.jsxs("div",{className:"mb-6",children:[V.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Submitted Files"}),V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:W.files.map((ie,pe)=>V.jsxs("a",{href:ie.fileContent,download:ie.fileName,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[V.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:V.jsx(Im,{className:"text-blue-600"})}),V.jsxs("div",{className:"flex-1 min-w-0",children:[V.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ie.fileName}),V.jsxs("p",{className:"text-xs text-gray-500",children:[(ie.fileSize/1024).toFixed(2)," KB"]})]})]},pe))})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[V.jsxs("div",{children:[V.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Subject Grades"}),V.jsx("div",{className:"space-y-3",children:k.map(ie=>{var pe,D;return V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("label",{className:"text-sm font-medium text-gray-700 w-24",children:ie}),V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("input",{type:"text",placeholder:"Grade",value:((pe=f[W.student])==null?void 0:pe[ie])||"",onChange:w=>$(W.student,ie,w.target.value),className:"border border-gray-300 rounded-md px-3 py-1 w-20 text-sm focus:ring-indigo-500 focus:border-indigo-500"}),V.jsx("span",{className:"text-xs text-gray-500 w-10",children:((D=n[W.student])==null?void 0:D[ie])||"N/A"})]})]},ie)})})]}),V.jsxs("div",{children:[V.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Assignment Grade"}),V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Overall Grade"}),V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("input",{type:"text",placeholder:"A / B+ / C-",value:p[W.student]||"",onChange:ie=>F(W.student,ie.target.value),className:"border border-gray-300 rounded-md px-3 py-1 w-20 text-sm focus:ring-indigo-500 focus:border-indigo-500"}),V.jsx("span",{className:"text-xs text-gray-500 w-10",children:a[W.student]||"N/A"})]})]}),V.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:V.jsxs("div",{className:"flex",children:[V.jsx("div",{className:"flex-shrink-0",children:V.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:V.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),V.jsx("div",{className:"ml-3",children:V.jsx("p",{className:"text-sm text-yellow-700",children:"Remember to save grades after making changes."})})]})})]})]})]})]},ue))})}),E==="students"&&V.jsxs("div",{className:"text-center py-12",children:[V.jsx("div",{className:"mx-auto h-24 w-24 text-gray-400",children:V.jsx(nm,{className:"w-full h-full"})}),V.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Student Management"}),V.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Student management features coming soon."})]})]})]})]})})},TD=()=>{const[r,e]=X.useState(null),[n,a]=X.useState({}),[o,u]=X.useState([]),[f,m]=X.useState({});X.useEffect(()=>{const y=M2(Rl,E=>{if(E){const S=localStorage.getItem("userRole"),A=localStorage.getItem("userName");if(!S||!A){e(null),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),Rl.signOut();return}e({email:E.email,role:S,name:A})}else e(null)});return()=>y()},[]);const p=()=>{e(null),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),Rl.signOut()};return V.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-start bg-gradient-to-br from-indigo-100 via-purple-100 to-pink-100 p-6",children:[V.jsx("h1",{className:"text-3xl font-bold text-center mb-6 text-gray-800 drop-shadow-sm",children:V.jsx("span",{className:"inline-block px-6 py-2 border-2 border-indigo-600 rounded-lg bg-white shadow-md",children:" Grading System"})}),V.jsxs("div",{className:"w-full max-w-3xl",children:[!r&&V.jsx(uD,{setUser:e}),(r==null?void 0:r.role)==="student"&&V.jsx(_D,{user:r,grades:n,assignments:o,setAssignments:u,assignmentGrades:f,logout:p}),(r==null?void 0:r.role)==="teacher"&&V.jsx(ED,{assignments:o,setGrades:a,grades:n,assignmentGrades:f,setAssignmentGrades:m,logout:p})]})]})},bD=r1.createRoot(document.getElementById("root"));bD.render(V.jsx(_S,{children:V.jsx(TD,{})}));
