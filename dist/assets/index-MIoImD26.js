(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ME(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cm={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function wS(){if(Av)return Nl;Av=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var wv;function SS(){return wv||(wv=1,cm.exports=wS()),cm.exports}var k=SS(),hm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function RS(){if(Sv)return Re;Sv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,K={};function j(D,te,ue){this.props=D,this.context=te,this.refs=K,this.updater=ue||N}j.prototype.isReactComponent={},j.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function H(){}H.prototype=j.prototype;function ne(D,te,ue){this.props=D,this.context=te,this.refs=K,this.updater=ue||N}var re=ne.prototype=new H;re.constructor=ne,V(re,j.prototype),re.isPureReactComponent=!0;var ie=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function x(D,te,ue,se,ye,Ne){return ue=Ne.ref,{$$typeof:i,type:D,key:te,ref:ue!==void 0?ue:null,props:Ne}}function S(D,te){return x(D.type,te,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function O(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return te[ue]})}var P=/\/+/g;function U(D,te){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):te.toString(36)}function C(){}function Pt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function st(D,te,ue,se,ye){var Ne=typeof D;(Ne==="undefined"||Ne==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(Ne){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case i:case e:Ae=!0;break;case E:return Ae=D._init,st(Ae(D._payload),te,ue,se,ye)}}if(Ae)return ye=ye(D),Ae=se===""?"."+U(D,0):se,ie(ye)?(ue="",Ae!=null&&(ue=Ae.replace(P,"$&/")+"/"),st(ye,te,ue,"",function(Yn){return Yn})):ye!=null&&(R(ye)&&(ye=S(ye,ue+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+Ae)),te.push(ye)),1;Ae=0;var Ct=se===""?".":se+":";if(ie(D))for(var Ze=0;Ze<D.length;Ze++)se=D[Ze],Ne=Ct+U(se,Ze),Ae+=st(se,te,ue,Ne,ye);else if(Ze=A(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(se=D.next()).done;)se=se.value,Ne=Ct+U(se,Ze++),Ae+=st(se,te,ue,Ne,ye);else if(Ne==="object"){if(typeof D.then=="function")return st(Pt(D),te,ue,se,ye);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Q(D,te,ue){if(D==null)return D;var se=[],ye=0;return st(D,se,"","",function(Ne){return te.call(ue,Ne,ye++)}),se}function le(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ze(){}return Re.Children={map:Q,forEach:function(D,te,ue){Q(D,function(){te.apply(this,arguments)},ue)},count:function(D){var te=0;return Q(D,function(){te++}),te},toArray:function(D){return Q(D,function(te){return te})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=j,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return oe.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,te,ue){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=V({},D.props),ye=D.key,Ne=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(Ne=void 0),te.key!==void 0&&(ye=""+te.key),te)!he.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(se[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ue;else if(1<Ae){for(var Ct=Array(Ae),Ze=0;Ze<Ae;Ze++)Ct[Ze]=arguments[Ze+2];se.children=Ct}return x(D.type,ye,void 0,void 0,Ne,se)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,te,ue){var se,ye={},Ne=null;if(te!=null)for(se in te.key!==void 0&&(Ne=""+te.key),te)he.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=te[se]);var Ae=arguments.length-2;if(Ae===1)ye.children=ue;else if(1<Ae){for(var Ct=Array(Ae),Ze=0;Ze<Ae;Ze++)Ct[Ze]=arguments[Ze+2];ye.children=Ct}if(D&&D.defaultProps)for(se in Ae=D.defaultProps,Ae)ye[se]===void 0&&(ye[se]=Ae[se]);return x(D,Ne,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=R,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:le}},Re.memo=function(D,te){return{$$typeof:g,type:D,compare:te===void 0?null:te}},Re.startTransition=function(D){var te=oe.T,ue={};oe.T=ue;try{var se=D(),ye=oe.S;ye!==null&&ye(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,pe)}catch(Ne){pe(Ne)}finally{oe.T=te}},Re.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Re.use=function(D){return oe.H.use(D)},Re.useActionState=function(D,te,ue){return oe.H.useActionState(D,te,ue)},Re.useCallback=function(D,te){return oe.H.useCallback(D,te)},Re.useContext=function(D){return oe.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,te){return oe.H.useDeferredValue(D,te)},Re.useEffect=function(D,te,ue){var se=oe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(D,te)},Re.useId=function(){return oe.H.useId()},Re.useImperativeHandle=function(D,te,ue){return oe.H.useImperativeHandle(D,te,ue)},Re.useInsertionEffect=function(D,te){return oe.H.useInsertionEffect(D,te)},Re.useLayoutEffect=function(D,te){return oe.H.useLayoutEffect(D,te)},Re.useMemo=function(D,te){return oe.H.useMemo(D,te)},Re.useOptimistic=function(D,te){return oe.H.useOptimistic(D,te)},Re.useReducer=function(D,te,ue){return oe.H.useReducer(D,te,ue)},Re.useRef=function(D){return oe.H.useRef(D)},Re.useState=function(D){return oe.H.useState(D)},Re.useSyncExternalStore=function(D,te,ue){return oe.H.useSyncExternalStore(D,te,ue)},Re.useTransition=function(){return oe.H.useTransition()},Re.version="19.1.0",Re}var Rv;function hp(){return Rv||(Rv=1,hm.exports=RS()),hm.exports}var Y=hp();const Hs=ME(Y);var fm={exports:{}},xl={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function IS(){return Iv||(Iv=1,function(i){function e(Q,le){var pe=Q.length;Q.push(le);e:for(;0<pe;){var ze=pe-1>>>1,D=Q[ze];if(0<o(D,le))Q[ze]=le,Q[pe]=D,pe=ze;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var le=Q[0],pe=Q.pop();if(pe!==le){Q[0]=pe;e:for(var ze=0,D=Q.length,te=D>>>1;ze<te;){var ue=2*(ze+1)-1,se=Q[ue],ye=ue+1,Ne=Q[ye];if(0>o(se,pe))ye<D&&0>o(Ne,se)?(Q[ze]=Ne,Q[ye]=pe,ze=ye):(Q[ze]=se,Q[ue]=pe,ze=ue);else if(ye<D&&0>o(Ne,pe))Q[ze]=Ne,Q[ye]=pe,ze=ye;else break e}}return le}function o(Q,le){var pe=Q.sortIndex-le.sortIndex;return pe!==0?pe:Q.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,N=!1,V=!1,K=!1,j=!1,H=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ie(Q){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=Q)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function oe(Q){if(K=!1,ie(Q),!V)if(n(p)!==null)V=!0,he||(he=!0,U());else{var le=n(g);le!==null&&st(oe,le.startTime-Q)}}var he=!1,x=-1,S=5,R=-1;function O(){return j?!0:!(i.unstable_now()-R<S)}function P(){if(j=!1,he){var Q=i.unstable_now();R=Q;var le=!0;try{e:{V=!1,K&&(K=!1,ne(x),x=-1),N=!0;var pe=A;try{t:{for(ie(Q),w=n(p);w!==null&&!(w.expirationTime>Q&&O());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,A=w.priorityLevel;var D=ze(w.expirationTime<=Q);if(Q=i.unstable_now(),typeof D=="function"){w.callback=D,ie(Q),le=!0;break t}w===n(p)&&s(p),ie(Q)}else s(p);w=n(p)}if(w!==null)le=!0;else{var te=n(g);te!==null&&st(oe,te.startTime-Q),le=!1}}break e}finally{w=null,A=pe,N=!1}le=void 0}}finally{le?U():he=!1}}}var U;if(typeof re=="function")U=function(){re(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Pt=C.port2;C.port1.onmessage=P,U=function(){Pt.postMessage(null)}}else U=function(){H(P,0)};function st(Q,le){x=H(function(){Q(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var pe=A;A=le;try{return Q()}finally{A=pe}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=A;A=Q;try{return le()}finally{A=pe}},i.unstable_scheduleCallback=function(Q,le,pe){var ze=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,Q={id:E++,callback:le,priorityLevel:Q,startTime:pe,expirationTime:D,sortIndex:-1},pe>ze?(Q.sortIndex=pe,e(g,Q),n(p)===null&&Q===n(g)&&(K?(ne(x),x=-1):K=!0,st(oe,pe-ze))):(Q.sortIndex=D,e(p,Q),V||N||(V=!0,he||(he=!0,U()))),Q},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Q){var le=A;return function(){var pe=A;A=le;try{return Q.apply(this,arguments)}finally{A=pe}}}}(mm)),mm}var Cv;function CS(){return Cv||(Cv=1,dm.exports=IS()),dm.exports}var pm={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function NS(){if(Nv)return Kt;Nv=1;var i=hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Kt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Kt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Kt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,g){return p(g)},Kt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var xv;function xS(){if(xv)return pm.exports;xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=NS(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function DS(){if(Dv)return xl;Dv=1;var i=CS(),e=hp(),n=xS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case j:return"Profiler";case K:return"StrictMode";case oe:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case re:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case ie:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:Pt(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return Pt(t(r))}catch{}}return null}var st=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],D=-1;function te(t){return{current:t}}function ue(t){0>D||(t.current=ze[D],ze[D]=null,D--)}function se(t,r){D++,ze[D]=t.current,t.current=r}var ye=te(null),Ne=te(null),Ae=te(null),Ct=te(null);function Ze(t,r){switch(se(Ae,r),se(Ne,t),se(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?W_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=W_(r),t=Z_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ye),se(ye,t)}function Yn(){ue(ye),ue(Ne),ue(Ae)}function rr(t){t.memoizedState!==null&&se(Ct,t);var r=ye.current,a=Z_(r,t.type);r!==a&&(se(Ne,t),se(ye,a))}function bi(t){Ne.current===t&&(ue(ye),ue(Ne)),Ct.current===t&&(ue(Ct),wl._currentValue=pe)}var is=Object.prototype.hasOwnProperty,rs=i.unstable_scheduleCallback,ss=i.unstable_cancelCallback,To=i.unstable_shouldYield,pu=i.unstable_requestPaint,bn=i.unstable_now,cf=i.unstable_getCurrentPriorityLevel,bo=i.unstable_ImmediatePriority,na=i.unstable_UserBlockingPriority,as=i.unstable_NormalPriority,hf=i.unstable_LowPriority,ia=i.unstable_IdlePriority,Ao=i.log,gu=i.unstable_setDisableYieldValue,at=null,Fe=null;function un(t){if(typeof Ao=="function"&&gu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(at,t)}catch{}}var Ft=Math.clz32?Math.clz32:os,yu=Math.log,ff=Math.LN2;function os(t){return t>>>=0,t===0?32:31-(yu(t)/ff|0)|0}var ls=256,us=4194304;function Ln(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ra(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Ln(l):(v&=T,v!==0?h=Ln(v):a||(a=T&~t,a!==0&&(h=Ln(a))))):(T=l&~d,T!==0?h=Ln(T):v!==0?h=Ln(v):a||(a=l&~t,a!==0&&(h=Ln(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function cs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=ls;return ls<<=1,(ls&4194048)===0&&(ls=256),t}function Ro(){var t=us;return us<<=1,(us&62914560)===0&&(us=4194304),t}function Ai(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function wi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Ft(a),Z=1<<X;T[X]=0,I[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var G=F[X];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&Qn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Qn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Ft(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Co(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Ft(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ar(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:yv(t.type))}function _u(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var tt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+tt,dt="__reactProps$"+tt,An="__reactContainer$"+tt,No="__reactEvents$"+tt,df="__reactListeners$"+tt,or="__reactHandles$"+tt,vu="__reactResources$"+tt,hs="__reactMarker$"+tt;function lr(t){delete t[Tt],delete t[dt],delete t[No],delete t[df],delete t[or]}function Si(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[An]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=nv(t);t!==null;){if(a=t[Tt])return a;t=nv(t)}return r}t=a,a=t.parentNode}return null}function Xn(t){if(t=t[Tt]||t[An]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Wn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Wt(t){var r=t[vu];return r||(r=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(t){t[hs]=!0}var xo=new Set,aa={};function Un(t,r){Ri(t,r),Ri(t+"Capture",r)}function Ri(t,r){for(aa[t]=r,t=0;t<r.length;t++)xo.add(r[t])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tu={},fs={};function bu(t){return is.call(fs,t)?!0:is.call(Tu,t)?!1:Eu.test(t)?fs[t]=!0:(Tu[t]=!0,!1)}function ur(t,r,a){if(bu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Zn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function kt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ds,Au;function Ii(t){if(ds===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ds=r&&r[1]||"",Au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+t+Au}var oa=!1;function la(t,r){if(!t||oa)return"";oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var F=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){F=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){F=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),q=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{oa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ii(a):""}function Do(t){switch(t.tag){case 26:case 27:case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return la(t.type,!1);case 11:return la(t.type.render,!1);case 1:return la(t.type,!0);case 31:return Ii("Activity");default:return""}}function ua(t){try{var r="";do r+=Do(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mf(t){var r=Oo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ca(t){t._valueTracker||(t._valueTracker=mf(t))}function Mo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pf=/[\n"\\]/g;function mt(t){return t.replace(pf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function cn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Zt(r)):t.value!==""+Zt(r)&&(t.value=""+Zt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?cr(t,v,Zt(r)):a!=null?cr(t,v,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function ps(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Zt(a):"",r=r!=null?""+Zt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function cr(t,r,a){r==="number"&&ms(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ci(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function $e(t,r,a){if(r!=null&&(r=""+Zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Zt(a):""}function gs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ys.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Vo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&wu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&wu(t,d,r[d])}function Po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ni=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,Di=null;function ko(t){var r=Xn(t);if(r&&(t=r.stateNode)){var a=t[dt]||null;e:switch(t=r.stateNode,r.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[dt]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Mo(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ci(t,!!a.multiple,r,!1)}}}var Jn=!1;function Su(t,r,a){if(Jn)return t(r,a);Jn=!0;try{var l=t(r);return l}finally{if(Jn=!1,(xi!==null||Di!==null)&&(_c(),xi&&(r=xi,t=Di,Di=xi=null,ko(r),t)))for(r=0;r<t.length;r++)ko(t[r])}}function _s(t,r){var a=t.stateNode;if(a===null)return null;var l=a[dt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(jn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Rn=!1}var ei=null,hr=null,Oi=null;function Lo(){if(Oi)return Oi;var t,r=hr,a=r.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Oi=h.slice(t,1<l?1-l:void 0)}function ti(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function Uo(){return!1}function Nt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:Uo,this.isPropagationStopped=Uo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Nt(qe),Es=E({},qe,{view:0,detail:0}),Ru=Nt(Es),da,ma,ii,Ts=E({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(da=t.screenX-ii.screenX,ma=t.screenY-ii.screenY):ma=da=0,ii=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),In=Nt(Ts),Iu=E({},Ts,{dataTransfer:0}),_f=Nt(Iu),bs=E({},Es,{relatedTarget:0}),pa=Nt(bs),jo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),ga=Nt(jo),Cu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ya=Nt(Cu),vf=E({},qe,{data:0}),zo=Nt(vf),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=xu[t])?!!r[t]:!1}function ws(){return Bo}var Du=E({},Es,{key:function(t){if(t.key){var r=As[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_a=Nt(Du),Ou=E({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Nt(Ou),Mi=E({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Mu=Nt(Mi),Vu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=Nt(Vu),ku=E({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),va=Nt(ku),Jt=E({},qe,{newState:0,oldState:0}),Lu=Nt(Jt),Uu=[9,13,27,32],ri=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var y=jn&&"TextEvent"in window&&!c,_=jn&&(!ri||c&&8<c&&11>=c),b=" ",z=!1;function $(t,r){switch(t){case"keyup":return Uu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function bt(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(z=!0,b);case"textInput":return t=r.data,t===b&&z?null:t;default:return null}}function ke(t,r){if(Pe)return t==="compositionend"||!ri&&$(t,r)?(t=Lo(),Oi=hr=ei=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!xt[t.type]:r==="textarea"}function Vi(t,r,a,l){xi?Di?Di.push(l):Di=[l]:xi=l,r=wc(r,"onChange"),0<r.length&&(a=new fa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Lt=null,si=null;function Ho(t){K_(t,0)}function ju(t){var r=Wn(t);if(Mo(r))return t}function dg(t,r){if(t==="change")return r}var mg=!1;if(jn){var Ef;if(jn){var Tf="oninput"in document;if(!Tf){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Tf=typeof pg.oninput=="function"}Ef=Tf}else Ef=!1;mg=Ef&&(!document.documentMode||9<document.documentMode)}function gg(){Lt&&(Lt.detachEvent("onpropertychange",yg),si=Lt=null)}function yg(t){if(t.propertyName==="value"&&ju(si)){var r=[];Vi(r,si,t,Sn(t)),Su(Ho,r)}}function ew(t,r,a){t==="focusin"?(gg(),Lt=r,si=a,Lt.attachEvent("onpropertychange",yg)):t==="focusout"&&gg()}function tw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(si)}function nw(t,r){if(t==="click")return ju(r)}function iw(t,r){if(t==="input"||t==="change")return ju(r)}function rw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var hn=typeof Object.is=="function"?Object.is:rw;function Fo(t,r){if(hn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!is.call(r,h)||!hn(t[h],r[h]))return!1}return!0}function _g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vg(t,r){var a=_g(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_g(a)}}function Eg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Eg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ms(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ms(t.document)}return r}function bf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var sw=jn&&"documentMode"in document&&11>=document.documentMode,Ea=null,Af=null,Go=null,wf=!1;function bg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Ea==null||Ea!==ms(l)||(l=Ea,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=wc(Af,"onSelect"),0<l.length&&(r=new fa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ea)))}function Ss(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ta={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Sf={},Ag={};jn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Rs(t){if(Sf[t])return Sf[t];if(!Ta[t])return t;var r=Ta[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ag)return Sf[t]=r[a];return t}var wg=Rs("animationend"),Sg=Rs("animationiteration"),Rg=Rs("animationstart"),aw=Rs("transitionrun"),ow=Rs("transitionstart"),lw=Rs("transitioncancel"),Ig=Rs("transitionend"),Cg=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function zn(t,r){Cg.set(t,r),Un(r,[t])}var Ng=new WeakMap;function Cn(t,r){if(typeof t=="object"&&t!==null){var a=Ng.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ua(r)},Ng.set(t,r),r)}return{value:t,source:r,stack:ua(r)}}var Nn=[],ba=0,If=0;function zu(){for(var t=ba,r=If=ba=0;r<t;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var h=Nn[r];Nn[r++]=null;var d=Nn[r];if(Nn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&xg(a,h,d)}}function Bu(t,r,a,l){Nn[ba++]=t,Nn[ba++]=r,Nn[ba++]=a,Nn[ba++]=l,If|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cf(t,r,a,l){return Bu(t,r,a,l),qu(t)}function Aa(t,r){return Bu(t,null,null,r),qu(t)}function xg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function qu(t){if(50<gl)throw gl=0,Vd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var wa={};function uw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,r,a,l){return new uw(t,r,a,l)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,r){var a=t.alternate;return a===null?(a=fn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Dg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Hu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Nf(t)&&(v=1);else if(typeof t=="string")v=hS(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=fn(31,a,r,h),t.elementType=R,t.lanes=d,t;case V:return Is(a.children,h,d,r);case K:v=8,h|=24;break;case j:return t=fn(12,a,r,h|2),t.elementType=j,t.lanes=d,t;case oe:return t=fn(13,a,r,h),t.elementType=oe,t.lanes=d,t;case he:return t=fn(19,a,r,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case re:v=10;break e;case ne:v=9;break e;case ie:v=11;break e;case x:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=fn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Is(t,r,a,l){return t=fn(7,t,l,r),t.lanes=a,t}function xf(t,r,a){return t=fn(6,t,null,r),t.lanes=a,t}function Df(t,r,a){return r=fn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Sa=[],Ra=0,Fu=null,Gu=0,xn=[],Dn=0,Cs=null,ki=1,Li="";function Ns(t,r){Sa[Ra++]=Gu,Sa[Ra++]=Fu,Fu=t,Gu=r}function Og(t,r,a){xn[Dn++]=ki,xn[Dn++]=Li,xn[Dn++]=Cs,Cs=t;var l=ki;t=Li;var h=32-Ft(l)-1;l&=~(1<<h),a+=1;var d=32-Ft(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ki=1<<32-Ft(r)+h|a<<h|l,Li=d+t}else ki=1<<d|a<<h|l,Li=t}function Of(t){t.return!==null&&(Ns(t,1),Og(t,1,0))}function Mf(t){for(;t===Fu;)Fu=Sa[--Ra],Sa[Ra]=null,Gu=Sa[--Ra],Sa[Ra]=null;for(;t===Cs;)Cs=xn[--Dn],xn[Dn]=null,Li=xn[--Dn],xn[Dn]=null,ki=xn[--Dn],xn[Dn]=null}var en=null,ot=null,Be=!1,xs=null,ai=!1,Vf=Error(s(519));function Ds(t){var r=Error(s(418,""));throw Yo(Cn(r,t)),Vf}function Mg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[dt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<_l.length;a++)Oe(_l[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),ps(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ca(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),gs(r,l.value,l.defaultValue,l.children),ca(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||X_(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Sc),r=!0):r=!1,r||Ds(t)}function Vg(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:en=en.return}}function Ko(t){if(t!==en)return!1;if(!Be)return Vg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&ot&&Ds(t),Vg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ot=qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ot=null}}else r===27?(r=ot,Ir(t.type)?(t=em,em=null,ot=t):ot=r):ot=en?qn(t.stateNode.nextSibling):null;return!0}function $o(){ot=en=null,Be=!1}function Pg(){var t=xs;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),xs=null),t}function Yo(t){xs===null?xs=[t]:xs.push(t)}var Pf=te(null),Os=null,Ui=null;function fr(t,r,a){se(Pf,r._currentValue),r._currentValue=a}function ji(t){t._currentValue=Pf.current,ue(Pf)}function kf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Lf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),kf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),kf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Qo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&Lf(r,t,a,l),r.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){Os=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return kg(Os,t)}function $u(t,r){return Os===null&&Ms(t),kg(t,r)}function kg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ui=Ui.next=r;return a}var cw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},hw=i.unstable_scheduleCallback,fw=i.unstable_NormalPriority,wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new cw,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&hw(fw,function(){t.controller.abort()})}var Wo=null,jf=0,Ia=0,Ca=null;function dw(t,r){if(Wo===null){var a=Wo=[];jf=0,Ia=Bd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jf++,r.then(Lg,Lg),r}function Lg(){if(--jf===0&&Wo!==null){Ca!==null&&(Ca.status="fulfilled");var t=Wo;Wo=null,Ia=0,Ca=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function mw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ug=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&dw(t,r),Ug!==null&&Ug(t,r)};var Vs=te(null);function zf(){var t=Vs.current;return t!==null?t:Je.pooledCache}function Yu(t,r){r===null?se(Vs,Vs.current):se(Vs,r.pool)}function jg(){var t=zf();return t===null?null:{parent:wt._currentValue,pool:t}}var Zo=Error(s(460)),zg=Error(s(474)),Qu=Error(s(542)),Bf={then:function(){}};function Bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xu(){}function qg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Xu,Xu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Fg(t),t;default:if(typeof r.status=="string")r.then(Xu,Xu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Fg(t),t}throw Jo=r,Zo}}var Jo=null;function Hg(){if(Jo===null)throw Error(s(459));var t=Jo;return Jo=null,t}function Fg(t){if(t===Zo||t===Qu)throw Error(s(483))}var dr=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=qu(t),xg(t,null,a),r}return Bu(t,l,r,a),qu(t)}function el(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}function Ff(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Gf=!1;function tl(){if(Gf){var t=Ca;if(t!==null)throw t}}function nl(t,r,a,l){Gf=!1;var h=t.updateQueue;dr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=q:T.next=q,X.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,X=q=I=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Le&F)===F:(l&F)===F){F!==0&&F===Ia&&(Gf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,_e=T;F=r;var Xe=a;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){Z=be.call(Xe,Z,F);break e}Z=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,F=typeof be=="function"?be.call(Xe,Z,F):be,F==null)break e;Z=E({},Z,F);break e;case 2:dr=!0}}F=T.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(q=X=G,I=Z):X=X.next=G,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ar|=v,t.lanes=v,t.memoizedState=Z}}function Gg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Kg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gg(a[t],r)}var Na=te(null),Wu=te(0);function $g(t,r){t=Ki,se(Wu,t),se(Na,r),Ki=t|r.baseLanes}function Kf(){se(Wu,Ki),se(Na,Na.current)}function $f(){Ki=Wu.current,ue(Na),ue(Wu)}var gr=0,Ie=null,Ye=null,pt=null,Zu=!1,xa=!1,Ps=!1,Ju=0,il=0,Da=null,pw=0;function ct(){throw Error(s(321))}function Yf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!hn(t[a],r[a]))return!1;return!0}function Qf(t,r,a,l,h,d){return gr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?xy:Dy,Ps=!1,d=a(l,h),Ps=!1,xa&&(d=Qg(r,a,l,h)),Yg(t),d}function Yg(t){Q.H=sc;var r=Ye!==null&&Ye.next!==null;if(gr=0,pt=Ye=Ie=null,Zu=!1,il=0,Da=null,r)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&Ku(t)&&(Dt=!0))}function Qg(t,r,a,l){Ie=t;var h=0;do{if(xa&&(Da=null),il=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,pt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=bw,d=r(a,l)}while(xa);return d}function gw(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?rl(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Xf(){var t=Ju!==0;return Ju=0,t}function Wf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Zf(t){if(Zu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Zu=!1}gr=0,pt=Ye=Ie=null,xa=!1,il=Ju=0,Da=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ie.memoizedState=pt=t:pt=pt.next=t,pt}function gt(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=pt===null?Ie.memoizedState:pt.next;if(r!==null)pt=r,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},pt===null?Ie.memoizedState=pt=t:pt=pt.next=t}return pt}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var r=il;return il+=1,Da===null&&(Da=[]),t=qg(Da,t,r),r=Ie,(pt===null?r.memoizedState:pt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?xy:Dy),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===re)return Gt(t)}throw Error(s(438,String(t)))}function ed(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Jf(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function zi(t,r){return typeof r=="function"?r(t):r}function tc(t){var r=gt();return td(r,Ye,t)}function td(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,I=null,q=r,X=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Le&Z)===Z:(gr&Z)===Z){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Ia&&(X=!0);else if((gr&F)===F){q=q.next,F===Ia&&(X=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,Ie.lanes|=F,Ar|=F;Z=q.action,Ps&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else F={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=F,v=d):I=I.next=F,Ie.lanes|=Z,Ar|=Z;q=q.next}while(q!==null&&q!==r);if(I===null?v=d:I.next=T,!hn(d,t.memoizedState)&&(Dt=!0,X&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var r=gt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,r.memoizedState)||(Dt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Xg(t,r,a){var l=Ie,h=gt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!hn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Dt=!0),h=h.queue;var T=Jg.bind(null,l,h,t);if(sl(2048,8,T,[t]),h.getSnapshot!==r||v||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,nc(),Zg.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(gr&124)!==0||Wg(l,r,a)}return a}function Wg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Jf(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Zg(t,r,a,l){r.value=a,r.getSnapshot=l,ey(r)&&ty(t)}function Jg(t,r,a){return a(function(){ey(r)&&ty(t)})}function ey(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!hn(t,a)}catch{return!0}}function ty(t){var r=Aa(t,2);r!==null&&yn(r,t,2)}function id(t){var r=tn();if(typeof t=="function"){var a=t;if(t=a(),Ps){un(!0);try{a()}finally{un(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},r}function ny(t,r,a,l){return t.baseState=a,td(t,Ye,typeof l=="function"?l:zi)}function yw(t,r,a,l,h){if(rc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,iy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function iy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Q.T,v={};Q.T=v;try{var T=a(h,l),I=Q.S;I!==null&&I(v,T),ry(t,r,T)}catch(q){rd(t,r,q)}finally{Q.T=d}}else try{d=a(h,l),ry(t,r,d)}catch(q){rd(t,r,q)}}function ry(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){sy(t,r,l)},function(l){return rd(t,r,l)}):sy(t,r,a)}function sy(t,r,a){r.status="fulfilled",r.value=a,ay(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,iy(t,a)))}function rd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ay(r),r=r.next;while(r!==l)}t.action=null}function ay(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function oy(t,r){return r}function ly(t,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(ot){t:{for(var h=ot,d=ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=qn(h.nextSibling),l=h.data==="F!";break e}}Ds(l)}l=!1}l&&(r=a[0])}}return a=tn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:r},a.queue=l,a=Iy.bind(null,Ie,l),l.dispatch=a,l=id(!1),d=ud.bind(null,Ie,!1,l.queue),l=tn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=yw.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function uy(t){var r=gt();return cy(r,Ye,t)}function cy(t,r,a){if(r=td(t,r,oy)[0],t=tc(zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=rl(r)}catch(v){throw v===Zo?Qu:v}else l=r;r=gt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Oa(9,nc(),_w.bind(null,h,a),null)),[l,d,t]}function _w(t,r){t.action=r}function hy(t){var r=gt(),a=Ye;if(a!==null)return cy(r,a,t);gt(),r=r.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Oa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Jf(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function nc(){return{destroy:void 0,resource:void 0}}function fy(){return gt().memoizedState}function ic(t,r,a,l){var h=tn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Oa(1|r,nc(),a,l)}function sl(t,r,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Yf(l,Ye.memoizedState.deps)?h.memoizedState=Oa(r,d,a,l):(Ie.flags|=t,h.memoizedState=Oa(1|r,d,a,l))}function dy(t,r){ic(8390656,8,t,r)}function my(t,r){sl(2048,8,t,r)}function py(t,r){return sl(4,2,t,r)}function gy(t,r){return sl(4,4,t,r)}function yy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function _y(t,r,a){a=a!=null?a.concat([t]):null,sl(4,4,yy.bind(null,r,t),a)}function sd(){}function vy(t,r){var a=gt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Yf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Ey(t,r){var a=gt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Yf(r,l[1]))return l[0];if(l=t(),Ps){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,r],l}function ad(t,r,a){return a===void 0||(gr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=A_(),Ie.lanes|=t,Ar|=t,a)}function Ty(t,r,a,l){return hn(a,r)?a:Na.current!==null?(t=ad(t,a,l),hn(t,r)||(Dt=!0),t):(gr&42)===0?(Dt=!0,t.memoizedState=a):(t=A_(),Ie.lanes|=t,Ar|=t,r)}function by(t,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,ud(t,!1,r,a);try{var I=h(),q=Q.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=mw(I,l);al(t,r,X,gn(t))}else al(t,r,l,gn(t))}catch(Z){al(t,r,{then:function(){},status:"rejected",reason:Z},gn())}finally{le.p=d,Q.T=v}}function vw(){}function od(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ay(t).queue;by(t,h,r,pe,a===null?vw:function(){return wy(t),a(l)})}function Ay(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function wy(t){var r=Ay(t).next.queue;al(t,r,{},gn())}function ld(){return Gt(wl)}function Sy(){return gt().memoizedState}function Ry(){return gt().memoizedState}function Ew(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=gn();t=mr(a);var l=pr(r,t,a);l!==null&&(yn(l,r,a),el(l,r,a)),r={cache:Uf()},t.payload=r;return}r=r.return}}function Tw(t,r,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?Cy(r,a):(a=Cf(t,r,a,l),a!==null&&(yn(a,t,l),Ny(a,r,l)))}function Iy(t,r,a){var l=gn();al(t,r,a,l)}function al(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))Cy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Bu(t,r,h,0),Je===null&&zu(),!1}catch{}finally{}if(a=Cf(t,r,h,l),a!==null)return yn(a,t,l),Ny(a,r,l),!0}return!1}function ud(t,r,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(r)throw Error(s(479))}else r=Cf(t,a,l,2),r!==null&&yn(r,t,2)}function rc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function Cy(t,r){xa=Zu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ny(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}var sc={readContext:Gt,use:ec,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},xy={readContext:Gt,use:ec,useCallback:function(t,r){return tn().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:dy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,ic(4194308,4,yy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ic(4194308,4,t,r)},useInsertionEffect:function(t,r){ic(4,2,t,r)},useMemo:function(t,r){var a=tn();r=r===void 0?null:r;var l=t();if(Ps){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=tn();if(a!==void 0){var h=a(r);if(Ps){un(!0);try{a(r)}finally{un(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Tw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=tn();return t={current:t},r.memoizedState=t},useState:function(t){t=id(t);var r=t.queue,a=Iy.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,r){var a=tn();return ad(a,t,r)},useTransition:function(){var t=id(!1);return t=by.bind(null,Ie,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=tn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||Wg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,dy(Jg.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,nc(),Zg.bind(null,l,d,a,r),null),a},useId:function(){var t=tn(),r=Je.identifierPrefix;if(Be){var a=Li,l=ki;a=(l&~(1<<32-Ft(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Ju++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=pw++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:ld,useFormState:ly,useActionState:ly,useOptimistic:function(t){var r=tn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ud.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:ed,useCacheRefresh:function(){return tn().memoizedState=Ew.bind(null,Ie)}},Dy={readContext:Gt,use:ec,useCallback:vy,useContext:Gt,useEffect:my,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:tc,useRef:fy,useState:function(){return tc(zi)},useDebugValue:sd,useDeferredValue:function(t,r){var a=gt();return Ty(a,Ye.memoizedState,t,r)},useTransition:function(){var t=tc(zi)[0],r=gt().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:Xg,useId:Sy,useHostTransitionStatus:ld,useFormState:uy,useActionState:uy,useOptimistic:function(t,r){var a=gt();return ny(a,Ye,t,r)},useMemoCache:ed,useCacheRefresh:Ry},bw={readContext:Gt,use:ec,useCallback:vy,useContext:Gt,useEffect:my,useImperativeHandle:_y,useInsertionEffect:py,useLayoutEffect:gy,useMemo:Ey,useReducer:nd,useRef:fy,useState:function(){return nd(zi)},useDebugValue:sd,useDeferredValue:function(t,r){var a=gt();return Ye===null?ad(a,t,r):Ty(a,Ye.memoizedState,t,r)},useTransition:function(){var t=nd(zi)[0],r=gt().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:Xg,useId:Sy,useHostTransitionStatus:ld,useFormState:hy,useActionState:hy,useOptimistic:function(t,r){var a=gt();return Ye!==null?ny(a,Ye,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Ry},Ma=null,ol=0;function ac(t){var r=ol;return ol+=1,Ma===null&&(Ma=[]),qg(Ma,t,r)}function ll(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function oc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Oy(t){var r=t._init;return r(t._payload)}function My(t){function r(L,M){if(t){var B=L.deletions;B===null?(L.deletions=[M],L.flags|=16):B.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Pi(L,M),L.index=0,L.sibling=null,L}function d(L,M,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<M?(L.flags|=67108866,M):B):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,B,W){return M===null||M.tag!==6?(M=xf(B,L.mode,W),M.return=L,M):(M=h(M,B),M.return=L,M)}function I(L,M,B,W){var fe=B.type;return fe===V?X(L,M,B.props.children,W,B.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Oy(fe)===M.type)?(M=h(M,B.props),ll(M,B),M.return=L,M):(M=Hu(B.type,B.key,B.props,null,L.mode,W),ll(M,B),M.return=L,M)}function q(L,M,B,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Df(B,L.mode,W),M.return=L,M):(M=h(M,B.children||[]),M.return=L,M)}function X(L,M,B,W,fe){return M===null||M.tag!==7?(M=Is(B,L.mode,W,fe),M.return=L,M):(M=h(M,B),M.return=L,M)}function Z(L,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=xf(""+M,L.mode,B),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return B=Hu(M.type,M.key,M.props,null,L.mode,B),ll(B,M),B.return=L,B;case N:return M=Df(M,L.mode,B),M.return=L,M;case S:var W=M._init;return M=W(M._payload),Z(L,M,B)}if(st(M)||U(M))return M=Is(M,L.mode,B,null),M.return=L,M;if(typeof M.then=="function")return Z(L,ac(M),B);if(M.$$typeof===re)return Z(L,$u(L,M),B);oc(L,M)}return null}function F(L,M,B,W){var fe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:T(L,M,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===fe?I(L,M,B,W):null;case N:return B.key===fe?q(L,M,B,W):null;case S:return fe=B._init,B=fe(B._payload),F(L,M,B,W)}if(st(B)||U(B))return fe!==null?null:X(L,M,B,W,null);if(typeof B.then=="function")return F(L,M,ac(B),W);if(B.$$typeof===re)return F(L,M,$u(L,B),W);oc(L,B)}return null}function G(L,M,B,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(B)||null,T(M,L,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return L=L.get(W.key===null?B:W.key)||null,I(M,L,W,fe);case N:return L=L.get(W.key===null?B:W.key)||null,q(M,L,W,fe);case S:var xe=W._init;return W=xe(W._payload),G(L,M,B,W,fe)}if(st(W)||U(W))return L=L.get(B)||null,X(M,L,W,fe,null);if(typeof W.then=="function")return G(L,M,B,ac(W),fe);if(W.$$typeof===re)return G(L,M,B,$u(M,W),fe);oc(M,W)}return null}function be(L,M,B,W){for(var fe=null,xe=null,me=M,ve=M=0,Mt=null;me!==null&&ve<B.length;ve++){me.index>ve?(Mt=me,me=null):Mt=me.sibling;var je=F(L,me,B[ve],W);if(je===null){me===null&&(me=Mt);break}t&&me&&je.alternate===null&&r(L,me),M=d(je,M,ve),xe===null?fe=je:xe.sibling=je,xe=je,me=Mt}if(ve===B.length)return a(L,me),Be&&Ns(L,ve),fe;if(me===null){for(;ve<B.length;ve++)me=Z(L,B[ve],W),me!==null&&(M=d(me,M,ve),xe===null?fe=me:xe.sibling=me,xe=me);return Be&&Ns(L,ve),fe}for(me=l(me);ve<B.length;ve++)Mt=G(me,L,ve,B[ve],W),Mt!==null&&(t&&Mt.alternate!==null&&me.delete(Mt.key===null?ve:Mt.key),M=d(Mt,M,ve),xe===null?fe=Mt:xe.sibling=Mt,xe=Mt);return t&&me.forEach(function(Or){return r(L,Or)}),Be&&Ns(L,ve),fe}function _e(L,M,B,W){if(B==null)throw Error(s(151));for(var fe=null,xe=null,me=M,ve=M=0,Mt=null,je=B.next();me!==null&&!je.done;ve++,je=B.next()){me.index>ve?(Mt=me,me=null):Mt=me.sibling;var Or=F(L,me,je.value,W);if(Or===null){me===null&&(me=Mt);break}t&&me&&Or.alternate===null&&r(L,me),M=d(Or,M,ve),xe===null?fe=Or:xe.sibling=Or,xe=Or,me=Mt}if(je.done)return a(L,me),Be&&Ns(L,ve),fe;if(me===null){for(;!je.done;ve++,je=B.next())je=Z(L,je.value,W),je!==null&&(M=d(je,M,ve),xe===null?fe=je:xe.sibling=je,xe=je);return Be&&Ns(L,ve),fe}for(me=l(me);!je.done;ve++,je=B.next())je=G(me,L,ve,je.value,W),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?ve:je.key),M=d(je,M,ve),xe===null?fe=je:xe.sibling=je,xe=je);return t&&me.forEach(function(AS){return r(L,AS)}),Be&&Ns(L,ve),fe}function Xe(L,M,B,W){if(typeof B=="object"&&B!==null&&B.type===V&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:e:{for(var fe=B.key;M!==null;){if(M.key===fe){if(fe=B.type,fe===V){if(M.tag===7){a(L,M.sibling),W=h(M,B.props.children),W.return=L,L=W;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&Oy(fe)===M.type){a(L,M.sibling),W=h(M,B.props),ll(W,B),W.return=L,L=W;break e}a(L,M);break}else r(L,M);M=M.sibling}B.type===V?(W=Is(B.props.children,L.mode,W,B.key),W.return=L,L=W):(W=Hu(B.type,B.key,B.props,null,L.mode,W),ll(W,B),W.return=L,L=W)}return v(L);case N:e:{for(fe=B.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(L,M.sibling),W=h(M,B.children||[]),W.return=L,L=W;break e}else{a(L,M);break}else r(L,M);M=M.sibling}W=Df(B,L.mode,W),W.return=L,L=W}return v(L);case S:return fe=B._init,B=fe(B._payload),Xe(L,M,B,W)}if(st(B))return be(L,M,B,W);if(U(B)){if(fe=U(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),_e(L,M,B,W)}if(typeof B.then=="function")return Xe(L,M,ac(B),W);if(B.$$typeof===re)return Xe(L,M,$u(L,B),W);oc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(L,M.sibling),W=h(M,B),W.return=L,L=W):(a(L,M),W=xf(B,L.mode,W),W.return=L,L=W),v(L)):a(L,M)}return function(L,M,B,W){try{ol=0;var fe=Xe(L,M,B,W);return Ma=null,fe}catch(me){if(me===Zo||me===Qu)throw me;var xe=fn(29,me,null,L.mode);return xe.lanes=W,xe.return=L,xe}finally{}}}var Va=My(!0),Vy=My(!1),On=te(null),oi=null;function yr(t){var r=t.alternate;se(St,St.current&1),se(On,t),oi===null&&(r===null||Na.current!==null||r.memoizedState!==null)&&(oi=t)}function Py(t){if(t.tag===22){if(se(St,St.current),se(On,t),oi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(oi=t)}}else _r()}function _r(){se(St,St.current),se(On,On.current)}function Bi(t){ue(On),oi===t&&(oi=null),ue(St)}var St=te(0);function lc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Jd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function cd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=gn(),h=mr(l);h.payload=r,a!=null&&(h.callback=a),r=pr(t,h,l),r!==null&&(yn(r,t,l),el(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=gn(),h=mr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=pr(t,h,l),r!==null&&(yn(r,t,l),el(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=gn(),l=mr(a);l.tag=2,r!=null&&(l.callback=r),r=pr(t,l,a),r!==null&&(yn(r,t,a),el(r,t,a))}};function ky(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Fo(a,l)||!Fo(h,d):!0}function Ly(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&hd.enqueueReplaceState(r,r.state,null)}function ks(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Uy(t){uc(t)}function jy(t){console.error(t)}function zy(t){uc(t)}function cc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function By(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,r,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,r)},a}function qy(t){return t=mr(t),t.tag=3,t}function Hy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){By(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){By(r,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Aw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Qo(r,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return oi===null?kd():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),kd(),!1}if(Be)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Vf&&(t=Error(s(422),{cause:l}),Yo(Cn(t,a)))):(l!==Vf&&(r=Error(s(423),{cause:l}),Yo(Cn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=fd(t.stateNode,l,h),Ff(t,h),lt!==4&&(lt=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),pl===null?pl=[d]:pl.push(d),lt!==4&&(lt=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=fd(a.stateNode,l,t),Ff(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qy(h),Hy(h,t,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var Fy=Error(s(461)),Dt=!1;function Ut(t,r,a,l){r.child=t===null?Vy(r,null,a,l):Va(r,t.child,a,l)}function Gy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ms(r),l=Qf(t,r,a,v,d,h),T=Xf(),t!==null&&!Dt?(Wf(t,r,h),qi(t,r,h)):(Be&&T&&Of(r),r.flags|=1,Ut(t,r,l,h),r.child)}function Ky(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,$y(t,r,d,l,h)):(t=Hu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Ed(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(v,l)&&t.ref===r.ref)return qi(t,r,h)}return r.flags|=1,t=Pi(d,l),t.ref=r.ref,t.return=r,r.child=t}function $y(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,l)&&t.ref===r.ref)if(Dt=!1,r.pendingProps=l=d,Ed(t,h))(t.flags&131072)!==0&&(Dt=!0);else return r.lanes=t.lanes,qi(t,r,h)}return dd(t,r,a,l,h)}function Yy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Qy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(r,d!==null?d.cachePool:null),d!==null?$g(r,d):Kf(),Py(r);else return r.lanes=r.childLanes=536870912,Qy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Yu(r,d.cachePool),$g(r,d),_r(),r.memoizedState=null):(t!==null&&Yu(r,null),Kf(),_r());return Ut(t,r,h,a),r.child}function Qy(t,r,a,l){var h=zf();return h=h===null?null:{parent:wt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Yu(r,null),Kf(),Py(r),t!==null&&Qo(t,r,l,!0),null}function hc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function dd(t,r,a,l,h){return Ms(r),a=Qf(t,r,a,l,void 0,h),l=Xf(),t!==null&&!Dt?(Wf(t,r,h),qi(t,r,h)):(Be&&l&&Of(r),r.flags|=1,Ut(t,r,a,h),r.child)}function Xy(t,r,a,l,h,d){return Ms(r),r.updateQueue=null,a=Qg(r,l,a,h),Yg(t),l=Xf(),t!==null&&!Dt?(Wf(t,r,d),qi(t,r,d)):(Be&&l&&Of(r),r.flags|=1,Ut(t,r,a,d),r.child)}function Wy(t,r,a,l,h){if(Ms(r),r.stateNode===null){var d=wa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},qf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):wa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(cd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hd.enqueueReplaceState(d,d.state,null),nl(r,l,d,h),tl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=ks(a,T);d.props=I;var q=d.context,X=a.contextType;v=wa,typeof X=="object"&&X!==null&&(v=Gt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&Ly(r,d,l,v),dr=!1;var F=r.memoizedState;d.state=F,nl(r,l,d,h),tl(),q=r.memoizedState,T||F!==q||dr?(typeof Z=="function"&&(cd(r,a,Z,l),q=r.memoizedState),(I=dr||ky(r,a,I,l,F,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Hf(t,r),v=r.memoizedProps,X=ks(a,v),d.props=X,Z=r.pendingProps,F=d.context,q=a.contextType,I=wa,typeof q=="object"&&q!==null&&(I=Gt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||F!==I)&&Ly(r,d,l,I),dr=!1,F=r.memoizedState,d.state=F,nl(r,l,d,h),tl();var G=r.memoizedState;v!==Z||F!==G||dr||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof T=="function"&&(cd(r,a,T,l),G=r.memoizedState),(X=dr||ky(r,a,X,l,F,G,I)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,hc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Va(r,t.child,null,h),r.child=Va(r,null,a,h)):Ut(t,r,a,h),r.memoizedState=d.state,t=r.child):t=qi(t,r,h),t}function Zy(t,r,a,l){return $o(),r.flags|=256,Ut(t,r,a,l),r.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:jg()}}function gd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function Jy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?yr(r):_r(),Be){var T=ot,I;if(I=T){e:{for(I=T,T=ai;I.nodeType!==8;){if(!T){T=null;break e}if(I=qn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Cs!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,en=r,ot=null,I=!0):I=!1}I||Ds(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Jd(T)?r.lanes=32:r.lanes=536870912,null;Bi(r)}return T=l.children,l=l.fallback,h?(_r(),h=r.mode,T=fc({mode:"hidden",children:T},h),l=Is(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=pd(a),h.childLanes=gd(t,v,a),r.memoizedState=md,l):(yr(r),yd(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(yr(r),r.flags&=-257,r=_d(t,r,a)):r.memoizedState!==null?(_r(),r.child=t.child,r.flags|=128,r=null):(_r(),h=l.fallback,T=r.mode,l=fc({mode:"visible",children:l.children},T),h=Is(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Va(r,t.child,null,a),l=r.child,l.memoizedState=pd(a),l.childLanes=gd(t,v,a),r.memoizedState=md,r=h);else if(yr(r),Jd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Yo({value:l,source:null,stack:null}),r=_d(t,r,a)}else if(Dt||Qo(t,r,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:sr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Aa(t,l),yn(v,t,l),Fy;T.data==="$?"||kd(),r=_d(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ot=qn(T.nextSibling),en=r,Be=!0,xs=null,ai=!1,t!==null&&(xn[Dn++]=ki,xn[Dn++]=Li,xn[Dn++]=Cs,ki=t.id,Li=t.overflow,Cs=r),r=yd(r,l.children),r.flags|=4096);return r}return h?(_r(),h=l.fallback,T=r.mode,I=t.child,q=I.sibling,l=Pi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=Pi(q,h):(h=Is(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=pd(a):(I=T.cachePool,I!==null?(q=wt._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=jg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=gd(t,v,a),r.memoizedState=md,l):(yr(r),a=t.child,t=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function yd(t,r){return r=fc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function fc(t,r){return t=fn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function _d(t,r,a){return Va(r,t.child,null,a),t=yd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function e_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),kf(t.return,r,a)}function vd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function t_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,r,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e_(t,a,r);else if(t.tag===19)e_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(St,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),vd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}vd(r,!0,a,null,d);break;case"together":vd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ar|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Qo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Pi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Pi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ed(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function ww(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),fr(r,wt,t.memoizedState.cache),$o();break;case 27:case 5:rr(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:fr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Jy(t,r,a):(yr(r),t=qi(t,r,a),t!==null?t.sibling:null);yr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Qo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return t_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(St,St.current),l)break;return null;case 22:case 23:return r.lanes=0,Yy(t,r,a);case 24:fr(r,wt,t.memoizedState.cache)}return qi(t,r,a)}function n_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Dt=!0;else{if(!Ed(t,a)&&(r.flags&128)===0)return Dt=!1,ww(t,r,a);Dt=(t.flags&131072)!==0}else Dt=!1,Be&&(r.flags&1048576)!==0&&Og(r,Gu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Nf(l)?(t=ks(l,t),r.tag=1,r=Wy(null,r,l,t,a)):(r.tag=0,r=dd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ie){r.tag=11,r=Gy(null,r,l,t,a);break e}else if(h===x){r.tag=14,r=Ky(null,r,l,t,a);break e}}throw r=Pt(l)||l,Error(s(306,r,""))}}return r;case 0:return dd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=ks(l,r.pendingProps),Wy(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Hf(t,r),nl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,fr(r,wt,l),l!==d.cache&&Lf(r,[wt],a,!0),tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Zy(t,r,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),r),Yo(h),r=Zy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=qn(t.firstChild),en=r,Be=!0,xs=null,ai=!0,a=Vy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($o(),l===h){r=qi(t,r,a);break e}Ut(t,r,l,a)}r=r.child}return r;case 26:return hc(t,r),t===null?(a=av(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Rc(Ae.current).createElement(a),l[Tt]=r,l[dt]=t,zt(l,a,t),ut(l),r.stateNode=l):r.memoizedState=av(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return rr(r),t===null&&Be&&(l=r.stateNode=iv(r.type,r.pendingProps,Ae.current),en=r,ai=!0,h=ot,Ir(r.type)?(em=h,ot=qn(l.firstChild)):ot=h),Ut(t,r,r.pendingProps.children,a),hc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=ot)&&(l=Zw(l,r.type,r.pendingProps,ai),l!==null?(r.stateNode=l,en=r,ot=qn(l.firstChild),ai=!1,h=!0):h=!1),h||Ds(r)),rr(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:v!==null&&Xd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Qf(t,r,gw,null,null,a),wl._currentValue=h),hc(t,r),Ut(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=ot)&&(a=Jw(a,r.pendingProps,ai),a!==null?(r.stateNode=a,en=r,ot=null,t=!0):t=!1),t||Ds(r)),null;case 13:return Jy(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Va(r,null,l,a):Ut(t,r,l,a),r.child;case 11:return Gy(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,fr(r,r.type,l.value),Ut(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ms(r),h=Gt(h),l=l(h),r.flags|=1,Ut(t,r,l,a),r.child;case 14:return Ky(t,r,r.type,r.pendingProps,a);case 15:return $y(t,r,r.type,r.pendingProps,a);case 19:return t_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=fc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Pi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Yy(t,r,a);case 24:return Ms(r),l=Gt(wt),t===null?(h=zf(),h===null&&(h=Je,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},qf(r),fr(r,wt,h)):((t.lanes&a)!==0&&(Hf(t,r),nl(r,null,null,a),tl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),fr(r,wt,l)):(l=d.cache,fr(r,wt,l),l!==h.cache&&Lf(r,[wt],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Hi(t){t.flags|=4}function i_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hv(r)){if(r=On.current,r!==null&&((Le&4194048)===Le?oi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==oi))throw Jo=Bf,zg;t.flags|=8192}}function dc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ro():536870912,t.lanes|=r,Ua|=r)}function ul(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Sw(t,r,a){var l=r.pendingProps;switch(Mf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ji(wt),Yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ko(r)?Hi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pg())),it(r),null;case 26:return a=r.memoizedState,t===null?(Hi(r),a!==null?(it(r),i_(r,a)):(it(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Hi(r),it(r),i_(r,a)):(it(r),r.flags&=-16777217):(t.memoizedProps!==l&&Hi(r),it(r),r.flags&=-16777217),null;case 27:bi(r),a=Ae.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=ye.current,Ko(r)?Mg(r):(t=iv(h,l,a),r.stateNode=t,Hi(r))}return it(r),null;case 5:if(bi(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=ye.current,Ko(r))Mg(r);else{switch(h=Rc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Tt]=r,t[dt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hi(r)}}return it(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Hi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ae.current,Ko(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||X_(t.nodeValue,a)),t||Ds(r)}else t=Rc(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ko(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=r}else $o(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),h=!1}else h=Pg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Bi(r),r):(Bi(r),null)}if(Bi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),dc(r,r.updateQueue),it(r),null;case 4:return Yn(),t===null&&Gd(r.stateNode.containerInfo),it(r),null;case 10:return ji(r.type),it(r),null;case 19:if(ue(St),h=r.memoizedState,h===null)return it(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)ul(h,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=lc(t),d!==null){for(r.flags|=128,ul(h,!1),t=d.updateQueue,r.updateQueue=t,dc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Dg(a,t),a=a.sibling;return se(St,St.current&1|2),r.child}t=t.sibling}h.tail!==null&&bn()>gc&&(r.flags|=128,l=!0,ul(h,!1),r.lanes=4194304)}else{if(!l)if(t=lc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,dc(r,t),ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return it(r),null}else 2*bn()-h.renderingStartTime>gc&&a!==536870912&&(r.flags|=128,l=!0,ul(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=bn(),r.sibling=null,t=St.current,se(St,l?t&1|2:t&1),r):(it(r),null);case 22:case 23:return Bi(r),$f(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&dc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ji(wt),it(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Rw(t,r){switch(Mf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ji(wt),Yn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return bi(r),null;case 13:if(Bi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));$o()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(St),null;case 4:return Yn(),null;case 10:return ji(r.type),null;case 22:case 23:return Bi(r),$f(),t!==null&&ue(Vs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ji(wt),null;case 25:return null;default:return null}}function r_(t,r){switch(Mf(r),r.tag){case 3:ji(wt),Yn();break;case 26:case 27:case 5:bi(r);break;case 4:Yn();break;case 13:Bi(r);break;case 19:ue(St);break;case 10:ji(r.type);break;case 22:case 23:Bi(r),$f(),t!==null&&ue(Vs);break;case 24:ji(wt)}}function cl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(r,r.return,T)}}function vr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,q=T;try{q()}catch(X){We(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function s_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Kg(r,a)}catch(l){We(t,t.return,l)}}}function a_(t,r,a){a.props=ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function hl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function li(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function o_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Td(t,r,a){try{var l=t.stateNode;$w(l,t.type,a,r),l[dt]=r}catch(h){We(t,t.return,h)}}function l_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ir(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Sc));else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Ad(t,r,a),t=t.sibling;t!==null;)Ad(t,r,a),t=t.sibling}function mc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,r,a),t=t.sibling;t!==null;)mc(t,r,a),t=t.sibling}function u_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[Tt]=t,r[dt]=a}catch(d){We(t,t.return,d)}}var Fi=!1,ht=!1,wd=!1,c_=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Iw(t,r){if(t=t.containerInfo,Yd=Oc,t=Tg(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,q=0,X=0,Z=t,F=null;t:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)F=Z,Z=G;for(;;){if(Z===t)break t;if(F===a&&++q===h&&(T=v),F===d&&++X===l&&(I=v),(G=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:t,selectionRange:a},Oc=!1,Ot=r;Ot!==null;)if(r=Ot,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ot=t;else for(;Ot!==null;){switch(r=Ot,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=ks(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ot=t;break}Ot=r.return}}function h_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(t,a),l&4&&cl(5,a);break;case 1:if(Er(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=ks(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&s_(a),l&512&&hl(a,a.return);break;case 3:if(Er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Kg(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&u_(a);case 26:case 5:Er(t,a),r===null&&l&4&&o_(a),l&512&&hl(a,a.return);break;case 12:Er(t,a);break;case 13:Er(t,a),l&4&&m_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=kw.bind(null,a),eS(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){r=r!==null&&r.memoizedState!==null||ht,h=Fi;var d=ht;Fi=l,(ht=r)&&!d?Tr(t,a,(a.subtreeFlags&8772)!==0):Er(t,a),Fi=h,ht=d}break;case 30:break;default:Er(t,a)}}function f_(t){var r=t.alternate;r!==null&&(t.alternate=null,f_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&lr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,nn=!1;function Gi(t,r,a){for(a=a.child;a!==null;)d_(t,r,a),a=a.sibling}function d_(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(at,a)}catch{}switch(a.tag){case 26:ht||li(a,r),Gi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||li(a,r);var l=nt,h=nn;Ir(a.type)&&(nt=a.stateNode,nn=!1),Gi(t,r,a),El(a.stateNode),nt=l,nn=h;break;case 5:ht||li(a,r);case 6:if(l=nt,h=nn,nt=null,Gi(t,r,a),nt=l,nn=h,nt!==null)if(nn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{nt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:nt!==null&&(nn?(t=nt,tv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):tv(nt,a.stateNode));break;case 4:l=nt,h=nn,nt=a.stateNode.containerInfo,nn=!0,Gi(t,r,a),nt=l,nn=h;break;case 0:case 11:case 14:case 15:ht||vr(2,a,r),ht||vr(4,a,r),Gi(t,r,a);break;case 1:ht||(li(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&a_(a,r,l)),Gi(t,r,a);break;case 21:Gi(t,r,a);break;case 22:ht=(l=ht)||a.memoizedState!==null,Gi(t,r,a),ht=l;break;default:Gi(t,r,a)}}function m_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){We(r,r.return,a)}}function Cw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new c_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new c_),r;default:throw Error(s(435,t.tag))}}function Sd(t,r){var a=Cw(t);r.forEach(function(l){var h=Lw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ir(T.type)){nt=T.stateNode,nn=!1;break e}break;case 5:nt=T.stateNode,nn=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,nn=!0;break e}T=T.return}if(nt===null)throw Error(s(160));d_(d,v,h),nt=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)p_(r,t),r=r.sibling}var Bn=null;function p_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(r,t),mn(t),l&4&&(vr(3,t,t.return),cl(3,t),vr(5,t,t.return));break;case 1:dn(r,t),mn(t),l&512&&(ht||a===null||li(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(dn(r,t),mn(t),l&512&&(ht||a===null||li(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hs]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Tt]=t,ut(d),l=d;break e;case"link":var v=uv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=uv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,ut(d),l=d}t.stateNode=l}else cv(h,t.type,t.stateNode);else t.stateNode=lv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?cv(h,t.type,t.stateNode):lv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Td(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(r,t),mn(t),l&512&&(ht||a===null||li(a,a.return)),a!==null&&l&4&&Td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,t),mn(t),l&512&&(ht||a===null||li(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(G){We(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Td(t,h,a!==null?a.memoizedProps:h)),l&1024&&(wd=!0);break;case 6:if(dn(r,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){We(t,t.return,G)}}break;case 3:if(Nc=null,h=Bn,Bn=Ic(r.containerInfo),dn(r,t),Bn=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(G){We(t,t.return,G)}wd&&(wd=!1,g_(t));break;case 4:l=Bn,Bn=Ic(t.stateNode.containerInfo),dn(r,t),mn(t),Bn=l;break;case 12:dn(r,t),mn(t);break;case 13:dn(r,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Fi,X=ht;if(Fi=q||h,ht=X||I,dn(r,t),ht=X,Fi=q,mn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Fi||ht||Ls(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){We(I,I.return,G)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){We(I,I.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sd(t,a))));break;case 19:dn(r,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sd(t,l)));break;case 30:break;case 21:break;default:dn(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(l_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(t);mc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(wn(v,""),a.flags&=-33);var T=bd(t);mc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=bd(t);Ad(t,q,I);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function g_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;g_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Er(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h_(t,r.alternate,r),r=r.sibling}function Ls(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:vr(4,r,r.return),Ls(r);break;case 1:li(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&a_(r,r.return,a),Ls(r);break;case 27:El(r.stateNode);case 26:case 5:li(r,r.return),Ls(r);break;case 22:r.memoizedState===null&&Ls(r);break;case 30:Ls(r);break;default:Ls(r)}t=t.sibling}}function Tr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),cl(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Gg(I[h],T)}catch(q){We(l,l.return,q)}}a&&v&64&&s_(d),hl(d,d.return);break;case 27:u_(d);case 26:case 5:Tr(h,d,a),a&&l===null&&v&4&&o_(d),hl(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&m_(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),hl(d,d.return);break;case 30:break;default:Tr(h,d,a)}r=r.sibling}}function Rd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function Id(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t))}function ui(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)y_(t,r,a,l),r=r.sibling}function y_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ui(t,r,a,l),h&2048&&cl(9,r);break;case 1:ui(t,r,a,l);break;case 3:ui(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){ui(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(r,r.return,I)}}else ui(t,r,a,l);break;case 13:ui(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ui(t,r,a,l):fl(t,r):d._visibility&2?ui(t,r,a,l):(d._visibility|=2,Pa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Rd(v,r);break;case 24:ui(t,r,a,l),h&2048&&Id(r.alternate,r);break;default:ui(t,r,a,l)}}function Pa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(d,v,T,I,h),cl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Pa(d,v,T,I,h):fl(d,v):(X._visibility|=2,Pa(d,v,T,I,h)),h&&q&2048&&Rd(v.alternate,v);break;case 24:Pa(d,v,T,I,h),h&&q&2048&&Id(v.alternate,v);break;default:Pa(d,v,T,I,h)}r=r.sibling}}function fl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&Rd(l.alternate,l);break;case 24:fl(a,l),h&2048&&Id(l.alternate,l);break;default:fl(a,l)}r=r.sibling}}var dl=8192;function ka(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)__(t),t=t.sibling}function __(t){switch(t.tag){case 26:ka(t),t.flags&dl&&t.memoizedState!==null&&dS(Bn,t.memoizedState,t.memoizedProps);break;case 5:ka(t);break;case 3:case 4:var r=Bn;Bn=Ic(t.stateNode.containerInfo),ka(t),Bn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=dl,dl=16777216,ka(t),dl=r):ka(t));break;default:ka(t)}}function v_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ml(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,T_(l,t)}v_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)E_(t),t=t.sibling}function E_(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&vr(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,pc(t)):ml(t);break;default:ml(t)}}function pc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,T_(l,t)}v_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:vr(8,r,r.return),pc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,pc(r));break;default:pc(r)}t=t.sibling}}function T_(t,r){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:vr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(f_(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var Nw={getCacheForType:function(t){var r=Gt(wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},xw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Le=0,Ke=0,pn=null,br=!1,La=!1,Cd=!1,Ki=0,lt=0,Ar=0,Us=0,Nd=0,Mn=0,Ua=0,pl=null,rn=null,xd=!1,Dd=0,gc=1/0,yc=null,wr=null,jt=0,Sr=null,ja=null,za=0,Od=0,Md=null,b_=null,gl=0,Vd=null;function gn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(Q.T!==null){var t=Ia;return t!==0?t:Bd()}return ar()}function A_(){Mn===0&&(Mn=(Le&536870912)===0||Be?So():536870912);var t=On.current;return t!==null&&(t.flags|=32),Mn}function yn(t,r,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Rr(t,Le,Mn,!1)),wi(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Us|=a),lt===4&&Rr(t,Le,Mn,!1)),ci(t))}function w_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||cs(t,r),h=l?Mw(t,r):Ld(t,r,!0),d=l;do{if(h===0){La&&!l&&Rr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Dw(a)){h=Ld(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=pl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ba(T,v).flags|=256),v=Ld(T,v,!1),v!==2){if(Cd&&!I){T.errorRecoveryDisabledLanes|=d,Us|=d,h=4;break e}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Rr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Rr(l,r,Mn,!br);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Dd+300-bn(),10<h)){if(Rr(l,r,Mn,!br),ra(l,0,!0)!==0)break e;l.timeoutHandle=J_(S_.bind(null,l,a,rn,yc,xd,r,Mn,Us,Ua,br,d,2,-0,0),h);break e}S_(l,a,rn,yc,xd,r,Mn,Us,Ua,br,d,0,-0,0)}}break}while(!0);ci(t)}function S_(t,r,a,l,h,d,v,T,I,q,X,Z,F,G){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:fS},__(r),Z=mS(),Z!==null)){t.cancelPendingCommit=Z(O_.bind(null,t,r,d,a,l,h,v,T,I,X,1,F,G)),Rr(t,d,v,!q);return}O_(t,r,d,a,l,h,v,T,I)}function Dw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Rr(t,r,a,l){r&=~Nd,r&=~Us,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Ft(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Qn(t,a,r)}function _c(){return(Ge&6)===0?(yl(0),!1):!0}function Pd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Ui=Os=null,Zf(t),Ma=null,ol=0,t=De;for(;t!==null;)r_(t.alternate,t),t=t.return;De=null}}function Ba(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Qw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pd(),Je=t,De=a=Pi(t.current,null),Le=r,Ke=0,pn=null,br=!1,La=cs(t,r),Cd=!1,Ua=Mn=Nd=Us=Ar=lt=0,rn=pl=null,xd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Ft(l),d=1<<h;r|=t[h],l&=~d}return Ki=r,zu(),a}function R_(t,r){Ie=null,Q.H=sc,r===Zo||r===Qu?(r=Hg(),Ke=3):r===zg?(r=Hg(),Ke=4):Ke=r===Fy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,De===null&&(lt=1,cc(t,Cn(r,t.current)))}function I_(){var t=Q.H;return Q.H=sc,t===null?sc:t}function C_(){var t=Q.A;return Q.A=Nw,t}function kd(){lt=4,br||(Le&4194048)!==Le&&On.current!==null||(La=!0),(Ar&134217727)===0&&(Us&134217727)===0||Je===null||Rr(Je,Le,Mn,!1)}function Ld(t,r,a){var l=Ge;Ge|=2;var h=I_(),d=C_();(Je!==t||Le!==r)&&(yc=null,Ba(t,r)),r=!1;var v=lt;e:do try{if(Ke!==0&&De!==null){var T=De,I=pn;switch(Ke){case 8:Pd(),v=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var q=Ke;if(Ke=0,pn=null,qa(t,T,I,q),a&&La){v=0;break e}break;default:q=Ke,Ke=0,pn=null,qa(t,T,I,q)}}Ow(),v=lt;break}catch(X){R_(t,X)}while(!0);return r&&t.shellSuspendCounter++,Ui=Os=null,Ge=l,Q.H=h,Q.A=d,De===null&&(Je=null,Le=0,zu()),v}function Ow(){for(;De!==null;)N_(De)}function Mw(t,r){var a=Ge;Ge|=2;var l=I_(),h=C_();Je!==t||Le!==r?(yc=null,gc=bn()+500,Ba(t,r)):La=cs(t,r);e:do try{if(Ke!==0&&De!==null){r=De;var d=pn;t:switch(Ke){case 1:Ke=0,pn=null,qa(t,r,d,1);break;case 2:case 9:if(Bg(d)){Ke=0,pn=null,x_(r);break}r=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),ci(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Bg(d)?(Ke=0,pn=null,x_(r)):(Ke=0,pn=null,qa(t,r,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||hv(v)){Ke=0,pn=null;var I=T.sibling;if(I!==null)De=I;else{var q=T.return;q!==null?(De=q,vc(q)):De=null}break t}}Ke=0,pn=null,qa(t,r,d,5);break;case 6:Ke=0,pn=null,qa(t,r,d,6);break;case 8:Pd(),lt=6;break e;default:throw Error(s(462))}}Vw();break}catch(X){R_(t,X)}while(!0);return Ui=Os=null,Q.H=l,Q.A=h,Ge=a,De!==null?0:(Je=null,Le=0,zu(),lt)}function Vw(){for(;De!==null&&!To();)N_(De)}function N_(t){var r=n_(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,r===null?vc(t):De=r}function x_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Xy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Xy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Zf(r);default:r_(a,r),r=De=Dg(r,Ki),r=n_(a,r,Ki)}t.memoizedProps=t.pendingProps,r===null?vc(t):De=r}function qa(t,r,a,l){Ui=Os=null,Zf(r),Ma=null,ol=0;var h=r.return;try{if(Aw(t,h,r,a,Le)){lt=1,cc(t,Cn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;lt=1,cc(t,Cn(a,t.current)),De=null;return}r.flags&32768?(Be||l===1?t=!0:La||(Le&536870912)!==0?t=!1:(br=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),D_(r,t)):vc(r)}function vc(t){var r=t;do{if((r.flags&32768)!==0){D_(r,br);return}t=r.return;var a=Sw(r.alternate,r,Ki);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);lt===0&&(lt=5)}function D_(t,r){do{var a=Rw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);lt=6,De=null}function O_(t,r,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Ec();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=If,Io(t,a,d,v,T,I),t===Je&&(De=Je=null,Le=0),ja=r,Sr=t,za=a,Od=d,Md=h,b_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Uw(as,function(){return L_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=le.p,le.p=2,v=Ge,Ge|=4;try{Iw(t,r,a)}finally{Ge=v,le.p=h,Q.T=l}}jt=1,M_(),V_(),P_()}}function M_(){if(jt===1){jt=0;var t=Sr,r=ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{p_(r,t);var d=Qd,v=Tg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Eg(T.ownerDocument.documentElement,T)){if(I!==null&&bf(T)){var q=I.start,X=I.end;if(X===void 0&&(X=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var G=F.getSelection(),be=T.textContent.length,_e=Math.min(I.start,be),Xe=I.end===void 0?_e:Math.min(I.end,be);!G.extend&&_e>Xe&&(v=Xe,Xe=_e,_e=v);var L=vg(T,_e),M=vg(T,Xe);if(L&&M&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var B=Z.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),_e>Xe?(G.addRange(B),G.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),G.addRange(B))}}}}for(Z=[],G=T;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var W=Z[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Oc=!!Yd,Qd=Yd=null}finally{Ge=h,le.p=l,Q.T=a}}t.current=r,jt=2}}function V_(){if(jt===2){jt=0;var t=Sr,r=ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{h_(t,r.alternate,r)}finally{Ge=h,le.p=l,Q.T=a}}jt=3}}function P_(){if(jt===4||jt===3){jt=0,pu();var t=Sr,r=ja,a=za,l=b_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,ja=Sr=null,k_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(wr=null),sa(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(at,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=le.p,le.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=r,le.p=h}}(za&3)!==0&&Ec(),ci(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Vd?gl++:(gl=0,Vd=t):gl=0,yl(0)}}function k_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Xo(r)))}function Ec(t){return M_(),V_(),P_(),L_()}function L_(){if(jt!==5)return!1;var t=Sr,r=Od;Od=0;var a=sa(za),l=Q.T,h=le.p;try{le.p=32>a?32:a,Q.T=null,a=Md,Md=null;var d=Sr,v=za;if(jt=0,ja=Sr=null,za=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,E_(d.current),y_(d,d.current,v,a),Ge=T,yl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(at,d)}catch{}return!0}finally{le.p=h,Q.T=l,k_(t,r)}}function U_(t,r,a){r=Cn(a,r),r=fd(t.stateNode,r,2),t=pr(t,r,2),t!==null&&(wi(t,2),ci(t))}function We(t,r,a){if(t.tag===3)U_(t,t,a);else for(;r!==null;){if(r.tag===3){U_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){t=Cn(a,t),a=qy(2),l=pr(r,a,2),l!==null&&(Hy(a,l,r,t),wi(l,2),ci(l));break}}r=r.return}}function Ud(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new xw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Cd=!0,h.add(a),t=Pw.bind(null,t,r,a),r.then(t,t))}function Pw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(lt===4||lt===3&&(Le&62914560)===Le&&300>bn()-Dd?(Ge&2)===0&&Ba(t,0):Nd|=a,Ua===Le&&(Ua=0)),ci(t)}function j_(t,r){r===0&&(r=Ro()),t=Aa(t,r),t!==null&&(wi(t,r),ci(t))}function kw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),j_(t,a)}function Lw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),j_(t,a)}function Uw(t,r){return rs(t,r)}var Tc=null,Ha=null,jd=!1,bc=!1,zd=!1,js=0;function ci(t){t!==Ha&&t.next===null&&(Ha===null?Tc=Ha=t:Ha=Ha.next=t),bc=!0,jd||(jd=!0,zw())}function yl(t,r){if(!zd&&bc){zd=!0;do for(var a=!1,l=Tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ft(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,H_(l,d))}else d=Le,d=ra(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||cs(l,d)||(a=!0,H_(l,d));l=l.next}while(a);zd=!1}}function jw(){z_()}function z_(){bc=jd=!1;var t=0;js!==0&&(Yw()&&(t=js),js=0);for(var r=bn(),a=null,l=Tc;l!==null;){var h=l.next,d=B_(l,r);d===0?(l.next=null,a===null?Tc=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(bc=!0)),l=h}yl(t)}function B_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Ft(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=wo(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=Je,a=Le,a=ra(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||cs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ss(l),sa(a)){case 2:case 8:a=na;break;case 32:a=as;break;case 268435456:a=ia;break;default:a=as}return l=q_.bind(null,t),a=rs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ss(l),t.callbackPriority=2,t.callbackNode=null,2}function q_(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var l=Le;return l=ra(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(w_(t,l,r),B_(t,bn()),t.callbackNode!=null&&t.callbackNode===a?q_.bind(null,t):null)}function H_(t,r){if(Ec())return null;w_(t,r,!0)}function zw(){Xw(function(){(Ge&6)!==0?rs(bo,jw):z_()})}function Bd(){return js===0&&(js=So()),js}function F_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function G_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Bw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=F_((h[dt]||null).action),v=l.submitter;v&&(r=(r=v[dt]||null)?F_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new fa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(js!==0){var I=v?G_(h,v):new FormData(h);od(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?G_(h,v):new FormData(h),od(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var qd=0;qd<Rf.length;qd++){var Hd=Rf[qd],qw=Hd.toLowerCase(),Hw=Hd[0].toUpperCase()+Hd.slice(1);zn(qw,"on"+Hw)}zn(wg,"onAnimationEnd"),zn(Sg,"onAnimationIteration"),zn(Rg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(aw,"onTransitionRun"),zn(ow,"onTransitionStart"),zn(lw,"onTransitionCancel"),zn(Ig,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function K_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){uc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(X){uc(X)}h.currentTarget=null,d=I}}}}function Oe(t,r){var a=r[No];a===void 0&&(a=r[No]=new Set);var l=t+"__bubble";a.has(l)||($_(r,t,2,!1),a.add(l))}function Fd(t,r,a){var l=0;r&&(l|=4),$_(a,t,l,r)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Ac]){t[Ac]=!0,xo.forEach(function(a){a!=="selectionchange"&&(Fw.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ac]||(r[Ac]=!0,Fd("selectionchange",!1,r))}}function $_(t,r,a,l){switch(yv(r)){case 2:var h=yS;break;case 8:h=_S;break;default:h=sm}a=h.bind(null,r,a,t),h=void 0,!Rn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Kd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Si(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Su(function(){var q=d,X=Sn(a),Z=[];e:{var F=Cg.get(t);if(F!==void 0){var G=fa,be=t;switch(t){case"keypress":if(ti(a)===0)break e;case"keydown":case"keyup":G=_a;break;case"focusin":be="focus",G=pa;break;case"focusout":be="blur",G=pa;break;case"beforeblur":case"afterblur":G=pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=_f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Mu;break;case wg:case Sg:case Rg:G=ga;break;case Ig:G=Pu;break;case"scroll":case"scrollend":G=Ru;break;case"wheel":G=va;break;case"copy":case"cut":case"paste":G=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=qo;break;case"toggle":case"beforetoggle":G=Lu}var _e=(r&4)!==0,Xe=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var M=q,B;M!==null;){var W=M;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||L===null||(W=_s(M,L),W!=null&&_e.push(vl(M,W,B))),Xe)break;M=M.return}0<_e.length&&(F=new G(F,be,null,a,X),Z.push({event:F,listeners:_e}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Ni&&(be=a.relatedTarget||a.fromElement)&&(Si(be)||be[An]))break e;if((G||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=q,be=be?Si(be):null,be!==null&&(Xe=u(be),_e=be.tag,be!==Xe||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(G=null,be=q),G!==be)){if(_e=In,W="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=qo,W="onPointerLeave",L="onPointerEnter",M="pointer"),Xe=G==null?F:Wn(G),B=be==null?F:Wn(be),F=new _e(W,M+"leave",G,a,X),F.target=Xe,F.relatedTarget=B,W=null,Si(X)===q&&(_e=new _e(L,M+"enter",be,a,X),_e.target=B,_e.relatedTarget=Xe,W=_e),Xe=W,G&&be)t:{for(_e=G,L=be,M=0,B=_e;B;B=Fa(B))M++;for(B=0,W=L;W;W=Fa(W))B++;for(;0<M-B;)_e=Fa(_e),M--;for(;0<B-M;)L=Fa(L),B--;for(;M--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=Fa(_e),L=Fa(L)}_e=null}else _e=null;G!==null&&Y_(Z,F,G,_e,!1),be!==null&&Xe!==null&&Y_(Z,Xe,be,_e,!0)}}e:{if(F=q?Wn(q):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var fe=dg;else if(At(F))if(mg)fe=iw;else{fe=tw;var xe=ew}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Po(q.elementType)&&(fe=dg):fe=nw;if(fe&&(fe=fe(t,q))){Vi(Z,fe,a,X);break e}xe&&xe(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&cr(F,"number",F.value)}switch(xe=q?Wn(q):window,t){case"focusin":(At(xe)||xe.contentEditable==="true")&&(Ea=xe,Af=q,Go=null);break;case"focusout":Go=Af=Ea=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,bg(Z,a,X);break;case"selectionchange":if(sw)break;case"keydown":case"keyup":bg(Z,a,X)}var me;if(ri)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?$(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(me=Lo()):(ei=X,hr="value"in ei?ei.value:ei.textContent,Pe=!0)),xe=wc(q,ve),0<xe.length&&(ve=new zo(ve,t,null,a,X),Z.push({event:ve,listeners:xe}),me?ve.data=me:(me=ae(a),me!==null&&(ve.data=me)))),(me=y?bt(t,a):ke(t,a))&&(ve=wc(q,"onBeforeInput"),0<ve.length&&(xe=new zo("onBeforeInput","beforeinput",null,a,X),Z.push({event:xe,listeners:ve}),xe.data=me)),Bw(Z,t,q,a,X)}K_(Z,r)})}function vl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function wc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_s(t,a),h!=null&&l.unshift(vl(t,h,d)),h=_s(t,r),h!=null&&l.push(vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Y_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=_s(a,d),q!=null&&v.unshift(vl(a,q,I))):h||(q=_s(a,d),q!=null&&v.push(vl(a,q,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Gw=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(Gw,`
`).replace(Kw,"")}function X_(t,r){return r=Q_(r),Q_(t)===r}function Sc(){}function Qe(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(t,""+l);break;case"className":Zn(t,"class",l);break;case"tabIndex":Zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(r!=="object"){Zn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Qe(t,r,"name",h.name,h,null),Qe(t,r,"formEncType",h.formEncType,h,null),Qe(t,r,"formMethod",h.formMethod,h,null),Qe(t,r,"formTarget",h.formTarget,h,null)):(Qe(t,r,"encType",h.encType,h,null),Qe(t,r,"method",h.method,h,null),Qe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ur(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gf.get(a)||a,ur(t,a,l))}}function $d(t,r,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ur(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,d,v,a,null)}}h&&Qe(t,r,"srcSet",a.srcSet,a,null),l&&Qe(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Qe(t,r,l,X,a,null)}}ps(t,d,T,I,q,v,h,!1),ca(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Qe(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ci(t,!!l,r,!1):a!=null&&Ci(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Qe(t,r,v,T,a,null)}gs(t,l,h,d),ca(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,r,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Oe(_l[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(t,r,q,l,a,null)}return;default:if(Po(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&$d(t,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Qe(t,r,T,l,a,null))}function $w(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,q=null,X=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(G)||Qe(t,r,G,null,l,Z)}}for(var F in l){var G=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(G!=null||Z!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==Z&&Qe(t,r,F,G,l,Z)}}cn(t,v,T,I,q,X,d,h);return;case"select":G=v=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||Qe(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Qe(t,r,h,d,l,I)}r=T,a=v,l=G,F!=null?Ci(t,!!a,F,!1):!!l!=!!a&&(r!=null?Ci(t,!!a,r,!0):Ci(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Qe(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qe(t,r,v,h,l,d)}$e(t,F,G);return;case"option":for(var be in a)if(F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Qe(t,r,be,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Qe(t,r,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Qe(t,r,_e,null,l,F);for(q in l)if(F=l[q],G=a[q],l.hasOwnProperty(q)&&F!==G&&(F!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Qe(t,r,q,F,l,G)}return;default:if(Po(r)){for(var Xe in a)F=a[Xe],a.hasOwnProperty(Xe)&&F!==void 0&&!l.hasOwnProperty(Xe)&&$d(t,r,Xe,void 0,l,F);for(X in l)F=l[X],G=a[X],!l.hasOwnProperty(X)||F===G||F===void 0&&G===void 0||$d(t,r,X,F,l,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Qe(t,r,L,null,l,F);for(Z in l)F=l[Z],G=a[Z],!l.hasOwnProperty(Z)||F===G||F==null&&G==null||Qe(t,r,Z,F,l,G)}var Yd=null,Qd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function W_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Xd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function Yw(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,Qw=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(Ww)}:J_;function Ww(t){setTimeout(function(){throw t})}function Ir(t){return t==="head"}function tv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&El(v.documentElement),a&2&&El(v.body),a&4)for(a=v.head,El(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[hs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Cl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(r)}function Zd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Zw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function Jw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function eS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var em=null;function nv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function iv(t,r,a){switch(r=Rc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function El(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);lr(t)}var Vn=new Map,rv=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=le.d;le.d={f:tS,r:nS,D:iS,C:rS,L:sS,m:aS,X:lS,S:oS,M:uS};function tS(){var t=$i.f(),r=_c();return t||r}function nS(t){var r=Xn(t);r!==null&&r.tag===5&&r.type==="form"?wy(r):$i.r(t)}var Ga=typeof document>"u"?null:document;function sv(t,r,a){var l=Ga;if(l&&typeof r=="string"&&r){var h=mt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rv.has(h)||(rv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),ut(r),l.head.appendChild(r)))}}function iS(t){$i.D(t),sv("dns-prefetch",t,null)}function rS(t,r){$i.C(t,r),sv("preconnect",t,r)}function sS(t,r,a){$i.L(t,r,a);var l=Ga;if(l&&t&&r){var h='link[rel="preload"][as="'+mt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+mt(a.imageSizes)+'"]')):h+='[href="'+mt(t)+'"]';var d=h;switch(r){case"style":d=Ka(t);break;case"script":d=$a(t)}Vn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Vn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Tl(d))||r==="script"&&l.querySelector(bl(d))||(r=l.createElement("link"),zt(r,"link",t),ut(r),l.head.appendChild(r)))}}function aS(t,r){$i.m(t,r);var a=Ga;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+mt(l)+'"][href="'+mt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(t)}if(!Vn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),zt(l,"link",t),ut(l),a.head.appendChild(l)}}}function oS(t,r,a){$i.S(t,r,a);var l=Ga;if(l&&t){var h=Wt(l).hoistableStyles,d=Ka(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Tl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Vn.get(d))&&tm(t,a);var I=v=l.createElement("link");ut(I),zt(I,"link",t),I._p=new Promise(function(q,X){I.onload=q,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function lS(t,r){$i.X(t,r);var a=Ga;if(a&&t){var l=Wt(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0},r),(r=Vn.get(h))&&nm(t,r),d=a.createElement("script"),ut(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uS(t,r){$i.M(t,r);var a=Ga;if(a&&t){var l=Wt(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Vn.get(h))&&nm(t,r),d=a.createElement("script"),ut(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function av(t,r,a,l){var h=(h=Ae.current)?Ic(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=Wt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=Wt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Tl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||cS(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$a(a),a=Wt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+mt(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function ov(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function cS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),ut(r),t.head.appendChild(r))}function $a(t){return'[src="'+mt(t)+'"]'}function bl(t){return"script[async]"+t}function lv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+mt(a.href)+'"]');if(l)return r.instance=l,ut(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ut(l),zt(l,"style",h),Cc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(Tl(h));if(d)return r.state.loading|=4,r.instance=d,ut(d),d;l=ov(a),(h=Vn.get(h))&&tm(l,h),d=(t.ownerDocument||t).createElement("link"),ut(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",l),r.state.loading|=4,Cc(d,a.precedence,t),r.instance=d;case"script":return d=$a(a.src),(h=t.querySelector(bl(d)))?(r.instance=h,ut(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),nm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ut(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Cc(l,a.precedence,t));return r.instance}function Cc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Nc=null;function uv(t,r,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hs]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function cv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function hS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function fS(){}function dS(t,r,a){if(Al===null)throw Error(s(475));var l=Al;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(a.href),d=t.querySelector(Tl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ut(d);return}d=t.ownerDocument||t,a=ov(a),(h=Vn.get(h))&&tm(a,h),d=d.createElement("link"),ut(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=xc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function mS(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&im(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&im(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function im(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,r.forEach(pS,t),Dc=null,xc.call(t))}function pS(t,r){if(!(r.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var wl={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function gS(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function fv(t,r,a,l,h,d,v,T,I,q,X,Z){return t=new gS(t,r,a,v,T,I,q,Z),r=1,d===!0&&(r|=24),d=fn(3,null,null,r),t.current=d,d.stateNode=t,r=Uf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},qf(d),t}function dv(t){return t?(t=wa,t):wa}function mv(t,r,a,l,h,d){h=dv(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(t,l,r),a!==null&&(yn(a,t,r),el(a,t,r))}function pv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function rm(t,r){pv(t,r),(t=t.alternate)&&pv(t,r)}function gv(t){if(t.tag===13){var r=Aa(t,67108864);r!==null&&yn(r,t,67108864),rm(t,67108864)}}var Oc=!0;function yS(t,r,a,l){var h=Q.T;Q.T=null;var d=le.p;try{le.p=2,sm(t,r,a,l)}finally{le.p=d,Q.T=h}}function _S(t,r,a,l){var h=Q.T;Q.T=null;var d=le.p;try{le.p=8,sm(t,r,a,l)}finally{le.p=d,Q.T=h}}function sm(t,r,a,l){if(Oc){var h=am(l);if(h===null)Kd(t,r,l,Mc,a),_v(t,l);else if(ES(h,t,r,a,l))l.stopPropagation();else if(_v(t,l),r&4&&-1<vS.indexOf(t)){for(;h!==null;){var d=Xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ln(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Ft(v);T.entanglements[1]|=I,v&=~I}ci(d),(Ge&6)===0&&(gc=bn()+500,yl(0))}}break;case 13:T=Aa(d,2),T!==null&&yn(T,d,2),_c(),rm(d,2)}if(d=am(l),d===null&&Kd(t,r,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,r,l,null,a)}}function am(t){return t=Sn(t),om(t)}var Mc=null;function om(t){if(Mc=null,t=Si(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Mc=t,null}function yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cf()){case bo:return 2;case na:return 8;case as:case hf:return 32;case ia:return 268435456;default:return 32}default:return 32}}var lm=!1,Cr=null,Nr=null,xr=null,Sl=new Map,Rl=new Map,Dr=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(t,r){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Sl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(r.pointerId)}}function Il(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Xn(r),r!==null&&gv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ES(t,r,a,l,h){switch(r){case"focusin":return Cr=Il(Cr,t,r,a,l,h),!0;case"dragenter":return Nr=Il(Nr,t,r,a,l,h),!0;case"mouseover":return xr=Il(xr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Il(Sl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Il(Rl.get(d)||null,t,r,a,l,h)),!0}return!1}function vv(t){var r=Si(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,_u(t.priority,function(){if(a.tag===13){var l=gn();l=sr(l);var h=Aa(a,l);h!==null&&yn(h,a,l),rm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ni=l,a.target.dispatchEvent(l),Ni=null}else return r=Xn(a),r!==null&&gv(r),t.blockedOn=a,!1;r.shift()}return!0}function Ev(t,r,a){Vc(t)&&a.delete(r)}function TS(){lm=!1,Cr!==null&&Vc(Cr)&&(Cr=null),Nr!==null&&Vc(Nr)&&(Nr=null),xr!==null&&Vc(xr)&&(xr=null),Sl.forEach(Ev),Rl.forEach(Ev)}function Pc(t,r){t.blockedOn===r&&(t.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TS)))}var kc=null;function Tv(t){kc!==t&&(kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Xn(a);d!==null&&(t.splice(r,3),r-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function r(I){return Pc(I,t)}Cr!==null&&Pc(Cr,t),Nr!==null&&Pc(Nr,t),xr!==null&&Pc(xr,t),Sl.forEach(r),Rl.forEach(r);for(var a=0;a<Dr.length;a++){var l=Dr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)vv(a),a.blockedOn===null&&Dr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[dt]||null;if(typeof d=="function")v||Tv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[dt]||null)T=v.formAction;else if(om(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Tv(a)}}}function um(t){this._internalRoot=t}Lc.prototype.render=um.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=gn();mv(a,l,t,r,null,null)},Lc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;mv(t.current,2,null,t,null,null),_c(),r[An]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ar();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Dr.length&&r!==0&&r<Dr[a].priority;a++);Dr.splice(a,0,t),a===0&&vv(t)}};var bv=e.version;if(bv!=="19.1.0")throw Error(s(527,bv,"19.1.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var bS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{at=Uc.inject(bS),Fe=Uc}catch{}}return xl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Uy,d=jy,v=zy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=fv(t,1,!1,null,null,a,l,h,d,v,T,null),t[An]=r.current,Gd(t),new um(r)},xl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Uy,v=jy,T=zy,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=fv(t,1,!0,r,a??null,l,h,d,v,T,I,q),r.context=dv(null),a=r.current,l=gn(),l=sr(l),h=mr(l),h.callback=null,pr(a,h,l),a=l,r.current.lanes=a,wi(r,a),ci(r),t[An]=r.current,Gd(t),new Lc(r)},xl.version="19.1.0",xl}var Ov;function OS(){if(Ov)return fm.exports;Ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=DS(),fm.exports}var MS=OS();const VS=ME(MS);var Dl={},Mv;function PS(){if(Mv)return Dl;Mv=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=f,Dl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,N){const V=new u,K=A.length;if(K<2)return V;const j=(N==null?void 0:N.decode)||E;let H=0;do{const ne=A.indexOf("=",H);if(ne===-1)break;const re=A.indexOf(";",H),ie=re===-1?K:re;if(ne>ie){H=A.lastIndexOf(";",ne-1)+1;continue}const oe=m(A,H,ne),he=p(A,ne,oe),x=A.slice(oe,he);if(V[x]===void 0){let S=m(A,ne+1,ie),R=p(A,ie,S);const O=j(A.slice(S,R));V[x]=O}H=ie+1}while(H<K);return V}function m(A,N,V){do{const K=A.charCodeAt(N);if(K!==32&&K!==9)return N}while(++N<V);return V}function p(A,N,V){for(;N>V;){const K=A.charCodeAt(--N);if(K!==32&&K!==9)return N+1}return V}function g(A,N,V){const K=(V==null?void 0:V.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const j=K(N);if(!e.test(j))throw new TypeError(`argument val is invalid: ${N}`);let H=A+"="+j;if(!V)return H;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);H+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);H+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);H+="; Path="+V.path}if(V.expires){if(!w(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);H+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(H+="; HttpOnly"),V.secure&&(H+="; Secure"),V.partitioned&&(H+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return H}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Dl}PS();var Vv="popstate";function kS(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Vm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return US(e,n,null,i)}function Rt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LS(){return Math.random().toString(36).substring(2,10)}function Pv(i,e){return{usr:i.state,key:i.key,idx:e}}function Vm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?tu(e):e,state:n,key:e&&e.key||s||LS()}}function Gl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function tu(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function US(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let j=E(),H=j==null?null:j-g;g=j,p&&p({action:m,location:K.location,delta:H})}function A(j,H){m="PUSH";let ne=Vm(K.location,j,H);g=E()+1;let re=Pv(ne,g),ie=K.createHref(ne);try{f.pushState(re,"",ie)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ie)}u&&p&&p({action:m,location:K.location,delta:1})}function N(j,H){m="REPLACE";let ne=Vm(K.location,j,H);g=E();let re=Pv(ne,g),ie=K.createHref(ne);f.replaceState(re,"",ie),u&&p&&p({action:m,location:K.location,delta:0})}function V(j){return jS(j)}let K={get action(){return m},get location(){return i(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,w),p=j,()=>{o.removeEventListener(Vv,w),p=null}},createHref(j){return e(o,j)},createURL:V,encodeLocation(j){let H=V(j);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:A,replace:N,go(j){return f.go(j)}};return K}function jS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Gl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function VE(i,e,n="/"){return zS(i,e,n,!1)}function zS(i,e,n,s){let o=typeof e=="string"?tu(e):e,u=Zi(o.pathname||"/",n);if(u==null)return null;let f=PE(i);BS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=ZS(u);m=XS(f[p],g,s)}return m}function PE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Xi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(Rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),PE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:YS(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of kE(u.path))o(u,f,p)}),e}function kE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function BS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:QS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var qS=/^:[\w-]+$/,HS=3,FS=2,GS=1,KS=10,$S=-2,kv=i=>i==="*";function YS(i,e){let n=i.split("/"),s=n.length;return n.some(kv)&&(s+=$S),e&&(s+=FS),n.filter(o=>!kv(o)).reduce((o,u)=>o+(qS.test(u)?HS:u===""?GS:KS),s)}function QS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function XS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Xi([u,w.pathname]),pathnameBase:n1(Xi([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Xi([u,w.pathnameBase]))}return f}function ah(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=WS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let V=m[A]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const N=m[A];return w&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function WS(i,e=!1,n=!0){yi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ZS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Zi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function JS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?tu(i):i;return{pathname:n?n.startsWith("/")?n:e1(n,e):e,search:i1(s),hash:r1(o)}}function e1(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LE(i){let e=t1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function UE(i,e,n,s=!1){let o;typeof i=="string"?o=tu(i):(o={...i},Rt(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),Rt(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),Rt(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=JS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Xi=i=>i.join("/").replace(/\/\/+/g,"/"),n1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),i1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,r1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function s1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var jE=["POST","PUT","PATCH","DELETE"];new Set(jE);var a1=["GET",...jE];new Set(a1);var fo=Y.createContext(null);fo.displayName="DataRouter";var Vh=Y.createContext(null);Vh.displayName="DataRouterState";var zE=Y.createContext({isTransitioning:!1});zE.displayName="ViewTransition";var o1=Y.createContext(new Map);o1.displayName="Fetchers";var l1=Y.createContext(null);l1.displayName="Await";var Ei=Y.createContext(null);Ei.displayName="Navigation";var Ph=Y.createContext(null);Ph.displayName="Location";var ir=Y.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var fp=Y.createContext(null);fp.displayName="RouteError";function u1(i,{relative:e}={}){Rt(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Y.useContext(Ei),{hash:o,pathname:u,search:f}=iu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function nu(){return Y.useContext(Ph)!=null}function Xs(){return Rt(nu(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Ph).location}var BE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qE(i){Y.useContext(Ei).static||Y.useLayoutEffect(i)}function c1(){let{isDataRoute:i}=Y.useContext(ir);return i?A1():h1()}function h1(){Rt(nu(),"useNavigate() may be used only in the context of a <Router> component.");let i=Y.useContext(fo),{basename:e,navigator:n}=Y.useContext(Ei),{matches:s}=Y.useContext(ir),{pathname:o}=Xs(),u=JSON.stringify(LE(s)),f=Y.useRef(!1);return qE(()=>{f.current=!0}),Y.useCallback((p,g={})=>{if(yi(f.current,BE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=UE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}Y.createContext(null);function iu(i,{relative:e}={}){let{matches:n}=Y.useContext(ir),{pathname:s}=Xs(),o=JSON.stringify(LE(n));return Y.useMemo(()=>UE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function f1(i,e,n,s){Rt(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Y.useContext(Ei),{matches:u}=Y.useContext(ir),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let H=E&&E.path||"";HE(p,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=Xs(),A;A=w;let N=A.pathname||"/",V=N;if(g!=="/"){let H=g.replace(/^\//,"").split("/");V="/"+N.replace(/^\//,"").split("/").slice(H.length).join("/")}let K=VE(i,{pathname:V});return yi(E||K!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),yi(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),y1(K&&K.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Xi([g,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Xi([g,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,s)}function d1(){let i=b1(),e=s1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:o},n):null,f)}var m1=Y.createElement(d1,null),p1=class extends Y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Y.createElement(ir.Provider,{value:this.props.routeContext},Y.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g1({routeContext:i,match:e,children:n}){let s=Y.useContext(fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(ir.Provider,{value:i},n)}function y1(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,A=!1,N=null,V=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||m1,f&&(m<0&&E===0?(HE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,V=null):m===E&&(A=!0,V=g.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),j=()=>{let H;return w?H=N:A?H=V:g.route.Component?H=Y.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,Y.createElement(g1,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:H})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?Y.createElement(p1,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:j(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):j()},null)}function dp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _1(i){let e=Y.useContext(fo);return Rt(e,dp(i)),e}function v1(i){let e=Y.useContext(Vh);return Rt(e,dp(i)),e}function E1(i){let e=Y.useContext(ir);return Rt(e,dp(i)),e}function mp(i){let e=E1(i),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function T1(){return mp("useRouteId")}function b1(){var s;let i=Y.useContext(fp),e=v1("useRouteError"),n=mp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function A1(){let{router:i}=_1("useNavigate"),e=mp("useNavigate"),n=Y.useRef(!1);return qE(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{yi(n.current,BE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Lv={};function HE(i,e,n){!e&&!Lv[i]&&(Lv[i]=!0,yi(!1,n))}Y.memo(w1);function w1({routes:i,future:e,state:n}){return f1(i,void 0,n,e)}function S1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Rt(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=tu(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:A="default"}=n,N=Y.useMemo(()=>{let V=Zi(p,f);return V==null?null:{location:{pathname:V,search:g,hash:E,state:w,key:A},navigationType:s}},[f,p,g,E,w,A,s]);return yi(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:Y.createElement(Ei.Provider,{value:m},Y.createElement(Ph.Provider,{children:e,value:N}))}var Yc="get",Qc="application/x-www-form-urlencoded";function kh(i){return i!=null&&typeof i.tagName=="string"}function R1(i){return kh(i)&&i.tagName.toLowerCase()==="button"}function I1(i){return kh(i)&&i.tagName.toLowerCase()==="form"}function C1(i){return kh(i)&&i.tagName.toLowerCase()==="input"}function N1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function x1(i,e){return i.button===0&&(!e||e==="_self")&&!N1(i)}var jc=null;function D1(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var O1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(i){return i!=null&&!O1.has(i)?(yi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):i}function M1(i,e){let n,s,o,u,f;if(I1(i)){let m=i.getAttribute("action");s=m?Zi(m,e):null,n=i.getAttribute("method")||Yc,o=ym(i.getAttribute("enctype"))||Qc,u=new FormData(i)}else if(R1(i)||C1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Zi(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Yc,o=ym(i.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||Qc,u=new FormData(m,i),!D1()){let{name:g,type:E,value:w}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,s=null,o=Qc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function pp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function V1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function k1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await V1(u,n);return f.links?f.links():[]}return[]}));return z1(s.flat(1).filter(P1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Uv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function L1(i,e,{includeHydrateFallback:n}={}){return U1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function U1(i){return[...new Set(i)]}function j1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function z1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(j1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B1=new Set([100,101,204,205]);function q1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Zi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function FE(){let i=Y.useContext(fo);return pp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function H1(){let i=Y.useContext(Vh);return pp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var gp=Y.createContext(void 0);gp.displayName="FrameworkContext";function GE(){let i=Y.useContext(gp);return pp(i,"You must render this element inside a <HydratedRouter> element"),i}function F1(i,e){let n=Y.useContext(gp),[s,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=Y.useRef(null);Y.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=H=>{H.forEach(ne=>{f(ne.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),Y.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let N=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ol(m,N),onBlur:Ol(p,V),onMouseEnter:Ol(g,N),onMouseLeave:Ol(E,V),onTouchStart:Ol(w,N)}]:[!1,A,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function G1({page:i,...e}){let{router:n}=FE(),s=Y.useMemo(()=>VE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?Y.createElement($1,{page:i,matches:s,...e}):null}function K1(i){let{manifest:e,routeModules:n}=GE(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return k1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function $1({page:i,matches:e,...n}){let s=Xs(),{manifest:o,routeModules:u}=GE(),{basename:f}=FE(),{loaderData:m,matches:p}=H1(),g=Y.useMemo(()=>Uv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=Y.useMemo(()=>Uv(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=Y.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let V=new Set,K=!1;if(e.forEach(H=>{var re;let ne=o.routes[H.route.id];!ne||!ne.hasLoader||(!g.some(ie=>ie.route.id===H.route.id)&&H.route.id in m&&((re=u[H.route.id])!=null&&re.shouldRevalidate)||ne.hasClientLoader?K=!0:V.add(H.route.id))}),V.size===0)return[];let j=q1(i,f);return K&&V.size>0&&j.searchParams.set("_routes",e.filter(H=>V.has(H.route.id)).map(H=>H.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,g,e,i,u]),A=Y.useMemo(()=>L1(E,o),[E,o]),N=K1(E);return Y.createElement(Y.Fragment,null,w.map(V=>Y.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),A.map(V=>Y.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),N.map(({key:V,link:K})=>Y.createElement("link",{key:V,...K})))}function Y1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var KE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KE&&(window.__reactRouterVersion="7.6.1")}catch{}function Q1({basename:i,children:e,window:n}){let s=Y.useRef();s.current==null&&(s.current=kS({window:n,v5Compat:!0}));let o=s.current,[u,f]=Y.useState({action:o.action,location:o.location}),m=Y.useCallback(p=>{Y.startTransition(()=>f(p))},[f]);return Y.useLayoutEffect(()=>o.listen(m),[o,m]),Y.createElement(S1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var $E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YE=Y.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...A},N){let{basename:V}=Y.useContext(Ei),K=typeof g=="string"&&$E.test(g),j,H=!1;if(typeof g=="string"&&K&&(j=g,KE))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=Zi(O.pathname,V);O.origin===R.origin&&P!=null?g=P+O.search+O.hash:H=!0}catch{yi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=u1(g,{relative:o}),[re,ie,oe]=F1(s,A),he=J1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function x(R){e&&e(R),R.defaultPrevented||he(R)}let S=Y.createElement("a",{...A,...oe,href:j||ne,onClick:H||u?e:x,ref:Y1(N,ie),target:p,"data-discover":!K&&n==="render"?"true":void 0});return re&&!K?Y.createElement(Y.Fragment,null,S,Y.createElement(G1,{page:ne})):S});YE.displayName="Link";var X1=Y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=iu(f,{relative:g.relative}),A=Xs(),N=Y.useContext(Vh),{navigator:V,basename:K}=Y.useContext(Ei),j=N!=null&&rR(w)&&m===!0,H=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,ne=A.pathname,re=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,H=H.toLowerCase()),re&&K&&(re=Zi(re,K)||re);const ie=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let oe=ne===H||!o&&ne.startsWith(H)&&ne.charAt(ie)==="/",he=re!=null&&(re===H||!o&&re.startsWith(H)&&re.charAt(H.length)==="/"),x={isActive:oe,isPending:he,isTransitioning:j},S=oe?e:void 0,R;typeof s=="function"?R=s(x):R=[s,oe?"active":null,he?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(x):u;return Y.createElement(YE,{...g,"aria-current":S,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(x):p)});X1.displayName="NavLink";var W1=Y.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Yc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...A},N)=>{let V=nR(),K=iR(m,{relative:g}),j=f.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&$E.test(m),ne=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ie=re.nativeEvent.submitter,oe=(ie==null?void 0:ie.getAttribute("formmethod"))||f;V(ie||re.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return Y.createElement("form",{ref:N,method:j,action:K,onSubmit:s?p:ne,...A,"data-discover":!H&&i==="render"?"true":void 0})});W1.displayName="Form";function Z1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QE(i){let e=Y.useContext(fo);return Rt(e,Z1(i)),e}function J1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=c1(),p=Xs(),g=iu(i,{relative:u});return Y.useCallback(E=>{if(x1(E,e)){E.preventDefault();let w=n!==void 0?n:Gl(p)===Gl(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var eR=0,tR=()=>`__${String(++eR)}__`;function nR(){let{router:i}=QE("useSubmit"),{basename:e}=Y.useContext(Ei),n=T1();return Y.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=M1(s,e);if(o.navigate===!1){let E=o.fetcherKey||tR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function iR(i,{relative:e}={}){let{basename:n}=Y.useContext(Ei),s=Y.useContext(ir);Rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(i||".",{relative:e})},f=Xs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),Gl(u)}function rR(i,e={}){let n=Y.useContext(zE);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=QE("useViewTransitionState"),o=iu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Zi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Zi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ah(o.pathname,f)!=null||ah(o.pathname,u)!=null}[...B1];const sR=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},aR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(A=64)),s.push(n[E],n[w],n[A],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(XE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):aR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new oR;const A=u<<2|m>>4;if(s.push(A),g!==64){const N=m<<4&240|g>>2;if(s.push(N),w!==64){const V=g<<6&192|w;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lR=function(i){const e=XE(i);return WE.encodeByteArray(e,!0)},oh=function(i){return lR(i).replace(/\./g,"")},ZE=function(i){try{return WE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=()=>uR().__FIREBASE_DEFAULTS__,hR=()=>{if(typeof process>"u"||typeof jv>"u")return;const i=jv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},fR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ZE(i[1]);return e&&JSON.parse(e)},Lh=()=>{try{return sR()||cR()||hR()||fR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},JE=i=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},eT=i=>{const e=JE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},tT=()=>{var i;return(i=Lh())===null||i===void 0?void 0:i.config},nT=i=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(i){return i.endsWith(".cloudworkstations.dev")}async function yp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[oh(JSON.stringify(n)),oh(JSON.stringify(f)),""].join(".")}const Ul={};function mR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?i.emulator.push(e):i.prod.push(e);return i}function pR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let zv=!1;function _p(i,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Ul[i]===e||Ul[i]||zv)return;Ul[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=mR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{zv=!0,f()},A}function E(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=pR(s),N=n("text"),V=document.getElementById(N)||document.createElement("span"),K=n("learnmore"),j=document.getElementById(K)||document.createElement("a"),H=n("preprendIcon"),ne=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),E(j,K);const ie=g();p(ne,H),re.append(ne,V,j,ie),document.body.appendChild(re)}u?(V.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function yR(){var i;const e=(i=Lh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function vR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ER(){const i=Xt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function TR(){return!yR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sT(){try{return typeof indexedDB=="object"}catch{return!1}}function aT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function bR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="FirebaseError";class kn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AR,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ws.prototype.create)}}class Ws{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?wR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new kn(o,m,s)}}function wR(i,e){return i.replace(SR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SR=/\{\$([^}]+)}/g;function RR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Fr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Bv(u)&&Bv(f)){if(!Fr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Bv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ml(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Vl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function IR(i,e){const n=new CR(i,e);return n.subscribe.bind(n)}class CR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");NR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,DR=2,OR=4*60*60*1e3,MR=.5;function qv(i,e=xR,n=DR){const s=e*Math.pow(n,i),o=Math.round(MR*s*(Math.random()-.5)*2);return Math.min(OR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i){return i&&i._delegate?i._delegate:i}class Pn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kR(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PR(i){return i===zs?void 0:i}function kR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const UR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},jR=Me.INFO,zR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},BR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=zR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uh{constructor(e){this.name=e,this._logLevel=jR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const qR=(i,e)=>e.some(n=>i instanceof n);let Hv,Fv;function HR(){return Hv||(Hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,Pm=new WeakMap,lT=new WeakMap,vm=new WeakMap,vp=new WeakMap;function GR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(jr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&oT.set(n,i)}).catch(()=>{}),vp.set(e,i),e}function KR(i){if(Pm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Pm.set(i,e)}let km={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||lT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $R(i){km=i(km)}function YR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Em(this),e,...n);return lT.set(s,e.sort?e.sort():[e]),jr(s)}:FR().includes(i)?function(...e){return i.apply(Em(this),e),jr(oT.get(this))}:function(...e){return jr(i.apply(Em(this),e))}}function QR(i){return typeof i=="function"?YR(i):(i instanceof IDBTransaction&&KR(i),qR(i,HR())?new Proxy(i,km):i)}function jr(i){if(i instanceof IDBRequest)return GR(i);if(vm.has(i))return vm.get(i);const e=QR(i);return e!==i&&(vm.set(i,e),vp.set(e,i)),e}const Em=i=>vp.get(i);function uT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(jr(f.result),p.oldVersion,p.newVersion,jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const XR=["get","getKey","getAll","getAllKeys","count"],WR=["put","add","delete","clear"],Tm=new Map;function Gv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=WR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Tm.set(e,u),u}$R(i=>({...i,get:(e,n,s)=>Gv(e,n)||i.get(e,n,s),has:(e,n)=>!!Gv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lm="@firebase/app",Kv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Uh("@firebase/app"),eI="@firebase/app-compat",tI="@firebase/analytics-compat",nI="@firebase/analytics",iI="@firebase/app-check-compat",rI="@firebase/app-check",sI="@firebase/auth",aI="@firebase/auth-compat",oI="@firebase/database",lI="@firebase/data-connect",uI="@firebase/database-compat",cI="@firebase/functions",hI="@firebase/functions-compat",fI="@firebase/installations",dI="@firebase/installations-compat",mI="@firebase/messaging",pI="@firebase/messaging-compat",gI="@firebase/performance",yI="@firebase/performance-compat",_I="@firebase/remote-config",vI="@firebase/remote-config-compat",EI="@firebase/storage",TI="@firebase/storage-compat",bI="@firebase/firestore",AI="@firebase/ai",wI="@firebase/firestore-compat",SI="firebase",RI="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",II={[Lm]:"fire-core",[eI]:"fire-core-compat",[nI]:"fire-analytics",[tI]:"fire-analytics-compat",[rI]:"fire-app-check",[iI]:"fire-app-check-compat",[sI]:"fire-auth",[aI]:"fire-auth-compat",[oI]:"fire-rtdb",[lI]:"fire-data-connect",[uI]:"fire-rtdb-compat",[cI]:"fire-fn",[hI]:"fire-fn-compat",[fI]:"fire-iid",[dI]:"fire-iid-compat",[mI]:"fire-fcm",[pI]:"fire-fcm-compat",[gI]:"fire-perf",[yI]:"fire-perf-compat",[_I]:"fire-rc",[vI]:"fire-rc-compat",[EI]:"fire-gcs",[TI]:"fire-gcs-compat",[bI]:"fire-fst",[wI]:"fire-fst-compat",[AI]:"fire-vertex","fire-js":"fire-js",[SI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,CI=new Map,jm=new Map;function $v(i,e){try{i.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Gn(i){const e=i.name;if(jm.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,i);for(const n of lh.values())$v(n,i);for(const n of CI.values())$v(n,i);return!0}function Wr(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function _n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Ws("app","Firebase",NI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=RI;function cT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Um,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(n||(n=tT()),!n)throw zr.create("no-options");const u=lh.get(o);if(u){if(Fr(n,u.options)&&Fr(s,u.config))return u;throw zr.create("duplicate-app",{appName:o})}const f=new LR(o);for(const p of jm.values())f.addComponent(p);const m=new xI(n,s,f);return lh.set(o,m),m}function jh(i=Um){const e=lh.get(i);if(!e&&i===Um&&tT())return cT();if(!e)throw zr.create("no-app",{appName:i});return e}function on(i,e,n){var s;let o=(s=II[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}Gn(new Pn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebase-heartbeat-database",OI=1,Kl="firebase-heartbeat-store";let bm=null;function hT(){return bm||(bm=uT(DI,OI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw zr.create("idb-open",{originalErrorMessage:i.message})})),bm}async function MI(i){try{const n=(await hT()).transaction(Kl),s=await n.objectStore(Kl).get(fT(i));return await n.done,s}catch(e){if(e instanceof kn)Ji.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function Yv(i,e){try{const s=(await hT()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,fT(i)),await s.done}catch(n){if(n instanceof kn)Ji.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(s.message)}}}function fT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=1024,PI=30;class kI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>PI){const f=jI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qv(),{heartbeatsToSend:s,unsentEntries:o}=LI(this._heartbeatsCache.heartbeats),u=oh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function LI(i,e=VI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Xv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class UI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sT()?aT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Xv(i){return oh(JSON.stringify({version:2,heartbeats:i})).length}function jI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(i){Gn(new Pn("platform-logger",e=>new ZR(e),"PRIVATE")),Gn(new Pn("heartbeat",e=>new kI(e),"PRIVATE")),on(Lm,Kv,i),on(Lm,Kv,"esm2017"),on("fire-js","")}zI("");var BI="firebase",qI="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on(BI,qI,"app");const dT="@firebase/installations",Ep="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=1e4,pT=`w:${Ep}`,gT="FIS_v2",HI="https://firebaseinstallations.googleapis.com/v1",FI=60*60*1e3,GI="installations",KI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fs=new Ws(GI,KI,$I);function yT(i){return i instanceof kn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T({projectId:i}){return`${HI}/projects/${i}/installations`}function vT(i){return{token:i.token,requestStatus:2,expiresIn:QI(i.expiresIn),creationTime:Date.now()}}async function ET(i,e){const s=(await e.json()).error;return Fs.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function TT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function YI(i,{refreshToken:e}){const n=TT(i);return n.append("Authorization",XI(e)),n}async function bT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function QI(i){return Number(i.replace("s","000"))}function XI(i){return`${gT} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=_T(i),o=TT(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:gT,appId:i.appId,sdkVersion:pT},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await bT(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:vT(g.authToken)}}else throw await ET("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=/^[cdef][\w-]{21}$/,zm="";function eC(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=tC(i);return JI.test(n)?n:zm}catch{return zm}}function tC(i){return ZI(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;function ST(i,e){const n=zh(i);RT(n,e),nC(n,e)}function RT(i,e){const n=wT.get(i);if(n)for(const s of n)s(e)}function nC(i,e){const n=iC();n&&n.postMessage({key:i,fid:e}),rC()}let Bs=null;function iC(){return!Bs&&"BroadcastChannel"in self&&(Bs=new BroadcastChannel("[Firebase] FID Change"),Bs.onmessage=i=>{RT(i.data.key,i.data.fid)}),Bs}function rC(){wT.size===0&&Bs&&(Bs.close(),Bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-installations-database",aC=1,Gs="firebase-installations-store";let Am=null;function Tp(){return Am||(Am=uT(sC,aC,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Gs)}}})),Am}async function uh(i,e){const n=zh(i),o=(await Tp()).transaction(Gs,"readwrite"),u=o.objectStore(Gs),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&ST(i,e.fid),e}async function IT(i){const e=zh(i),s=(await Tp()).transaction(Gs,"readwrite");await s.objectStore(Gs).delete(e),await s.done}async function Bh(i,e){const n=zh(i),o=(await Tp()).transaction(Gs,"readwrite"),u=o.objectStore(Gs),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&ST(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(i){let e;const n=await Bh(i.appConfig,s=>{const o=oC(s),u=lC(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===zm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function oC(i){const e=i||{fid:eC(),registrationStatus:0};return CT(e)}function lC(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Fs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=uC(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cC(i)}:{installationEntry:e}}async function uC(i,e){try{const n=await WI(i,e);return uh(i.appConfig,n)}catch(n){throw yT(n)&&n.customData.serverCode===409?await IT(i.appConfig):await uh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function cC(i){let e=await Wv(i.appConfig);for(;e.registrationStatus===1;)await AT(100),e=await Wv(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await bp(i);return s||n}return e}function Wv(i){return Bh(i,e=>{if(!e)throw Fs.create("installation-not-found");return CT(e)})}function CT(i){return hC(i)?{fid:i.fid,registrationStatus:0}:i}function hC(i){return i.registrationStatus===1&&i.registrationTime+mT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC({appConfig:i,heartbeatServiceProvider:e},n){const s=dC(i,n),o=YI(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:pT,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await bT(()=>fetch(s,m));if(p.ok){const g=await p.json();return vT(g)}else throw await ET("Generate Auth Token",p)}function dC(i,{fid:e}){return`${_T(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(i,e=!1){let n;const s=await Bh(i.appConfig,u=>{if(!NT(u))throw Fs.create("not-registered");const f=u.authToken;if(!e&&gC(f))return u;if(f.requestStatus===1)return n=mC(i,e),u;{if(!navigator.onLine)throw Fs.create("app-offline");const m=_C(u);return n=pC(i,m),m}});return n?await n:s.authToken}async function mC(i,e){let n=await Zv(i.appConfig);for(;n.authToken.requestStatus===1;)await AT(100),n=await Zv(i.appConfig);const s=n.authToken;return s.requestStatus===0?Ap(i,e):s}function Zv(i){return Bh(i,e=>{if(!NT(e))throw Fs.create("not-registered");const n=e.authToken;return vC(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pC(i,e){try{const n=await fC(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await uh(i.appConfig,s),n}catch(n){if(yT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await IT(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await uh(i.appConfig,s)}throw n}}function NT(i){return i!==void 0&&i.registrationStatus===2}function gC(i){return i.requestStatus===2&&!yC(i)}function yC(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+FI}function _C(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function vC(i){return i.requestStatus===1&&i.requestTime+mT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(i){const e=i,{installationEntry:n,registrationPromise:s}=await bp(e);return s?s.catch(console.error):Ap(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(i,e=!1){const n=i;return await bC(n),(await Ap(n,e)).token}async function bC(i){const{registrationPromise:e}=await bp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i){if(!i||!i.options)throw wm("App Configuration");if(!i.name)throw wm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw wm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function wm(i){return Fs.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="installations",wC="installations-internal",SC=i=>{const e=i.getProvider("app").getImmediate(),n=AC(e),s=Wr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},RC=i=>{const e=i.getProvider("app").getImmediate(),n=Wr(e,xT).getImmediate();return{getId:()=>EC(n),getToken:o=>TC(n,o)}};function IC(){Gn(new Pn(xT,SC,"PUBLIC")),Gn(new Pn(wC,RC,"PRIVATE"))}IC();on(dT,Ep);on(dT,Ep,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="analytics",CC="firebase_id",NC="origin",xC=60*1e3,DC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Uh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new Ws("analytics","Analytics",OC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i){if(!i.startsWith(wp)){const e=En.create("invalid-gtag-resource",{gtagURL:i});return ln.warn(e.message),""}return i}function DT(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function VC(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function PC(i,e){const n=VC("firebase-js-sdk-policy",{createScriptURL:MC}),s=document.createElement("script"),o=`${wp}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function kC(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function LC(i,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await DT(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){ln.error(m)}i("config",o,u)}async function UC(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await DT(n);for(const p of f){const g=m.find(w=>w.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){ln.error(u)}}function jC(i,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await UC(i,e,n,m,p)}else if(u==="config"){const[m,p]=f;await LC(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){ln.error(m)}}return o}function zC(i,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=jC(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function BC(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wp)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=30,HC=1e3;class FC{constructor(e={},n=HC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const OT=new FC;function GC(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function KC(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:GC(s)},u=DC.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function $C(i,e=OT,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw En.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw En.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new XC;return setTimeout(async()=>{m.abort()},xC),MT({appId:s,apiKey:o,measurementId:u},f,m,e)}async function MT(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=OT){var u;const{appId:f,measurementId:m}=i;try{await YC(s,e)}catch(p){if(m)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await KC(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!QC(g)){if(o.deleteThrottleMetadata(f),m)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?qv(n,o.intervalMillis,qC):qv(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,w),ln.debug(`Calling attemptFetch again in ${E} millis`),MT(i,w,s,o)}}function YC(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QC(i){if(!(i instanceof kn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class XC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function WC(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(){if(sT())try{await aT()}catch(i){return ln.warn(En.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return ln.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function JC(i,e,n,s,o,u,f){var m;const p=$C(i);p.then(N=>{n[N.measurementId]=N.appId,i.options.measurementId&&N.measurementId!==i.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>ln.error(N)),e.push(p);const g=ZC().then(N=>{if(N)return s.getId()}),[E,w]=await Promise.all([p,g]);BC(u)||PC(u,E.measurementId),o("js",new Date);const A=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return A[NC]="firebase",A.update=!0,w!=null&&(A[CC]=w),o("config",E.measurementId,A),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.app=e}_delete(){return delete jl[this.app.options.appId],Promise.resolve()}}let jl={},Jv=[];const e0={};let Sm="dataLayer",t2="gtag",t0,VT,n0=!1;function n2(){const i=[];if(rT()&&i.push("This is a browser extension environment."),bR()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=En.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function i2(i,e,n){n2();const s=i.options.appId;if(!s)throw En.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(jl[s]!=null)throw En.create("already-exists",{id:s});if(!n0){kC(Sm);const{wrappedGtag:u,gtagCore:f}=zC(jl,Jv,e0,Sm,t2);VT=u,t0=f,n0=!0}return jl[s]=JC(i,Jv,e0,e,t0,Sm,n),new e2(i)}function r2(i=jh()){i=Et(i);const e=Wr(i,ch);return e.isInitialized()?e.getImmediate():s2(i)}function s2(i,e={}){const n=Wr(i,ch);if(n.isInitialized()){const o=n.getImmediate();if(Fr(e,n.getOptions()))return o;throw En.create("already-initialized")}return n.initialize({options:e})}function a2(i,e,n,s){i=Et(i),WC(VT,jl[i.app.options.appId],e,n,s).catch(o=>ln.error(o))}const i0="@firebase/analytics",r0="0.10.16";function o2(){Gn(new Pn(ch,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return i2(s,o,n)},"PUBLIC")),Gn(new Pn("analytics-internal",i,"PRIVATE")),on(i0,r0),on(i0,r0,"esm2017");function i(e){try{const n=e.getProvider(ch).getImmediate();return{logEvent:(s,o,u)=>a2(n,s,o,u)}}catch(n){throw En.create("interop-component-reg-failed",{reason:n})}}}o2();function Sp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function PT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l2=PT,kT=new Ws("auth","Firebase",PT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Uh("@firebase/auth");function u2(i,...e){hh.logLevel<=Me.WARN&&hh.warn(`Auth (${Zs}): ${i}`,...e)}function Xc(i,...e){hh.logLevel<=Me.ERROR&&hh.error(`Auth (${Zs}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i,...e){throw Rp(i,...e)}function fi(i,...e){return Rp(i,...e)}function LT(i,e,n){const s=Object.assign(Object.assign({},l2()),{[e]:n});return new Ws("auth","Firebase",s).create(e,{appName:i.name})}function Wi(i){return LT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return kT.create(i,...e)}function Ee(i,e,...n){if(!i)throw Rp(e,...n)}function Yi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Xc(e),new Error(e)}function er(i,e){i||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function c2(){return s0()==="http:"||s0()==="https:"}function s0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c2()||rT()||"connection"in navigator)?navigator.onLine:!0}function f2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=gR()||vR()}get(){return h2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i,e){er(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p2=new su(3e4,6e4);function Zr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Jr(i,e,n,s,o={}){return jT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ru(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return _R()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&mo(i.emulatorConfig.host)&&(g.credentials="include"),UT.fetch()(await zT(i,i.config.apiHost,n,m),g)})}async function jT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},d2),e);try{const o=new y2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw zc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw zc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw zc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw LT(i,E,g);Kn(i,E)}}catch(o){if(o instanceof kn)throw o;Kn(i,"network-request-failed",{message:String(o)})}}async function au(i,e,n,s,o={}){const u=await Jr(i,e,n,s,o);return"mfaPendingCredential"in u&&Kn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function zT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Ip(i.config,o):`${i.config.apiScheme}://${o}`;return m2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function g2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fi(this.auth,"network-request-failed")),p2.get())})}}function zc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=fi(i,e,s);return o.customData._tokenResponse=n,o}function a0(i){return i!==void 0&&i.enterprise!==void 0}class _2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function v2(i,e){return Jr(i,"GET","/v2/recaptchaConfig",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(i,e){return Jr(i,"POST","/v1/accounts:delete",e)}async function fh(i,e){return Jr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T2(i,e=!1){const n=Et(i),s=await n.getIdToken(e),o=Cp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:zl(Rm(o.auth_time)),issuedAtTime:zl(Rm(o.iat)),expirationTime:zl(Rm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Rm(i){return Number(i)*1e3}function Cp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZE(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function o0(i){const e=Cp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof kn&&b2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function b2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await $l(i,fh(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?BT(u.providerUserInfo):[],m=S2(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new qm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function w2(i){const e=Et(i);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function BT(i){return i.map(e=>{var{providerId:n}=e,s=Sp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(i,e){const n=await jT(i,{},async()=>{const s=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await zT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",UT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I2(i,e){return Jr(i,"POST","/v2/accounts:revokeToken",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=o0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await R2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new qm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T2(this,e)}reload(){return w2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await $l(this,E2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,H=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:ie,isAnonymous:oe,providerData:he,stsTokenManager:x}=n;Ee(re&&x,e,"internal-error");const S=Ja.fromJSON(this.name,x);Ee(typeof re=="string",e,"internal-error"),Mr(w,e.name),Mr(A,e.name),Ee(typeof ie=="boolean",e,"internal-error"),Ee(typeof oe=="boolean",e,"internal-error"),Mr(N,e.name),Mr(V,e.name),Mr(K,e.name),Mr(j,e.name),Mr(H,e.name),Mr(ne,e.name);const R=new Hn({uid:re,auth:e,email:A,emailVerified:ie,displayName:w,isAnonymous:oe,photoURL:V,phoneNumber:N,tenantId:K,stsTokenManager:S,createdAt:H,lastLoginAt:ne});return he&&Array.isArray(he)&&(R.providerData=he.map(O=>Object.assign({},O))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ja;m.updateFromIdToken(s);const p=new Hn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;function Qi(i){er(i instanceof Function,"Expected a class definition");let e=l0.get(i);return e?(er(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,l0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qT.type="NONE";const u0=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(i,e,n){return`firebase:${i}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(Qi(u0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qi(u0);const f=Wc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await fh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Hn._fromGetAccountInfoResponse(e,A,E)}else w=Hn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new eo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YT(e))return"Blackberry";if(QT(e))return"Webos";if(FT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if($T(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function HT(i=Xt()){return/firefox\//i.test(i)}function FT(i=Xt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(i=Xt()){return/crios\//i.test(i)}function KT(i=Xt()){return/iemobile/i.test(i)}function $T(i=Xt()){return/android/i.test(i)}function YT(i=Xt()){return/blackberry/i.test(i)}function QT(i=Xt()){return/webos/i.test(i)}function Np(i=Xt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function C2(i=Xt()){var e;return Np(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N2(){return ER()&&document.documentMode===10}function XT(i=Xt()){return Np(i)||$T(i)||QT(i)||YT(i)||/windows phone/i.test(i)||KT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(i,e=[]){let n;switch(i){case"Browser":n=c0(Xt());break;case"Worker":n=`${c0(Xt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(i,e={}){return Jr(i,"GET","/v2/passwordPolicy",Zr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=6;class M2{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:O2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new x2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),s=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_n(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Wi(this));const n=e?Et(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D2(this),n=new M2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ws("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await I2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Js(i){return Et(i)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P2(i){qh=i}function ZT(i){return qh.loadJS(i)}function k2(){return qh.recaptchaEnterpriseScript}function L2(){return qh.gapiScript}function U2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class j2{constructor(){this.enterprise=new z2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const B2="recaptcha-enterprise",JT="NO_RECAPTCHA";class q2{constructor(e){this.type=B2,this.auth=Js(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{v2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new _2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;a0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(JT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new j2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&a0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=k2();p.length!==0&&(p+=m),ZT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function f0(i,e,n,s=!1,o=!1){const u=new q2(i);let f;if(o)f=JT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Hm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await f0(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await f0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i,e){const n=Wr(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fr(u,e??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:e})}function F2(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Qi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function G2(i,e,n){const s=Js(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=eb(e),{host:f,port:m}=K2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Fr(g,s.config.emulator)&&Fr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,mo(f)?(yp(`${u}//${f}${p}`),_p("Auth",!0)):$2()}function eb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function K2(i){const e=eb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:d0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:d0(f)}}}function d0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function $2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function Y2(i,e){return Jr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(i,e){return au(i,"POST","/v1/accounts:signInWithPassword",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(i,e){return au(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,e))}async function W2(i,e){return au(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends xp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",Q2);case"emailLink":return X2(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,s,"signUpPassword",Y2);case"emailLink":return W2(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(i,e){return au(i,"POST","/v1/accounts:signInWithIdp",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="http://localhost";class Ks extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Sp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:Z2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eN(i){const e=Ml(Vl(i)).link,n=e?Ml(Vl(e)).deep_link_id:null,s=Ml(Vl(i)).deep_link_id;return(s?Ml(Vl(s)).link:null)||s||n||e||i}class Dp{constructor(e){var n,s,o,u,f,m;const p=Ml(Vl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=J2((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=eN(e);try{return new Dp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Dp.parseLink(n);return Ee(s,"argument-error"),Yl._fromEmailAndCode(e,s.code,s.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends tb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends ou{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends ou{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends ou{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(i,e){return au(i,"POST","/v1/accounts:signUp",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Hn._fromIdTokenResponse(e,s,o),f=m0(s);return new $s({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=m0(s);return new $s({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function m0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends kn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new mh(e,n,s,o)}}function nb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(i,u,e,s):u})}async function nN(i,e,n=!1){const s=await $l(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return $s._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(i,e,n=!1){const{auth:s}=i;if(_n(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await $l(i,nb(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=Cp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),$s._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(i,e,n=!1){if(_n(i.app))return Promise.reject(Wi(i));const s="signIn",o=await nb(i,s,e),u=await $s._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function rN(i,e){return ib(Js(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(i){const e=Js(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sN(i,e,n){if(_n(i.app))return Promise.reject(Wi(i));const s=Js(i),f=await Hm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&rb(i),p}),m=await $s._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function aN(i,e,n){return _n(i.app)?Promise.reject(Wi(i)):rN(Et(i),po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rb(i),s})}function oN(i,e,n,s){return Et(i).onIdTokenChanged(e,n,s)}function lN(i,e,n){return Et(i).beforeAuthStateChanged(e,n)}function uN(i,e,n,s){return Et(i).onAuthStateChanged(e,n,s)}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=1e3,hN=10;class ab extends sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);N2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ab.type="LOCAL";const fN=ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ob.type="SESSION";const lb=ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await dN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Op("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function pN(i){di().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function gN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function _N(){return ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="firebaseLocalStorageDb",vN=1,gh="firebaseLocalStorage",hb="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(i,e){return i.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function EN(){const i=indexedDB.deleteDatabase(cb);return new lu(i).toPromise()}function Fm(){const i=indexedDB.open(cb,vN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(gh,{keyPath:hb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await EN(),e(await Fm()))})})}async function p0(i,e,n){const s=Fh(i,!0).put({[hb]:e,value:n});return new lu(s).toPromise()}async function TN(i,e){const n=Fh(i,!1).get(e),s=await new lu(n).toPromise();return s===void 0?null:s.value}function g0(i,e){const n=Fh(i,!0).delete(e);return new lu(n).toPromise()}const bN=800,AN=3;class fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>AN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(_N()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gN(),!this.activeServiceWorker)return;this.sender=new mN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await p0(e,ph,"1"),await g0(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>p0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>TN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fb.type="LOCAL";const wN=fb;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(i,e){return e?Qi(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RN(i){return ib(i.auth,new Mp(i),i.bypassAuthState)}function IN(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),iN(n,new Mp(i),i.bypassAuthState)}async function CN(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),nN(n,new Mp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RN;case"linkViaPopup":case"linkViaRedirect":return CN;case"reauthViaPopup":case"reauthViaRedirect":return IN;default:Kn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new su(2e3,1e4);class Za extends db{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NN.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="pendingRedirect",Zc=new Map;class DN extends db{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const s=await ON(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ON(i,e){const n=PN(e),s=VN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function MN(i,e){Zc.set(i._key(),e)}function VN(i){return Qi(i._redirectPersistence)}function PN(i){return Wc(xN,i.config.apiKey,i.name)}async function kN(i,e,n=!1){if(_n(i.app))return Promise.reject(Wi(i));const s=Js(i),o=SN(s,e),f=await new DN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=10*60*1e3;class UN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!mb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(fi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LN&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(e))}saveEventToCache(e){this.cachedEventUids.add(y0(e)),this.lastProcessedEventTime=Date.now()}}function y0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function mb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(i,e={}){return Jr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qN=/^https?/;async function HN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await zN(i);for(const n of e)try{if(FN(n))return}catch{}Kn(i,"unauthorized-domain")}function FN(i){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!qN.test(n))return!1;if(BN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new su(3e4,6e4);function _0(){const i=di().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function KN(i){return new Promise((e,n)=>{var s,o,u;function f(){_0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_0(),n(fi(i,"network-request-failed"))},timeout:GN.get()})}if(!((o=(s=di().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=di().gapi)===null||u===void 0)&&u.load)f();else{const m=U2("iframefcb");return di()[m]=()=>{gapi.load?f():n(fi(i,"network-request-failed"))},ZT(`${L2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function $N(i){return Jc=Jc||KN(i),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new su(5e3,15e3),QN="__/auth/iframe",XN="emulator/auth/iframe",WN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JN(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ip(e,XN):`https://${i.config.authDomain}/${QN}`,s={apiKey:e.apiKey,appName:i.name,v:Zs},o=ZN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ru(s).slice(1)}`}async function ex(i){const e=await $N(i),n=di().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:JN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=fi(i,"network-request-failed"),m=di().setTimeout(()=>{u(f)},YN.get());function p(){di().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nx=500,ix=600,rx="_blank",sx="http://localhost";class v0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ax(i,e,n,s=nx,o=ix){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},tx),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Xt().toLowerCase();n&&(m=GT(g)?rx:n),HT(g)&&(e=e||sx,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[N,V])=>`${A}${N}=${V},`,"");if(C2(g)&&m!=="_self")return ox(e||"",m),new v0(null);const w=window.open(e||"",m,E);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new v0(w)}function ox(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="__/auth/handler",ux="emulator/auth/handler",cx=encodeURIComponent("fac");async function E0(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Zs,eventId:o};if(e instanceof tb){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",RR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof ou){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${cx}=${encodeURIComponent(p)}`:"";return`${hx(i)}?${ru(m).slice(1)}${g}`}function hx({config:i}){return i.emulator?Ip(i,ux):`https://${i.authDomain}/${lx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class fx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lb,this._completeRedirectFn=kN,this._overrideRedirectResult=MN}async _openPopup(e,n,s,o){var u;er((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await E0(e,n,s,Bm(),o);return ax(e,f,Op())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await E0(e,n,s,Bm(),o);return pN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ex(e),s=new UN(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Im];f!==void 0&&n(!!f),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XT()||FT()||Np()}}const dx=fx;var T0="@firebase/auth",b0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gx(i){Gn(new Pn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WT(i)},g=new V2(s,o,u,p);return F2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Gn(new Pn("auth-internal",e=>{const n=Js(e.getProvider("auth").getImmediate());return(s=>new mx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(T0,b0,px(i)),on(T0,b0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=5*60,_x=nT("authIdTokenMaxAge")||yx;let A0=null;const vx=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_x)return;const o=n==null?void 0:n.token;A0!==o&&(A0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ex(i=jh()){const e=Wr(i,"auth");if(e.isInitialized())return e.getImmediate();const n=H2(i,{popupRedirectResolver:dx,persistence:[wN,fN,lb]}),s=nT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=vx(u.toString());lN(n,f,()=>f(n.currentUser)),oN(n,m=>f(m))}}const o=JE("auth");return o&&G2(n,`http://${o}`),n}function Tx(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}P2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=fi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Tx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gx("Browser");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,pb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.D=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(O,P,U){for(var C=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)C[Pt-2]=arguments[Pt];return S.prototype[P].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)O[P]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(P=0;16>P;++P)O[P]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],P=x.g[2];var U=x.g[3],C=S+(U^R&(P^U))+O[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=U+(P^S&(R^P))+O[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=P+(R^U&(S^R))+O[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(S^P&(U^S))+O[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(U^R&(P^U))+O[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(P^S&(R^P))+O[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=P+(R^U&(S^R))+O[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(S^P&(U^S))+O[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(U^R&(P^U))+O[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(P^S&(R^P))+O[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=P+(R^U&(S^R))+O[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(S^P&(U^S))+O[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(U^R&(P^U))+O[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(P^S&(R^P))+O[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=P+(R^U&(S^R))+O[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=R+(S^P&(U^S))+O[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(P^U&(R^P))+O[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(S^R))+O[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(U^S))+O[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(P^U))+O[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^U&(R^P))+O[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(S^R))+O[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(U^S))+O[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(P^U))+O[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^U&(R^P))+O[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(S^R))+O[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(U^S))+O[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(P^U))+O[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^U&(R^P))+O[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^P&(S^R))+O[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(U^S))+O[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(P^U))+O[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(R^P^U)+O[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^P)+O[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=P+(U^S^R)+O[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^S)+O[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^U)+O[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^P)+O[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=P+(U^S^R)+O[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^S)+O[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^U)+O[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^P)+O[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=P+(U^S^R)+O[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^S)+O[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^U)+O[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^P)+O[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=P+(U^S^R)+O[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=R+(P^U^S)+O[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(P^(R|~U))+O[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~P))+O[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=P+(S^(U|~R))+O[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~S))+O[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~U))+O[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~P))+O[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=P+(S^(U|~R))+O[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~S))+O[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~U))+O[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~P))+O[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=P+(S^(U|~R))+O[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~S))+O[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~U))+O[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~P))+O[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=P+(S^(U|~R))+O[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=R+(U^(P|~S))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var R=S-this.blockSize,O=this.B,P=this.h,U=0;U<S;){if(P==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(O[P++]=x.charCodeAt(U++),P==this.blockSize){o(this,O),P=0;break}}else for(;U<S;)if(O[P++]=x[U++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var R=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=R&255,R/=256;for(this.u(x),x=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)x[R++]=this.g[S]>>>O&255;return x};function u(x,S){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function f(x,S){this.h=S;for(var R=[],O=!0,P=x.length-1;0<=P;P--){var U=x[P]|0;O&&U==S||(R[P]=U,O=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(S){return new f([S|0],0>S?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return j(g(-x));for(var S=[],R=1,O=0;x>=R;O++)S[O]=x/R|0,R*=4294967296;return new f(S,0)}function E(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return j(E(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),O=w,P=0;P<x.length;P+=8){var U=Math.min(8,x.length-P),C=parseInt(x.substring(P,P+U),S);8>U?(U=g(Math.pow(S,U)),O=O.j(U).add(g(C))):(O=O.j(R),O=O.add(g(C)))}return O}var w=p(0),A=p(1),N=p(16777216);i=f.prototype,i.m=function(){if(K(this))return-j(this).m();for(var x=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);x+=(0<=O?O:4294967296+O)*S,S*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(K(this))return"-"+j(this).toString(x);for(var S=g(Math.pow(x,6)),R=this,O="";;){var P=ie(R,S).g;R=H(R,P.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=P,V(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function K(x){return x.h==-1}i.l=function(x){return x=H(this,x),K(x)?-1:V(x)?0:1};function j(x){for(var S=x.g.length,R=[],O=0;O<S;O++)R[O]=~x.g[O];return new f(R,~x.h).add(A)}i.abs=function(){return K(this)?j(this):this},i.add=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],O=0,P=0;P<=S;P++){var U=O+(this.i(P)&65535)+(x.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);O=C>>>16,U&=65535,C&=65535,R[P]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function H(x,S){return x.add(j(S))}i.j=function(x){if(V(this)||V(x))return w;if(K(this))return K(x)?j(this).j(j(x)):j(j(this).j(x));if(K(x))return j(this.j(j(x)));if(0>this.l(N)&&0>x.l(N))return g(this.m()*x.m());for(var S=this.g.length+x.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<x.g.length;P++){var U=this.i(O)>>>16,C=this.i(O)&65535,Pt=x.i(P)>>>16,st=x.i(P)&65535;R[2*O+2*P]+=C*st,ne(R,2*O+2*P),R[2*O+2*P+1]+=U*st,ne(R,2*O+2*P+1),R[2*O+2*P+1]+=C*Pt,ne(R,2*O+2*P+1),R[2*O+2*P+2]+=U*Pt,ne(R,2*O+2*P+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new f(R,0)};function ne(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function re(x,S){this.g=x,this.h=S}function ie(x,S){if(V(S))throw Error("division by zero");if(V(x))return new re(w,w);if(K(x))return S=ie(j(x),S),new re(j(S.g),j(S.h));if(K(S))return S=ie(x,j(S)),new re(j(S.g),S.h);if(30<x.g.length){if(K(x)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,O=S;0>=O.l(x);)R=oe(R),O=oe(O);var P=he(R,1),U=he(O,1);for(O=he(O,2),R=he(R,2);!V(O);){var C=U.add(O);0>=C.l(x)&&(P=P.add(R),U=C),O=he(O,1),R=he(R,1)}return S=H(x,P.j(S)),new re(P,S)}for(P=w;0<=x.l(S);){for(R=Math.max(1,Math.floor(x.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(R),C=U.j(S);K(C)||0<C.l(x);)R-=O,U=g(R),C=U.j(S);V(U)&&(U=A),P=P.add(U),x=H(x,C)}return new re(P,x)}i.A=function(x){return ie(this,x).h},i.and=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&x.i(O);return new f(R,this.h&x.h)},i.or=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|x.i(O);return new f(R,this.h|x.h)},i.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^x.i(O);return new f(R,this.h^x.h)};function oe(x){for(var S=x.g.length+1,R=[],O=0;O<S;O++)R[O]=x.i(O)<<1|x.i(O-1)>>>31;return new f(R,x.h)}function he(x,S){var R=S>>5;S%=32;for(var O=x.g.length-R,P=[],U=0;U<O;U++)P[U]=0<S?x.i(U+R)>>>S|x.i(U+R+1)<<32-S:x.i(U+R);return new f(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,pb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Br=f}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gb,Pl,yb,eh,Gm,_b,vb,Eb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break e;_=_[z]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,$){for(var ae=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ae[Pe-2]=arguments[Pe];return y.prototype[z].apply(b,ae)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const z=c.length||0,$=b.length||0;c.length=z+$;for(let ae=0;ae<$;ae++)c[z+ae]=b[ae]}else c.push(b)}}class H{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var oe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function he(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let $=0;$<R.length;$++)_=R[$],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Pt{constructor(){this.h=this.g=null}add(y,_){const b=st.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var st=new H(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,ze=new Pt,D=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(te)}};var te=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=st;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ne(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(oe){e:{try{ie(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}V(Ne,se);var Ae={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Yn(c,y,_,b,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=z,this.key=++Ze,this.da=this.fa=!1}function rr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bi(c){this.src=c,this.g={},this.h=0}bi.prototype.add=function(c,y,_,b,z){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=rs(c,y,b,z);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new Yn(y,this.src,$,!!b,z),y.fa=_,c.push(y)),y};function is(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(b,z,1),$&&(rr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function rs(c,y,_,b){for(var z=0;z<c.length;++z){var $=c[z];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==b)return z}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),To={};function pu(c,y,_,b,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)pu(c,y[$],_,b,z);return null}return _=gu(_),c&&c[Ct]?c.K(y,_,g(b)?!!b.capture:!1,z):bn(c,y,_,!1,b,z)}function bn(c,y,_,b,z,$){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,Pe=ia(c);if(Pe||(c[ss]=Pe=new bi(c)),_=Pe.add(y,_,b,ae,$),_.proxy)return _;if(b=cf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ye||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),b,z);else if(c.attachEvent)c.attachEvent(as(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function cf(){function c(_){return y.call(c.src,c.listener,_)}const y=hf;return c}function bo(c,y,_,b,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)bo(c,y[$],_,b,z);else b=g(b)?!!b.capture:!!b,_=gu(_),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=rs($,_,b,z),-1<_&&(rr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=ia(c))&&(y=c.g[y.toString()],c=-1,y&&(c=rs(y,_,b,z)),(_=-1<c?y[c]:null)&&na(_))}function na(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])is(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(as(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ia(y))?(is(_,c),_.h==0&&(_.src=null,y[ss]=null)):rr(c)}}}function as(c){return c in To?To[c]:To[c]="on"+c}function hf(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&na(c),c=_.call(b,y)}return c}function ia(c){return c=c[ss],c instanceof bi?c:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(y){return c.handleEvent(y)}),c[Ao])}function at(){ue.call(this),this.i=new bi(this),this.M=this,this.F=null}V(at,ue),at.prototype[Ct]=!0,at.prototype.removeEventListener=function(c,y,_,b){bo(this,c,y,_,b)};function Fe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var z=y;y=new se(b,c),O(y,z)}if(z=!0,_)for(var $=_.length-1;0<=$;$--){var ae=y.g=_[$];z=un(ae,b,!0,y)&&z}if(ae=y.g=c,z=un(ae,b,!0,y)&&z,z=un(ae,b,!1,y)&&z,_)for($=0;$<_.length;$++)ae=y.g=_[$],z=un(ae,b,!1,y)&&z}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)rr(_[b]);delete c.g[y],c.h--}}this.F=null},at.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},at.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function un(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var ae=y[$];if(ae&&!ae.da&&ae.capture==_){var Pe=ae.listener,bt=ae.ha||ae.src;ae.fa&&is(c.i,ae),z=Pe.call(bt,b)!==!1&&z}}return z&&!b.defaultPrevented}function Ft(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function yu(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ff extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){ue.call(this),this.h=c,this.g={}}V(os,ue);var ls=[];function us(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&na(y)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=m.JSON.stringify,ra=m.JSON.parse,cs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function wo(){}wo.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function Ro(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){se.call(this,"d")}V(wi,se);function Io(){se.call(this,"c")}V(Io,se);var Qn={},Co=null;function sr(){return Co=Co||new at}Qn.La="serverreachability";function sa(c){se.call(this,Qn.La,c)}V(sa,se);function ar(c){const y=sr();Fe(y,new sa(y))}Qn.STAT_EVENT="statevent";function _u(c,y){se.call(this,Qn.STAT_EVENT,c),this.stat=y}V(_u,se);function tt(c){const y=sr();Fe(y,new _u(y,c))}Qn.Ma="timingevent";function Tt(c,y){se.call(this,Qn.Ma,c),this.size=y}V(Tt,se);function dt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function No(c,y,_,b,z,$){c.info(function(){if(c.g)if($)for(var ae="",Pe=$.split("&"),bt=0;bt<Pe.length;bt++){var ke=Pe[bt].split("=");if(1<ke.length){var xt=ke[0];ke=ke[1];var At=xt.split("_");ae=2<=At.length&&At[1]=="type"?ae+(xt+"="+ke+"&"):ae+(xt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+_+`
`+ae})}function df(c,y,_,b,z,$,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+_+`
`+$+" "+ae})}function or(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+hs(c,_)+(b?" "+b:"")})}function vu(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function hs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Ln(_)}catch{return y}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Wn(){}V(Wn,wo),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Xn=new Wn;function Wt(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var xo={},aa={};function Un(c,y,_){c.L=1,c.v=gs(cn(y)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,y){c.F=Date.now(),fs(c),c.A=cn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ko(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ut,c.g=Pu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ff(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ls[0]=z.toString()),z=ls);for(var $=0;$<z.length;$++){var ae=pu(_,z[$],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ar(),No(c.i,c.u,c.A,c.l,c.R,c.m)}Wt.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},Wt.prototype.Y=function(c){try{if(c==this.g)e:{const At=In(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||At!=4||y==7||(y==8||0>=Vi?ar(3):ar(2)),ur(this);var _=this.g.Z();this.X=_;t:if(Eu(this)){var b=Iu(this.g);c="";var z=b.length,$=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),Zn(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!($&&y==z-1)});b.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,df(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,bt=this.g;if((Pe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,_);else{this.o=!1,this.s=3,tt(12),kt(this),Zn(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<ae.length;)if(Lt=Tu(this,ae),Lt==aa){At==4&&(this.s=4,tt(14),_=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==xo){this.s=4,tt(15),or(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else or(this.i,this.l,Lt,null),ds(this,Lt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ae.length!=0||this.h.h||(this.s=1,tt(16),_=!1),this.o=this.o&&_,!_)or(this.i,this.l,ae,"[Invalid Chunked Response]"),kt(this),Zn(this);else if(0<ae.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ws(xt),xt.M=!0,tt(11))}}else or(this.i,this.l,ae,null),ds(this,ae);At==4&&kt(this),this.o&&!this.J&&(At==4?Ou(this.j,this):(this.o=!1,fs(this)))}else _f(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),kt(this),Zn(this)}}}catch{}finally{}};function Eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Tu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?aa:(_=Number(y.substring(_,b)),isNaN(_)?xo:(b+=1,b+_>y.length?aa:(y=y.slice(b,b+_),c.C=b+_,y)))}Wt.prototype.cancel=function(){this.J=!0,kt(this)};function fs(c){c.S=Date.now()+c.I,bu(c,c.I)}function bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=dt(A(c.ba,c),y)}function ur(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vu(this.i,this.A),this.L!=2&&(ar(),tt(17)),kt(this),this.s=2,Zn(this)):bu(this,this.S-c)};function Zn(c){c.j.G==0||c.J||Ou(c.j,c)}function kt(c){ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,us(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ds(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_a(_),ga(_);else break e;Bo(_),tt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=dt(A(_.Za,_),6e3));if(1>=la(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&_a(_),!ne(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let ke=z[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const xt=ke[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const At=ke[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Vi=ke[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(b=1.5*Vi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Lt=c.g;if(Lt){const si=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var $=b.h;$.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ua($,$.h),$.h=null))}if(b.D){const Ho=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(b.ya=Ho,$e(b.I,b.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ae=c;if(b.qa=Vu(b,b.J?b.ia:null,b.W),ae.K){Zt(b.h,ae);var Pe=ae,bt=b.L;bt&&(Pe.I=bt),Pe.B&&(ur(Pe),fs(Pe)),b.g=ae}else xu(b);0<_.i.length&&ya(_)}else ke[0]!="stop"&&ke[0]!="close"||Mi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Mi(_,7):jo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}ar(4)}catch{}}var Au=class{constructor(c,y){this.g=c,this.map=y}};function Ii(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function la(c){return c.h?1:c.g?c.g.size:0}function Do(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ua(c,y){c.g?c.g.add(y):c.h=y}function Zt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ii.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function mf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ca(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Mo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ca(c),b=mf(c),z=b.length,$=0;$<z;$++)y.call(void 0,b[$],_&&_[$],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var $=c[_].substring(0,b);z=c[_].substring(b+1)}else $=c[_];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function mt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mt){this.h=c.h,ps(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.s),this.l=c.l;var y=c.i,_=new Ni;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ci(this,_),this.m=c.m}else c&&(y=String(c).match(ms))?(this.h=!1,ps(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),cr(this,y[4]),this.l=wn(y[5]||"",!0),Ci(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}mt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ys(y,Vo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ys(y,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ys(_,_.charAt(0)=="/"?gf:Po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ys(_,ha)),c.join("")};function cn(c){return new mt(c)}function ps(c,y,_){c.j=_?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ci(c,y,_){y instanceof Ni?(c.i=y,Su(c.i,c.h)):(_||(y=ys(y,yf)),c.i=new Ni(y,c.h))}function $e(c,y,_){c.i.set(y,_)}function gs(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,wu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Po=/[#\?:]/g,gf=/[#\?]/g,yf=/[#\?@]/g,ha=/#/g;function Ni(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&pf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Ni.prototype,i.add=function(c,y){Sn(this),this.i=null,c=Jn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function xi(c,y){Sn(c),y=Jn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return Sn(c),y=Jn(c,y),c.g.has(y)}i.forEach=function(c,y){Sn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(y,z,b,this)},this)},this)},i.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const z=c[b];for(let $=0;$<z.length;$++)_.push(y[b])}return _},i.V=function(c){Sn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Sn(this),this.i=null,c=Jn(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ko(c,y,_){xi(c,y),0<_.length&&(c.i=null,c.g.set(Jn(c,y),K(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const $=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var z=$;ae[b]!==""&&(z+="="+encodeURIComponent(String(ae[b]))),c.push(z)}}return this.i=c.join("&")};function Jn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Su(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(xi(this,b),ko(this,z,_))},c)),c.j=y}function _s(c,y){const _=new An;if(m.Image){const b=new Image;b.onload=N(Rn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=N(Rn,_,"TestLoadImage: error",!1,y,b),b.onabort=N(Rn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=N(Rn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function jn(c,y){const _=new An,b=new AbortController,z=setTimeout(()=>{b.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then($=>{clearTimeout(z),$.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function vs(){this.g=new cs}function ei(c,y,_){const b=_||"";try{Mo(c,function(z,$){let ae=z;g(z)&&(ae=Ln(z)),y.push(b+$+"="+encodeURIComponent(ae))})}catch(z){throw y.push(b+"type="+encodeURIComponent("_badmap")),z}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(hr,wo),hr.prototype.g=function(){return new Oi(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Oi(c,y){at.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Oi,at),i=Oi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ni(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ti(this):ni(this),this.readyState==3&&Lo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ti(this))},i.Qa=function(c){this.g&&(this.response=c,ti(this))},i.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ni(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uo(c){let y="";return he(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Nt(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Uo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,y,_))}function qe(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(qe,at);var fa=/^https?$/i,Es=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?So(this.o):So(Xn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Ru(this,$);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())_.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Es,y,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of _)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Ru(this,$)}};function Ru(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,da(c),ii(c)}function da(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ii(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},i.bb=function(){ma(this)};function ma(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Ft(c.Ea,0,c);else if(Fe(c,"readystatechange"),In(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=ae===0){var z=String(c.D).match(ms)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!fa.test(z?z.toLowerCase():"")}_=b}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var $=2<In(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",da(c)}}finally{ii(c)}}}}function ii(c,y){if(c.g){Ts(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=b}catch{}}}function Ts(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ra(y)}};function Iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _f(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ne(c[b]))continue;var _=P(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[z]||[];y[z]=$,$.push(_)}x(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function pa(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=pa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){tt(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Vu(this,null,this.W),ya(this)};function jo(c){if(Cu(c),c.G==3){var y=c.U++,_=cn(c.I);if($e(_,"SID",c.K),$e(_,"RID",y),$e(_,"TYPE","terminate"),As(c,_),y=new Wt(c,c.j,y),y.L=2,y.v=gs(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Pu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),fs(y)}Mu(c)}function ga(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function Cu(c){ga(c),c.u&&(m.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ya(c){if(!oa(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||D(),pe||(le(),pe=!0),ze.add(y,c),c.B=0}}function vf(c,y){return la(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=dt(A(c.Ga,c,y),qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Wt(this,this.j,c);let $=this.o;if(this.S&&($?($=S($),O($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Nu(this,z,y),_=cn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),As(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Uo($)))+"&"+y:this.m&&Nt(_,this.m,$)),ua(this.h,z),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",y),$e(_,"SID","null"),z.T=!0,Un(z,_,null)):Un(z,_,y),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||oa(this.h)||zo(this))};function zo(c,y){var _;y?_=y.l:_=c.U++;const b=cn(c.I);$e(b,"SID",c.K),$e(b,"RID",_),$e(b,"AID",c.T),As(c,b),c.m&&c.o&&Nt(b,c.m,c.o),_=new Wt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Nu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ua(c.h,_),Un(_,b,y)}function As(c,y){c.H&&he(c.H,function(_,b){$e(y,b,_)}),c.l&&Mo({},function(_,b){$e(y,b,_)})}function Nu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;e:{var z=c.i;let $=-1;for(;;){const ae=["count="+_];$==-1?0<_?($=z[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let Pe=!0;for(let bt=0;bt<_;bt++){let ke=z[bt].g;const xt=z[bt].map;if(ke-=$,0>ke)$=Math.max(0,z[bt].g-100),Pe=!1;else try{ei(xt,ae,"req"+ke+"_")}catch{b&&b(xt)}}if(Pe){b=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function xu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||D(),pe||(le(),pe=!0),ze.add(y,c),c.v=0}}function Bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=dt(A(c.Fa,c),qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=dt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ga(this),Du(this))};function ws(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Du(c){c.g=new Wt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=cn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),As(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=gs(cn(y)),_.m=null,_.P=!0,Ri(_,c)}i.Za=function(){this.C!=null&&(this.C=null,ga(this),Bo(this),tt(19))};function _a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ou(c,y){var _=null;if(c.g==y){_a(c),ws(c),c.g=null;var b=2}else if(Do(c.h,y))_=y.D,Zt(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;b=sr(),Fe(b,new Tt(b,_)),ya(c)}else xu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(b==1&&vf(c,y)||b==2&&Bo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const z=!b;b=new mt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ps(b,"https"),gs(b),z?_s(b.toString(),_):jn(b.toString(),_)}else tt(2);c.G=0,c.l&&c.l.sa(y),Mu(c),Cu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Mu(c){if(c.G=0,c.ka=[],c.l){const y=Oo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Vu(c,y,_){var b=_ instanceof mt?cn(_):new mt(_);if(b.g!="")y&&(b.g=y+"."+b.g),cr(b,b.s);else{var z=m.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new mt(null);b&&ps($,b),y&&($.g=y),z&&cr($,z),_&&($.l=_),b=$}return _=c.D,y=c.ya,_&&y&&$e(b,_,y),$e(b,"VER",c.la),As(c,b),b}function Pu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new hr({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}i=ku.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function va(){}va.prototype.g=function(c,y){return new Jt(c,y)};function Jt(c,y){at.call(this),this.g=new pa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ri(this)}V(Jt,at),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){jo(this.g)},Jt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ln(c),c=_);y.i.push(new Au(y.Ya++,c)),y.G==3&&ya(y)},Jt.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,Jt.aa.N.call(this)};function Lu(c){wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Lu,wi);function Uu(){Io.call(this),this.status=1}V(Uu,Io);function ri(c){this.g=c}V(ri,ku),ri.prototype.ua=function(){Fe(this.g,"a")},ri.prototype.ta=function(c){Fe(this.g,new Lu(c))},ri.prototype.sa=function(c){Fe(this.g,new Uu)},ri.prototype.ra=function(){Fe(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,Eb=function(){return new va},vb=function(){return sr()},_b=Qn,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,eh=lr,Si.COMPLETE="complete",yb=Si,Ro.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",at.prototype.listen=at.prototype.K,Pl=Ro,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,gb=qe}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const S0="@firebase/firestore",R0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Uh("@firebase/firestore");function Ya(){return Ys.logLevel}function ce(i,...e){if(Ys.logLevel<=Me.DEBUG){const n=e.map(Vp);Ys.debug(`Firestore (${go}): ${i}`,...n)}}function tr(i,...e){if(Ys.logLevel<=Me.ERROR){const n=e.map(Vp);Ys.error(`Firestore (${go}): ${i}`,...n)}}function ro(i,...e){if(Ys.logLevel<=Me.WARN){const n=e.map(Vp);Ys.warn(`Firestore (${go}): ${i}`,...n)}}function Vp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Tb(i,s,n)}function Tb(i,e,n){let s=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function He(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Tb(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class Ax{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wx{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new bb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class Sx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Sx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ix{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Cx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Km(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=Ab(),f=Nx(u.encode(C0(i,n)),u.encode(C0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function C0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function Nx(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function so(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-62135596800,x0=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*x0);return new vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N0)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-N0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new vt(0,0))}static max(){return new we(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="__name__";class hi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=hi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=hi.isNumericId(e),o=hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(e).compare(hi.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class et extends hi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const xx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends hi{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return xx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new qt([D0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function Dx(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new vt(n+1,0):new vt(n,s));return new Gr(o,ge.empty(),e)}function Ox(i){return new Gr(i.readTime,i.key,Ql)}class Gr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Gr(we.min(),ge.empty(),Ql)}static max(){return new Gr(we.max(),ge.empty(),Ql)}}function Mx(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Px{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==Vx)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function kx(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Gh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function Kh(i){return i==null}function yh(i){return i===0&&1/i==-1/0}function Lx(i){return typeof i=="number"&&Number.isInteger(i)&&!yh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="";function Ux(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=O0(e)),e=jx(i.get(n),e);return O0(e)}function jx(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Sb:n+="";break;default:n+=u}}return n}function O0(i){return i+Sb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function es(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Rb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V0(this.data.getIterator())}getIteratorFrom(e){return new V0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class V0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new It(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ib("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const zx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(i){if(He(!!i,39018),typeof i=="string"){let e=0;const n=zx.exec(i);if(He(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(i.seconds),nanos:ft(i.nanos)}}function ft(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $r(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="server_timestamp",Nb="__type__",xb="__previous_value__",Db="__local_write_time__";function kp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nb])===null||n===void 0?void 0:n.stringValue)===Cb}function $h(i){const e=i.mapValue.fields[xb];return kp(e)?$h(e):e}function Xl(i){const e=Kr(i.mapValue.fields[Db].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const _h="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__type__",qx="__max__",Hc={mapValue:{}},Mb="__vector__",vh="value";function Yr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kp(i)?4:Fx(i)?9007199254740991:Hx(i)?10:11:Te(28295,{value:i})}function _i(i,e){if(i===e)return!0;const n=Yr(i);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xl(i).isEqual(Xl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Kr(o.timestampValue),m=Kr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return $r(o.bytesValue).isEqual($r(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ft(o.geoPointValue.latitude)===ft(u.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ft(o.integerValue)===ft(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ft(o.doubleValue),m=ft(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return so(i.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(M0(f)!==M0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!_i(f[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function Zl(i,e){return(i.values||[]).find(n=>_i(n,e))!==void 0}function ao(i,e){if(i===e)return 0;const n=Yr(i),s=Yr(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ft(u.integerValue||u.doubleValue),p=ft(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return P0(i.timestampValue,e.timestampValue);case 4:return P0(Xl(i),Xl(e));case 5:return Km(i.stringValue,e.stringValue);case 6:return function(u,f){const m=$r(u),p=$r(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(ft(u.latitude),ft(f.latitude));return m!==0?m:Ce(ft(u.longitude),ft(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return k0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},N=(m=w[vh])===null||m===void 0?void 0:m.arrayValue,V=(p=A[vh])===null||p===void 0?void 0:p.arrayValue,K=Ce(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:k0(N,V)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=Km(p[w],E[w]);if(A!==0)return A;const N=ao(m[p[w]],g[E[w]]);if(N!==0)return N}return Ce(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function P0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Kr(i),s=Kr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function k0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function oo(i){return $m(i)}function $m(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return $r(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=$m(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${$m(n.fields[f])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function th(i){switch(Yr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(i);return e?16+th(e):16;case 5:return 2*i.stringValue.length;case 6:return $r(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+th(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(u,f)=>{o+=u.length+th(f)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function L0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ym(i){return!!i&&"integerValue"in i}function Lp(i){return!!i&&"arrayValue"in i}function U0(i){return!!i&&"nullValue"in i}function j0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nh(i){return!!i&&"mapValue"in i}function Hx(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ob])===null||n===void 0?void 0:n.stringValue)===Mb}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return es(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Fx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===qx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new an(Bl(this.value))}}function Vb(i){const e=[];return es(i.fields,(n,s)=>{const o=new qt([n]);if(nh(s)){const u=Vb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Qt(e,0,we.min(),we.min(),we.min(),an.empty(),0)}static newFoundDocument(e,n,s,o){return new Qt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Qt(e,2,n,we.min(),we.min(),an.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,we.min(),we.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function z0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function B0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!_i(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function Gx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{}class _t extends Pb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $x(e,n,s):n==="array-contains"?new Xx(e,s):n==="in"?new Wx(e,s):n==="not-in"?new Zx(e,s):n==="array-contains-any"?new Jx(e,s):new _t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Yx(e,s):new Qx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends Pb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new $n(e,n)}matches(e){return kb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function kb(i){return i.op==="and"}function Lb(i){return Kx(i)&&kb(i)}function Kx(i){for(const e of i.filters)if(e instanceof $n)return!1;return!0}function Qm(i){if(i instanceof _t)return i.field.canonicalString()+i.op.toString()+oo(i.value);if(Lb(i))return i.filters.map(e=>Qm(e)).join(",");{const e=i.filters.map(n=>Qm(n)).join(",");return`${i.op}(${e})`}}function Ub(i,e){return i instanceof _t?function(s,o){return o instanceof _t&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(i,e):i instanceof $n?function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Ub(f,o.filters[m]),!0):!1}(i,e):void Te(19439)}function jb(i){return i instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(i):i instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(jb).join(" ,")+"}"}(i):"Filter"}class $x extends _t{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yx extends _t{constructor(e,n){super(e,"in",n),this.keys=zb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Qx extends _t{constructor(e,n){super(e,"not-in",n),this.keys=zb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zb(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class Xx extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lp(n)&&Zl(n.arrayValue,this.value)}}class Wx extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class Zx extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class Jx extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function q0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new eD(i,e,n,s,o,u,f)}function Up(i){const e=Se(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Qm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>oo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>oo(s)).join(",")),e.Ie=n}return e.Ie}function jp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Gx(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ub(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!B0(i.startAt,e.startAt)&&B0(i.endAt,e.endAt)}function Xm(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function tD(i,e,n,s,o,u,f,m){return new uu(i,e,n,s,o,u,f,m)}function Bb(i){return new uu(i)}function H0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function qb(i){return i.collectionGroup!==null}function ql(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Th(u,s))}),n.has(qt.keyField().canonicalString())||e.Ee.push(new Th(qt.keyField(),s))}return e.Ee}function mi(i){const e=Se(i);return e.de||(e.de=nD(e,ql(i))),e.de}function nD(i,e){if(i.limitType==="F")return q0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)});const n=i.endAt?new Eh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Eh(i.startAt.position,i.startAt.inclusive):null;return q0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Wm(i,e){const n=i.filters.concat([e]);return new uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Zm(i,e,n){return new uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yh(i,e){return jp(mi(i),mi(e))&&i.limitType===e.limitType}function Hb(i){return`${Up(mi(i))}|lt:${i.limitType}`}function Qa(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>jb(o)).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>oo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>oo(o)).join(",")),`Target(${s})`}(mi(i))}; limitType=${i.limitType})`}function Qh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=z0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,m,p){const g=z0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,ql(s),o))}(i,e)}function iD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Fb(i){return(e,n)=>{let s=!1;for(const o of ql(i)){const u=rD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rD(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ao(p,g):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new rt(ge.comparator);function nr(){return sD}const Gb=new rt(ge.comparator);function kl(...i){let e=Gb;for(const n of i)e=e.insert(n.key,n);return e}function Kb(i){let e=Gb;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function qs(){return Hl()}function $b(){return Hl()}function Hl(){return new ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const aD=new rt(ge.comparator),oD=new It(ge.comparator);function Ve(...i){let e=oD;for(const n of i)e=e.add(n);return e}const lD=new It(Ce);function uD(){return lD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function Yb(i){return{integerValue:""+i}}function cD(i,e){return Lx(e)?Yb(e):zp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function hD(i,e,n){return i instanceof bh?function(o,u){const f={fields:{[Nb]:{stringValue:Cb},[Db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kp(u)&&(u=$h(u)),u&&(f.fields[xb]=u),{mapValue:f}}(n,e):i instanceof Jl?Xb(i,e):i instanceof eu?Wb(i,e):function(o,u){const f=Qb(o,u),m=F0(f)+F0(o.Re);return Ym(f)&&Ym(o.Re)?Yb(m):zp(o.serializer,m)}(i,e)}function fD(i,e,n){return i instanceof Jl?Xb(i,e):i instanceof eu?Wb(i,e):n}function Qb(i,e){return i instanceof Ah?function(s){return Ym(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class bh extends Xh{}class Jl extends Xh{constructor(e){super(),this.elements=e}}function Xb(i,e){const n=Zb(e);for(const s of i.elements)n.some(o=>_i(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends Xh{constructor(e){super(),this.elements=e}}function Wb(i,e){let n=Zb(e);for(const s of i.elements)n=n.filter(o=>!_i(o,s));return{arrayValue:{values:n}}}class Ah extends Xh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function F0(i){return ft(i.integerValue||i.doubleValue)}function Zb(i){return Lp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function dD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?so(s.elements,o.elements,_i):s instanceof Ah&&o instanceof Ah?_i(s.Re,o.Re):s instanceof bh&&o instanceof bh}(i.transform,e.transform)}class mD{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Wh{}function Jb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new tA(i.key,pi.none()):new cu(i.key,i.data,pi.none());{const n=i.data,s=an.empty();let o=new It(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ts(i.key,s,new vn(o.toArray()),pi.none())}}function pD(i,e,n){i instanceof cu?function(o,u,f){const m=o.value.clone(),p=K0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ts?function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=K0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(eA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(i,e,n,s){return i instanceof cu?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=u.value.clone(),E=$0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ts?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=$0(u.fieldTransforms,p,f),E=f.data;return E.setAll(eA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function gD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Qb(s.transform,o||null);u!=null&&(n===null&&(n=an.empty()),n.set(s.field,u))}return n||null}function G0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,(u,f)=>dD(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class cu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eA(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function K0(i,e,n){const s=new Map;He(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,fD(f,m,n[o]))}return s}function $0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,hD(u,f,e))}return s}class tA extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yD extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&pD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$b();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Jb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,s)=>G0(n,s))&&so(this.baseMutations,e.baseMutations,(n,s)=>G0(n,s))}}class Bp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return aD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Bp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ue;function TD(i){switch(i){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function nA(i){if(i===void 0)return tr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case yt.OK:return ee.OK;case yt.CANCELLED:return ee.CANCELLED;case yt.UNKNOWN:return ee.UNKNOWN;case yt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case yt.INTERNAL:return ee.INTERNAL;case yt.UNAVAILABLE:return ee.UNAVAILABLE;case yt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case yt.NOT_FOUND:return ee.NOT_FOUND;case yt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case yt.ABORTED:return ee.ABORTED;case yt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case yt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:i})}}(Ue=yt||(yt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Br([4294967295,4294967295],0);function Y0(i){const e=Ab().encode(i),n=new pb;return n.update(e),new Uint8Array(n.digest())}function Q0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Br([n,s],0),new Br([o,u],0)]}class qp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Br.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Br.fromNumber(s)));return o.compare(bD)===1&&(o=new Br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Y0(e),[s,o]=Q0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.Se(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new qp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=Y0(e),[s,o]=Q0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(we.min(),o,new rt(Ce),nr(),Ve())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class iA{constructor(e,n){this.targetId=e,this.Ce=n}}class rA{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class X0{constructor(){this.Fe=0,this.Me=W0(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),n=Ve(),s=Ve();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new hu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=W0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class AD{constructor(e){this.ze=e,this.je=new Map,this.He=nr(),this.Je=Fc(),this.Ye=Fc(),this.Ze=new rt(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new ge(u.path);this.tt(n,f,Qt.newNoDocument(f,we.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=$r(s).toUint8Array()}catch(p){if(p instanceof Ib)return ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new qp(f,o,u)}catch(p){return ro(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Xm(m.target)){const p=new ge(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Qt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Ve();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Zh(e,n,this.Ze,this.He,s);return this.He=nr(),this.Je=Fc(),this.Ye=Fc(),this.Ze=new rt(Ce),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new X0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new It(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new It(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new X0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new rt(ge.comparator)}function W0(){return new rt(ge.comparator)}const wD={asc:"ASCENDING",desc:"DESCENDING"},SD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RD={and:"AND",or:"OR"};class ID{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(i,e){return i.useProto3Json||Kh(e)?e:{value:e}}function wh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function CD(i,e){return wh(i,e.toTimestamp())}function gi(i){return He(!!i,49232),we.fromTimestamp(function(n){const s=Kr(n);return new vt(s.seconds,s.nanos)}(i))}function Hp(i,e){return ep(i,e).canonicalString()}function ep(i,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function aA(i){const e=et.fromString(i);return He(hA(e),10190,{key:e.toString()}),e}function tp(i,e){return Hp(i.databaseId,e.path)}function Cm(i,e){const n=aA(e);if(n.get(1)!==i.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(lA(n))}function oA(i,e){return Hp(i.databaseId,e)}function ND(i){const e=aA(i);return e.length===4?et.emptyPath():lA(e)}function np(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lA(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Z0(i,e,n){return{name:tp(i,e),fields:n.value.mapValue.fields}}function xD(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Ht.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ht.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ee.UNKNOWN:nA(g.code);return new de(E,g.message||"")}(f);n=new rA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(i,s.document.name),u=gi(s.document.updateTime),f=s.document.createTime?gi(s.document.createTime):we.min(),m=new an({mapValue:{fields:s.document.fields}}),p=Qt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new rh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cm(i,s.document),u=s.readTime?gi(s.readTime):we.min(),f=Qt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cm(i,s.document),u=s.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ED(o,u),m=s.targetId;n=new iA(m,f)}}return n}function DD(i,e){let n;if(e instanceof cu)n={update:Z0(i,e.key,e.value)};else if(e instanceof tA)n={delete:tp(i,e.key)};else if(e instanceof ts)n={update:Z0(i,e.key,e.data),updateMask:zD(e.fieldMask)};else{if(!(e instanceof yD))return Te(16599,{ft:e.type});n={verify:tp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof bh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:CD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),n}function OD(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(we.min())&&(f=gi(u)),new mD(f,o.transformResults||[])}(n,e))):[]}function MD(i,e){return{documents:[oA(i,e.path)]}}function VD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=oA(i,o);const u=function(g){if(g.length!==0)return cA($n.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Xa(A.field),direction:LD(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function PD(i){let e=ND(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=uA(w);return A instanceof $n&&Lb(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(V){return new Th(Wa(V.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Kh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,N=w.values||[];return new Eh(N,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,N=w.values||[];return new Eh(N,A)}(n.endAt)),tD(e,o,f,u,m,"F",p,g)}function kD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uA(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return _t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return _t.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return _t.create(Wa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(s=>uA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function LD(i){return wD[i]}function UD(i){return SD[i]}function jD(i){return RD[i]}function Xa(i){return{fieldPath:i.canonicalString()}}function Wa(i){return qt.fromServerFormat(i.fieldPath)}function cA(i){return i instanceof _t?function(n){if(n.op==="=="){if(j0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(U0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(U0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:UD(n.op),value:n.value}}}(i):i instanceof $n?function(n){const s=n.getFilters().map(o=>cA(o));return s.length===1?s[0]:{compositeFilter:{op:jD(n.op),filters:s}}}(i):Te(54877,{filter:i})}function zD(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.wt=e}}function qD(i){const e=PD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.Cn=new FD}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Gr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class FD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fA=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(fA,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new lo(0)}static lr(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="LruGarbageCollector",GD=1048576;function tE([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class KD{constructor(e){this.Er=e,this.buffer=new It(tE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $D{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(eE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?ce(eE,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.mr(3e5)})}}class YD{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Gh.le);const s=new KD(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(J0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Ya()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function QD(i,e){return new YD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,vn.empty(),vt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=nr();const f=Hl(),m=function(){return Hl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ts)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Fl(E.mutation,g,E.mutation.getFieldMask(),vt.now())):f.set(g.key,vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new WD(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new rt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=$b();E.forEach(A=>{if(!u.has(A)){const N=Jb(n.get(A),s.get(A));N!==null&&w.set(A,N),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(qs());let m=Ql,p=u;return f.next(g=>J.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:Kb(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(w,A){return new uu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Qt.newInvalidDocument(E)))});let m=kl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,g,vn.empty(),vt.now()),Qh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return J.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:qD(o.bundledQuery),readTime:gi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.overlays=new rt(ge.comparator),this.Qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.bt(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=qs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new rt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new vD(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ve(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.$r=new It(Vt.Ur),this.Kr=new It(Vt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Vt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ge(new et([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ge(new et([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Ve();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Vt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ge.comparator(e.key,n.key)||Ce(e.Zr,n.Zr)}static Wr(e,n){return Ce(e.Zr,n.Zr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new It(Vt.Ur)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new _D(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Pp:this.nr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ce);return n.forEach(o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),J.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new ge(u),0);let m=new It(Ce);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),J.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return J.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Xr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.ii=e,this.docs=function(){return new rt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Qt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=nr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Mx(Ox(E),s)<=0||(o.has(E.key)||Qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}si(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new rO(this)}getSize(e){return J.resolve(this.size)}}class rO extends XD{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.persistence=e,this.oi=new ea(n=>Up(n),jp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this._i=0,this.ai=new Fp,this.targetCount=0,this.ui=lo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),J.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new lo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Tr(n),J.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.ci={},this.overlays={},this.li=new Gh(0),this.hi=!1,this.hi=!0,this.Pi=new tO,this.referenceDelegate=e(this),this.Ti=new sO(this),this.indexManager=new HD,this.remoteDocumentCache=function(o){return new iO(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new BD(n),this.Ei=new JD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new nO(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new aO(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return J.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class aO extends Px{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Vi=new Fp,this.mi=null}static fi(e){return new Gp(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,s=>{const o=ge.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return J.or([()=>J.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.yi=new ea(s=>Ux(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=QD(this,n)}static fi(e,n){return new Sh(e,n)}di(){}Ai(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return J.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}Dr(e,n,s){return J.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return TR()?8:kx(Xt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new oO;return this.bs(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Ya()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(Ya()<=Me.DEBUG&&ce("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Ya()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):J.resolve())}ws(e,n){if(H0(n))return J.resolve(null);let s=mi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,Zm(n,null,"F")):this.Fs(e,g,n,p)}))})))}Ss(e,n,s,o){return H0(n)||o.isEqual(we.min())?J.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(Ya()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.Fs(e,f,n,Dx(o,Ql)).next(m=>m))})}vs(e,n){let s=new It(Fb(e));return n.forEach((o,u)=>{Qh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,s){return Ya()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ys.getDocumentsMatchingQuery(e,n,Gr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="LocalStore",uO=3e8;class cO{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new rt(Ce),this.Os=new ea(u=>Up(u),jp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function hO(i,e,n,s){return new cO(i,e,n,s)}async function mA(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function fO(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,A=w.keys();let N=J.resolve();return A.forEach(V=>{N=N.next(()=>E.getEntry(p,V)).next(K=>{const j=g.docVersions.get(V);He(j!==null,48541),K.version.compareTo(j)<0&&(w.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function pA(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function dO(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,w)));let N=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(Ht.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(w,N),function(K,j,H){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=uO?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(A,N,E)&&m.push(n.Ti.updateTargetData(u,N))});let p=nr(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(mO(u,f,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(we.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function mO(i,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=nr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce($p,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function pO(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function gO(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Ur(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function ip(i,e,n){const s=Se(i),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!_o(f))throw f;ce($p,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function nE(i,e,n){const s=Se(i);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Se(p),A=w.Os.get(E);return A!==void 0?J.resolve(w.xs.get(A)):w.Ti.getTargetData(g,E)}(s,f,mi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ve())).next(m=>(yO(s,iD(e),m),{documents:m,$s:u})))}function yO(i,e,n){let s=i.Ns.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class iE{constructor(){this.activeTargetIds=uD()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _O{constructor(){this.xo=new iE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new iE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="ConnectivityMonitor";class sE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(rE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(rE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function rp(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",EO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=rp(),m=this.jo(e,n.toUriEncodedString());ce(Nm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=mo(g);return this.Jo(e,m,p,s,E).then(w=>(ce(Nm,`Received RPC '${e}' ${f}: `,w),w),w=>{throw ro(Nm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=EO[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class AO extends TO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=rp();return new Promise((m,p)=>{const g=new gb;g.setWithCredentials(!0),g.listenOnce(yb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eh.NO_ERROR:const w=g.getResponseJson();ce($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case eh.TIMEOUT:ce($t,`RPC '${e}' ${f} timed out`),p(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const A=g.getStatus();if(ce($t,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const V=N==null?void 0:N.error;if(V&&V.status&&V.message){const K=function(H){const ne=H.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN}(V.status);p(new de(K,V.message))}else p(new de(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce($t,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ce($t,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=rp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Eb(),m=vb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let A=!1,N=!1;const V=new bO({Zo:j=>{N?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ce($t,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Xo:()=>w.close()}),K=(j,H,ne)=>{j.listen(H,re=>{try{ne(re)}catch(ie){setTimeout(()=>{throw ie},0)}})};return K(w,Pl.EventType.OPEN,()=>{N||(ce($t,`RPC '${e}' stream ${o} transport opened.`),V.__())}),K(w,Pl.EventType.CLOSE,()=>{N||(N=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),V.u_())}),K(w,Pl.EventType.ERROR,j=>{N||(N=!0,ro($t,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),V.u_(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),K(w,Pl.EventType.MESSAGE,j=>{var H;if(!N){const ne=j.data[0];He(!!ne,16349);const re=ne,ie=(re==null?void 0:re.error)||((H=re[0])===null||H===void 0?void 0:H.error);if(ie){ce($t,`RPC '${e}' stream ${o} received error:`,ie);const oe=ie.status;let he=function(R){const O=yt[R];if(O!==void 0)return nA(O)}(oe),x=ie.message;he===void 0&&(he=ee.INTERNAL,x="Unknown error status: "+oe+" with message "+ie.message),N=!0,V.u_(new de(he,x)),w.close()}else ce($t,`RPC '${e}' stream ${o} received:`,ne),V.c_(ne)}}),K(m,_b.STAT_EVENT,j=>{j.stat===Gm.PROXY?ce($t,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Gm.NOPROXY&&ce($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i){return new ID(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="PersistentStream";class yA{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new gA(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{e(()=>{const o=new de(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ce(aE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ce(aE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wO extends yA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=xD(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?gi(f.readTime):we.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=np(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Xm(p)?{documents:MD(u,p)}:{query:VD(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=sA(u,f.resumeToken);const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=kD(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.L_(n)}}class SO extends yA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=OD(e.writeResults,e.commitTime),s=gi(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=np(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>DD(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{}class IO extends RO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,ep(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ee.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,ep(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(ee.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class CO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(tr(n),this.oa=!1):ce("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class NO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(f=>{s.enqueueAndForget(async()=>{ta(this)&&(ce(Qs,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.Ta.add(4),await fu(g),g.da.set("Unknown"),g.Ta.delete(4),await ef(g)}(this))})}),this.da=new CO(s,o)}}async function ef(i){if(ta(i))for(const e of i.Ia)await e(!0)}async function fu(i){for(const e of i.Ia)await e(!1)}function _A(i,e){const n=Se(i);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Wp(n)?Xp(n):vo(n).M_()&&Qp(n,e))}function Yp(i,e){const n=Se(i),s=vo(n);n.Pa.delete(e),s.M_()&&vA(n,e),n.Pa.size===0&&(s.M_()?s.N_():ta(n)&&n.da.set("Unknown"))}function Qp(i,e){if(i.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(i).H_(e)}function vA(i,e){i.Aa.Ke(e),vo(i).J_(e)}function Xp(i){i.Aa=new AD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Pa.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),vo(i).start(),i.da._a()}function Wp(i){return ta(i)&&!vo(i).F_()&&i.Pa.size>0}function ta(i){return Se(i).Ta.size===0}function EA(i){i.Aa=void 0}async function xO(i){i.da.set("Online")}async function DO(i){i.Pa.forEach((e,n)=>{Qp(i,e)})}async function OO(i,e){EA(i),Wp(i)?(i.da.ca(e),Xp(i)):i.da.set("Unknown")}async function MO(i,e,n){if(i.da.set("Online"),e instanceof rA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Pa.delete(m),o.Aa.removeTarget(m))}(i,e)}catch(s){ce(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(i,s)}else if(e instanceof rh?i.Aa.Xe(e):e instanceof iA?i.Aa.ot(e):i.Aa.nt(e),!n.isEqual(we.min()))try{const s=await pA(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Aa.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Pa.get(g);E&&u.Pa.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Pa.get(p);if(!E)return;u.Pa.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),vA(u,p);const w=new Ur(E.target,p,g,E.sequenceNumber);Qp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(Qs,"Failed to raise snapshot:",s),await Rh(i,s)}}async function Rh(i,e,n){if(!_o(e))throw e;i.Ta.add(1),await fu(i),i.da.set("Offline"),n||(n=()=>pA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(Qs,"Retrying IndexedDB access"),await n(),i.Ta.delete(1),await ef(i)})}function TA(i,e){return e().catch(n=>Rh(i,n,e))}async function tf(i){const e=Se(i),n=Qr(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:Pp;for(;VO(e);)try{const o=await pO(e.localStore,s);if(o===null){e.ha.length===0&&n.N_();break}s=o.batchId,PO(e,o)}catch(o){await Rh(e,o)}bA(e)&&AA(e)}function VO(i){return ta(i)&&i.ha.length<10}function PO(i,e){i.ha.push(e);const n=Qr(i);n.M_()&&n.Y_&&n.Z_(e.mutations)}function bA(i){return ta(i)&&!Qr(i).F_()&&i.ha.length>0}function AA(i){Qr(i).start()}async function kO(i){Qr(i).ta()}async function LO(i){const e=Qr(i);for(const n of i.ha)e.Z_(n.mutations)}async function UO(i,e,n){const s=i.ha.shift(),o=Bp.from(s,e,n);await TA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await tf(i)}async function jO(i,e){e&&Qr(i).Y_&&await async function(s,o){if(function(f){return TD(f)&&f!==ee.ABORTED}(o.code)){const u=s.ha.shift();Qr(s).O_(),await TA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await tf(s)}}(i,e),bA(i)&&AA(i)}async function oE(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ce(Qs,"RemoteStore received new credentials");const s=ta(n);n.Ta.add(3),await fu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await ef(n)}async function zO(i,e){const n=Se(i);e?(n.Ta.delete(2),await ef(n)):e||(n.Ta.add(2),await fu(n),n.da.set("Unknown"))}function vo(i){return i.Ra||(i.Ra=function(n,s,o){const u=Se(n);return u.ra(),new wO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:xO.bind(null,i),n_:DO.bind(null,i),i_:OO.bind(null,i),j_:MO.bind(null,i)}),i.Ia.push(async e=>{e?(i.Ra.O_(),Wp(i)?Xp(i):i.da.set("Unknown")):(await i.Ra.stop(),EA(i))})),i.Ra}function Qr(i){return i.Va||(i.Va=function(n,s,o){const u=Se(n);return u.ra(),new SO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:kO.bind(null,i),i_:jO.bind(null,i),X_:LO.bind(null,i),ea:UO.bind(null,i)}),i.Ia.push(async e=>{e?(i.Va.O_(),await tf(i)):(await i.Va.stop(),i.ha.length>0&&(ce(Qs,`Stopping write stream with ${i.ha.length} pending writes`),i.ha=[]))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Zp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jp(i,e){if(tr("AsyncQueue",`${e}: ${i}`),_o(i))return new de(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.ma=new rt(ge.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class uo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new uo(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class qO{constructor(){this.queries=uE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=uE(),u.forEach((f,m)=>{for(const p of m.ya)p.onError(s)})})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function uE(){return new ea(i=>Hb(i),Yh)}async function HO(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new BO,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Jp(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ya.push(e),e.Da(n.onlineState),u.pa&&e.va(u.pa)&&eg(n)}async function FO(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ya.indexOf(e);f>=0&&(u.ya.splice(f,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GO(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ya)m.va(o)&&(s=!0);f.pa=o}}s&&eg(n)}function KO(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(e)}function eg(i){i.ba.forEach(e=>{e.next()})}var sp,cE;(cE=sp||(sp={})).Ca="default",cE.Cache="cache";class $O{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.key=e}}class SA{constructor(e){this.key=e}}class YO{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=Fb(e),this.Ja=new no(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new lE,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),N=Qh(this.query,w)?w:null,V=!!A&&this.mutatedKeys.has(A.key),K=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;A&&N?A.data.isEqual(N.data)?V!==K&&(s.track({type:3,doc:N}),j=!0):this.eu(A,N)||(s.track({type:2,doc:N}),j=!0,(p&&this.Ha(N,p)>0||g&&this.Ha(N,g)<0)&&(m=!0)):!A&&N?(s.track({type:0,doc:N}),j=!0):A&&!N&&(s.track({type:1,doc:A}),j=!0,(p||g)&&(m=!0)),j&&(N?(f=f.add(N),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ja:f,Xa:s,Cs:m,mutatedKeys:u}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const f=e.Xa.ga();f.sort((E,w)=>function(N,V){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:j})}};return K(N)-K(V)}(E.type,w.type)||this.Ha(E.doc,w.doc)),this.tu(s),o=o!=null&&o;const m=n&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,g=p!==this.za;return this.za=p,f.length!==0||g?{snapshot:new uo(this.query,e.Ja,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new lE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new SA(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new wA(s))}),n}su(e){this.Ga=e.$s,this.ja=Ve();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return uo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const tg="SyncEngine";class QO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XO{constructor(e){this.key=e,this._u=!1}}class WO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new ea(m=>Hb(m),Yh),this.cu=new Map,this.lu=new Set,this.hu=new rt(ge.comparator),this.Pu=new Map,this.Tu=new Fp,this.Iu={},this.Eu=new Map,this.du=lo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function ZO(i,e,n=!0){const s=DA(i);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await RA(s,e,n,!0),o}async function JO(i,e){const n=DA(i);await RA(n,e,!0,!1)}async function RA(i,e,n,s){const o=await gO(i.localStore,mi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await eM(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&_A(i.remoteStore,o),m}async function eM(i,e,n,s,o){i.Ru=(w,A,N)=>async function(K,j,H,ne){let re=j.view.Za(H);re.Cs&&(re=await nE(K.localStore,j.query,!1).then(({documents:x})=>j.view.Za(x,re)));const ie=ne&&ne.targetChanges.get(j.targetId),oe=ne&&ne.targetMismatches.get(j.targetId)!=null,he=j.view.applyChanges(re,K.isPrimaryClient,ie,oe);return fE(K,j.targetId,he.ru),he.snapshot}(i,w,A,N);const u=await nE(i.localStore,e,!0),f=new YO(e,u.$s),m=f.Za(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);fE(i,n,g.ru);const E=new QO(e,n,f);return i.uu.set(e,E),i.cu.has(n)?i.cu.get(n).push(e):i.cu.set(n,[e]),g.snapshot}async function tM(i,e,n){const s=Se(i),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(f=>!Yh(f,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Yp(s.remoteStore,o.targetId),ap(s,o.targetId)}).catch(yo)):(ap(s,o.targetId),await ip(s.localStore,o.targetId,!0))}async function nM(i,e){const n=Se(i),s=n.uu.get(e),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Yp(n.remoteStore,s.targetId))}async function iM(i,e,n){const s=cM(i);try{const o=await function(f,m){const p=Se(f),g=vt.now(),E=m.reduce((N,V)=>N.add(V.key),Ve());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let V=nr(),K=Ve();return p.Bs.getEntries(N,E).next(j=>{V=j,V.forEach((H,ne)=>{ne.isValidDocument()||(K=K.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,V)).next(j=>{w=j;const H=[];for(const ne of m){const re=gD(ne,w.get(ne.key).overlayedDocument);re!=null&&H.push(new ts(ne.key,re,Vb(re.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,H,m)}).next(j=>{A=j;const H=j.applyToLocalDocumentSet(w,K);return p.documentOverlayCache.saveOverlays(N,j.batchId,H)})}).then(()=>({batchId:A.batchId,changes:Kb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Iu[f.currentUser.toKey()];g||(g=new rt(Ce)),g=g.insert(m,p),f.Iu[f.currentUser.toKey()]=g}(s,o.batchId,n),await du(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Jp(o,"Failed to persist write");n.reject(u)}}async function IA(i,e){const n=Se(i);try{const s=await dO(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Pu.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f._u=!0:o.modifiedDocuments.size>0?He(f._u,14607):o.removedDocuments.size>0&&(He(f._u,42227),f._u=!1))}),await du(n,s,e)}catch(s){await yo(s)}}function hE(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,f)=>{const m=f.view.Da(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const A of w.ya)A.Da(m)&&(g=!0)}),g&&eg(p)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rM(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Pu.get(e),u=o&&o.key;if(u){let f=new rt(ge.comparator);f=f.insert(u,Qt.newNoDocument(u,we.min()));const m=Ve().add(u),p=new Zh(we.min(),new Map,new rt(Ce),f,m);await IA(s,p),s.hu=s.hu.remove(u),s.Pu.delete(e),ng(s)}else await ip(s.localStore,e,!1).then(()=>ap(s,e,n)).catch(yo)}async function sM(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await fO(n.localStore,e);NA(n,s,null),CA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await yo(o)}}async function aM(i,e,n){const s=Se(i);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(He(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);NA(s,e,n),CA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await yo(o)}}function CA(i,e){(i.Eu.get(e)||[]).forEach(n=>{n.resolve()}),i.Eu.delete(e)}function NA(i,e,n){const s=Se(i);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function ap(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.cu.get(e))i.uu.delete(s),n&&i.au.Vu(s,n);i.cu.delete(e),i.isPrimaryClient&&i.Tu.Hr(e).forEach(s=>{i.Tu.containsKey(s)||xA(i,s)})}function xA(i,e){i.lu.delete(e.path.canonicalString());const n=i.hu.get(e);n!==null&&(Yp(i.remoteStore,n),i.hu=i.hu.remove(e),i.Pu.delete(n),ng(i))}function fE(i,e,n){for(const s of n)s instanceof wA?(i.Tu.addReference(s.key,e),oM(i,s)):s instanceof SA?(ce(tg,"Document no longer in limbo: "+s.key),i.Tu.removeReference(s.key,e),i.Tu.containsKey(s.key)||xA(i,s.key)):Te(19791,{mu:s})}function oM(i,e){const n=e.key,s=n.path.canonicalString();i.hu.get(n)||i.lu.has(s)||(ce(tg,"New document in limbo: "+n),i.lu.add(s),ng(i))}function ng(i){for(;i.lu.size>0&&i.hu.size<i.maxConcurrentLimboResolutions;){const e=i.lu.values().next().value;i.lu.delete(e);const n=new ge(et.fromString(e)),s=i.du.next();i.Pu.set(s,new XO(n)),i.hu=i.hu.insert(n,s),_A(i.remoteStore,new Ur(mi(Bb(n.path)),s,"TargetPurposeLimboResolution",Gh.le))}}async function du(i,e,n){const s=Se(i),o=[],u=[],f=[];s.uu.isEmpty()||(s.uu.forEach((m,p)=>{f.push(s.Ru(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Kp.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.au.j_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(g,A=>J.forEach(A.ds,N=>E.persistence.referenceDelegate.addReference(w,A.targetId,N)).next(()=>J.forEach(A.As,N=>E.persistence.referenceDelegate.removeReference(w,A.targetId,N)))))}catch(w){if(!_o(w))throw w;ce($p,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const N=E.xs.get(A),V=N.snapshotVersion,K=N.withLastLimboFreeSnapshotVersion(V);E.xs=E.xs.insert(A,K)}}}(s.localStore,u))}async function lM(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ce(tg,"User change. New user:",e.toKey());const s=await mA(n.localStore,e);n.currentUser=e,function(u,f){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new de(ee.CANCELLED,f))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.ks)}}function uM(i,e){const n=Se(i),s=n.Pu.get(e);if(s&&s._u)return Ve().add(s.key);{let o=Ve();const u=n.cu.get(e);if(!u)return o;for(const f of u){const m=n.uu.get(f);o=o.unionWith(m.view.Ya)}return o}}function DA(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=IA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rM.bind(null,e),e.au.j_=GO.bind(null,e.eventManager),e.au.Vu=KO.bind(null,e.eventManager),e}function cM(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aM.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return hO(this.persistence,new lO,e.initialUser,this.serializer)}yu(e){return new dA(Gp.fi,this.serializer)}pu(e){return new _O}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class hM extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){He(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $D(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new dA(s=>Sh.fi(s,n),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lM.bind(null,this.syncEngine),await zO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qO}()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=function(u){return new AO(u)}(e.databaseInfo);return function(u,f,m,p){return new IO(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new NO(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>hE(this.syncEngine,n,0),function(){return sE.C()?new sE:new vO}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new WO(o,u,f,m,p,g);return E&&(w.Au=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);ce(Qs,"RemoteStore shutting down."),u.Ta.add(5),await fu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class dM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=wb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(Xr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(Xr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Jp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Dm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Xr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await mA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function dE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await mM(i);ce(Xr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>oE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>oE(e.remoteStore,o)),i._onlineComponents=e}async function mM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Xr,"Using user provided OfflineComponentProvider");try{await Dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await Dm(i,new Ih)}}else ce(Xr,"Using default OfflineComponentProvider"),await Dm(i,new hM(void 0));return i._offlineComponents}async function OA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Xr,"Using user provided OnlineComponentProvider"),await dE(i,i._uninitializedComponentsProvider._online)):(ce(Xr,"Using default OnlineComponentProvider"),await dE(i,new op))),i._onlineComponents}function pM(i){return OA(i).then(e=>e.syncEngine)}async function gM(i){const e=await OA(i),n=e.eventManager;return n.onListen=ZO.bind(null,e.syncEngine),n.onUnlisten=tM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nM.bind(null,e.syncEngine),n}function yM(i,e,n={}){const s=new qr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new fM({next:A=>{E.Cu(),f.enqueueAndForget(()=>FO(u,w)),A.fromCache&&p.source==="server"?g.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new $O(m,E,{includeMetadataChanges:!0,La:!0});return HO(u,w)}(await gM(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(i,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function _M(i,e,n,s){if(e===!0&&s===!0)throw new de(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function pE(i){if(!ge.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gE(i){if(ge.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function co(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(i);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firestore.googleapis.com",yE=!0;class _E{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PA,this.ssl=yE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GD)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_M("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bx;switch(s.type){case"firstParty":return new Rx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=mE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),mE.delete(n),s.terminate())}(this),Promise.resolve()}}function vM(i,e,n,s={}){var o;i=co(i,rf);const u=mo(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(yp(`https://${p}`),_p("Firestore",!0)),f.host!==PA&&f.host!==p&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Fr(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Yt.MOCK_USER;else{E=iT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Yt(A)}i._authCredentials=new Ax(new bb(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class Tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Hr extends Eo{constructor(e,n,s){super(e,n,Bb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ge(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function lp(i,e,...n){if(i=Et(i),VA("collection","path",e),i instanceof rf){const s=et.fromString(e,...n);return gE(s),new Hr(i,null,s)}{if(!(i instanceof Tn||i instanceof Hr))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return gE(s),new Hr(i.firestore,null,s)}}function kA(i,e,...n){if(i=Et(i),arguments.length===1&&(e=wb.newId()),VA("doc","path",e),i instanceof rf){const s=et.fromString(e,...n);return pE(s),new Tn(i,null,new ge(s))}{if(!(i instanceof Tn||i instanceof Hr))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return pE(s),new Tn(i.firestore,i instanceof Hr?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="AsyncQueue";class EE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new gA(this,"async_queue_retry"),this.ec=()=>{const s=xm();s&&ce(vE,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new qr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!_o(e))throw e;ce(vE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,tr("INTERNAL UNHANDLED ERROR: ",TE(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=Zp.createAndSchedule(this,e,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&Te(47125,{_c:TE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function TE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class sf extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new EE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EE(e),this._firestoreClient=void 0,await e}}}function EM(i,e){const n=typeof i=="object"?i:jh(),s=typeof i=="string"?i:_h,o=Wr(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=eT("firestore");u&&vM(o,...u)}return o}function LA(i){if(i._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||TM(i),i._firestoreClient}function TM(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new Bx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,MA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new dM(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Ht.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=/^__.*__$/;class AM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class UA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{hc:i})}}class ag{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ch(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(jA(this.hc)&&bM.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class wM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}gc(e,n,s,o=!1){return new ag({hc:e,methodName:n,fc:s,path:qt.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function og(i){const e=i._freezeSettings(),n=Jh(i._databaseId);return new wM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function SM(i,e,n,s,o,u={}){const f=i.gc(u.merge||u.mergeFields?2:0,e,n,o);lg("Data must be an object, but it was:",f,s);const m=zA(s,f);let p,g;if(u.merge)p=new vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=up(e,w,n);if(!f.contains(A))throw new de(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);qA(E,A)||E.push(A)}p=new vn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new AM(new an(m),p,g)}class of extends ig{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function RM(i,e,n,s){const o=i.gc(1,e,n);lg("Data must be an object, but it was:",o,s);const u=[],f=an.empty();es(s,(p,g)=>{const E=ug(e,p,n);g=Et(g);const w=o.Ac(E);if(g instanceof of)u.push(E);else{const A=mu(g,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new vn(u);return new UA(f,m,o.fieldTransforms)}function IM(i,e,n,s,o,u){const f=i.gc(1,e,n),m=[up(e,s,n)],p=[o];if(u.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(up(e,u[A])),p.push(u[A+1]);const g=[],E=an.empty();for(let A=m.length-1;A>=0;--A)if(!qA(g,m[A])){const N=m[A];let V=p[A];V=Et(V);const K=f.Ac(N);if(V instanceof of)g.push(N);else{const j=mu(V,K);j!=null&&(g.push(N),E.set(N,j))}}const w=new vn(g);return new UA(E,w,f.fieldTransforms)}function CM(i,e,n,s=!1){return mu(n,i.gc(s?4:3,e))}function mu(i,e){if(BA(i=Et(i)))return lg("Unsupported field value:",e,i),zA(i,e);if(i instanceof ig)return function(s,o){if(!jA(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=mu(m,o.Rc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=vt.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof vt){const u=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof rg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ho)return{bytesValue:sA(o.serializer,s._byteString)};if(s instanceof Tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sg)return function(f,m){return{mapValue:{fields:{[Ob]:{stringValue:Mb},[vh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Vc("VectorValues must only contain numeric values.");return zp(m.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${nf(s)}`)}(i,e)}function zA(i,e){const n={};return Rb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(i,(s,o)=>{const u=mu(o,e.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function BA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof vt||i instanceof rg||i instanceof ho||i instanceof Tn||i instanceof ig||i instanceof sg)}function lg(i,e,n){if(!BA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=nf(n);throw s==="an object"?e.Vc(i+" a custom object"):e.Vc(i+" "+s)}}function up(i,e,n){if((e=Et(e))instanceof af)return e._internalPath;if(typeof e=="string")return ug(i,e);throw Ch("Field path arguments must be of type string or ",i,!1,void 0,n)}const NM=new RegExp("[~\\*/\\[\\]]");function ug(i,e,n){if(e.search(NM)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new af(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ch(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(ee.INVALID_ARGUMENT,m+i+p)}function qA(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xM extends HA{data(){return super.data()}}function cg(i,e){return typeof e=="string"?ug(i,e):e instanceof af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class OM extends hg{}function MM(i,e,...n){let s=[];e instanceof hg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof fg).length,m=u.filter(p=>p instanceof lf).length;if(f>1||f>0&&m>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class lf extends OM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lf(e,n,s)}_apply(e){const n=this._parse(e);return FA(e._query,n),new Eo(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=og(e.firestore);return function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){AE(w,E);const V=[];for(const K of w)V.push(bE(p,u,K));A={arrayValue:{values:V}}}else A=bE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||AE(w,E),A=CM(m,f,w,E==="in"||E==="not-in");return _t.create(g,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VM(i,e,n){const s=e,o=cg("where",i);return lf._create(o,s,n)}class fg extends hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)FA(f,p),f=Wm(f,p)}(e._query,n),new Eo(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bE(i,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qb(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!ge.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return L0(i,new ge(s))}if(n instanceof Tn)return L0(i,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function AE(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FA(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PM{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ft(f.doubleValue));return new sg(u)}convertGeoPoint(e){return new rg(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=$h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(hA(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LM extends HA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(cg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class sh extends LM{data(e={}){return super.data(e)}}class UM{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new Kc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:jM(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}class zM extends PM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function GA(i){i=co(i,Eo);const e=co(i.firestore,sf),n=LA(e),s=new zM(e);return DM(i._query),yM(n,i._query).then(o=>new UM(e,s,i,o))}function BM(i,e,n,...s){i=co(i,Tn);const o=co(i.firestore,sf),u=og(o);let f;return f=typeof(e=Et(e))=="string"||e instanceof af?IM(u,"updateDoc",i._key,e,n,s):RM(u,"updateDoc",i._key,e),KA(o,[f.toMutation(i._key,pi.exists(!0))])}function qM(i,e){const n=co(i.firestore,sf),s=kA(i),o=kM(i.converter,e);return KA(n,[SM(og(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,pi.exists(!1))]).then(()=>s)}function KA(i,e){return function(s,o){const u=new qr;return s.asyncQueue.enqueueAndForget(async()=>iM(await pM(s),o,u)),u.promise}(LA(i),e)}(function(e,n=!0){(function(o){go=o})(Zs),Gn(new Pn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new sf(new wx(s.getProvider("auth-internal")),new Ix(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),on(S0,R0,e),on(S0,R0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebasestorage.googleapis.com",HM="storageBucket",FM=2*60*1e3,GM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends kn{constructor(e,n,s=0){super(Om(e),`Firebase Storage: ${n} (${Om(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ti.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vi||(vi={}));function Om(i){return"storage/"+i}function KM(){const i="An unknown error occurred, please check the error payload for server response.";return new Ti(vi.UNKNOWN,i)}function $M(){return new Ti(vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YM(){return new Ti(vi.CANCELED,"User canceled the upload/download.")}function QM(i){return new Ti(vi.INVALID_URL,"Invalid URL '"+i+"'.")}function XM(i){return new Ti(vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function wE(i){return new Ti(vi.INVALID_ARGUMENT,i)}function YA(){return new Ti(vi.APP_DELETED,"The Firebase app was deleted.")}function WM(i){return new Ti(vi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(s.path==="")return s;throw XM(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",N=new RegExp(`^https?://${w}/${E}/b/${o}/o${A}`,"i"),V={bucket:1,path:3},K=n===$A?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",H=new RegExp(`^https?://${K}/${o}/${j}`,"i"),re=[{regex:m,indices:p,postModify:u},{regex:N,indices:V,postModify:g},{regex:H,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<re.length;ie++){const oe=re[ie],he=oe.regex.exec(e);if(he){const x=he[oe.indices.bucket];let S=he[oe.indices.path];S||(S=""),s=new Fn(x,S),oe.postModify(s);break}}if(s==null)throw QM(e);return s}}class ZM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...j){g||(g=!0,e.apply(null,j))}function w(j){o=setTimeout(()=>{o=null,i(N,p())},j)}function A(){u&&clearTimeout(u)}function N(j,...H){if(g){A();return}if(j){A(),E.call(null,j,...H);return}if(p()||f){A(),E.call(null,j,...H);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,w(re)}let V=!1;function K(j){V||(V=!0,A(),!g&&(o!==null?(j||(m=2),clearTimeout(o),w(0)):j||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,K(!0)},n),K}function e4(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(i){return i!==void 0}function SE(i,e,n,s){if(s<e)throw wE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw wE(`Invalid value for '${i}'. Expected ${n} or less.`)}function n4(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Nh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Nh||(Nh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,s,o,u,f,m,p,g,E,w,A=!0,N=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,K)=>{this.resolve_=V,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new $c(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Nh.NO_ERROR,p=u.getStatus();if(!m||i4(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Nh.ABORT;s(!1,new $c(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new $c(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());t4(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=KM();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?YA():YM();f(p)}else{const p=$M();f(p)}};this.canceled_?n(!1,new $c(!1,null,!0)):this.backoffId_=JM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $c{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function s4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function a4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function l4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function u4(i,e,n,s,o,u,f=!0,m=!1){const p=n4(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return o4(E,e),s4(E,n),a4(E,u),l4(E,s),new r4(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function h4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xh(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h4(this._location.path)}get storage(){return this._service}get parent(){const e=c4(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new xh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WM(e)}}function RE(i,e){const n=e==null?void 0:e[HM];return n==null?null:Fn.makeFromBucketSpec(n,i)}function f4(i,e,n,s={}){i.host=`${e}:${n}`;const o=mo(e);o&&(yp(`https://${i.host}`),_p("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:iT(u,i.app.options.projectId))}class d4{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=$A,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FM,this._maxUploadRetryTime=GM,this._requests=new Set,o!=null?this._bucket=Fn.makeFromBucketSpec(o,this._host):this._bucket=RE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=RE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new ZM(YA());{const f=u4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const IE="@firebase/storage",CE="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="storage";function m4(i=jh(),e){i=Et(i);const s=Wr(i,QA).getImmediate({identifier:e}),o=eT("storage");return o&&p4(s,...o),s}function p4(i,e,n,s={}){f4(i,e,n,s)}function g4(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new d4(n,s,o,e,Zs)}function y4(){Gn(new Pn(QA,g4,"PUBLIC").setMultipleInstances(!0)),on(IE,CE,""),on(IE,CE,"esm2017")}y4();const _4={apiKey:"AIzaSyBDiNfZbbFCuX_VBvRXmjyVkMTuUxSyR1A",authDomain:"grading-system-project-cb8ac.firebaseapp.com",projectId:"grading-system-project-cb8ac",storageBucket:"grading-system-project-cb8ac.firebasestorage.app",messagingSenderId:"469921719876",appId:"1:469921719876:web:a11b9209cba63ebe407e11",measurementId:"G-SNNEVMLKJR"},uf=cT(_4);r2(uf);const io=Ex(uf),Dh=EM(uf);m4(uf);const v4=({setUser:i})=>{const[e,n]=Y.useState("student"),[s,o]=Y.useState(""),[u,f]=Y.useState(""),[m,p]=Y.useState(""),[g,E]=Y.useState(""),w=async()=>{if(!u||!m||!s){E("Name, email, and password are required");return}try{const N=await aN(io,u,m);localStorage.setItem("userRole",e),localStorage.setItem("userName",s),i({name:s,role:e,email:N.user.email})}catch(N){E("Login failed: "+N.message)}},A=async()=>{if(!u||!m||!s){E("Name, email, and password are required");return}try{const N=await sN(io,u,m);localStorage.setItem("userRole",e),localStorage.setItem("userName",s),i({name:s,role:e,email:N.user.email})}catch(N){E("Signup failed: "+N.message)}};return k.jsxs("div",{className:"max-w-md mx-auto mt-20 p-8 bg-white rounded-lg shadow-md border border-gray-200",children:[k.jsx("h2",{className:"text-3xl font-extrabold text-center mb-6 text-indigo-700",children:"Welcome Back"}),g&&k.jsx("div",{className:"mb-4 text-red-600",children:g}),k.jsx("label",{className:"block mb-2 font-semibold text-gray-700",htmlFor:"name",children:"Enter Your Name"}),k.jsx("input",{id:"name",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-5",placeholder:"Your Name",value:s,onChange:N=>o(N.target.value),autoComplete:"off"}),k.jsx("label",{className:"block mb-2 font-semibold text-gray-700",htmlFor:"email",children:"Email"}),k.jsx("input",{id:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-5",placeholder:"Email",value:u,onChange:N=>f(N.target.value),autoComplete:"off"}),k.jsx("label",{className:"block mb-2 font-semibold text-gray-700",htmlFor:"password",children:"Password"}),k.jsx("input",{id:"password",type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-5",placeholder:"Password",value:m,onChange:N=>p(N.target.value),autoComplete:"off"}),k.jsx("label",{className:"block mb-2 font-semibold text-gray-700",htmlFor:"role",children:"Select Role"}),k.jsxs("select",{id:"role",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-7",value:e,onChange:N=>n(N.target.value),children:[k.jsx("option",{value:"student",children:"Student"}),k.jsx("option",{value:"teacher",children:"Teacher"})]}),k.jsx("button",{onClick:w,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-md transition duration-300 mb-2",children:"Login"}),k.jsx("button",{onClick:A,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 rounded-md transition duration-300",children:"Sign Up"})]})};var XA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NE=Hs.createContext&&Hs.createContext(XA),E4=["attr","size","title"];function T4(i,e){if(i==null)return{};var n=b4(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function b4(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Oh(){return Oh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Oh.apply(this,arguments)}function xE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Mh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(n),!0).forEach(function(s){A4(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function A4(i,e,n){return e=w4(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function w4(i){var e=S4(i,"string");return typeof e=="symbol"?e:e+""}function S4(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function WA(i){return i&&i.map((e,n)=>Hs.createElement(e.tag,Mh({key:n},e.attr),WA(e.child)))}function ns(i){return e=>Hs.createElement(R4,Oh({attr:Mh({},i.attr)},e),WA(i.child))}function R4(i){var e=n=>{var{attr:s,size:o,title:u}=i,f=T4(i,E4),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),Hs.createElement("svg",Oh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Mh(Mh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Hs.createElement("title",null,u),i.children)};return NE!==void 0?Hs.createElement(NE.Consumer,null,n=>e(n)):e(XA)}function ZA(i){return ns({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(i)}function I4(i){return ns({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(i)}function DE(i){return ns({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(i)}function cp(i){return ns({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(i)}function JA(i){return ns({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(i)}function C4(i){return ns({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(i)}function OE(i){return ns({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(i)}function Mm(i){return ns({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(i)}const N4=({user:i,assignmentGrades:e,grades:n,logout:s})=>{const[o,u]=Y.useState([]),[f,m]=Y.useState(!1),[p,g]=Y.useState(!1),[E,w]=Y.useState([]);Y.useEffect(()=>{(async()=>{if(!(i!=null&&i.email))return;const H=MM(lp(Dh,"assignments"),VM("studentEmail","==",i.email)),ne=await GA(H);w(ne.docs.map(re=>({id:re.id,...re.data()})))})()},[i,p]);const A=j=>{const H=Array.from(j.target.files).map(ne=>({fileName:ne.name,fileSize:(ne.size/1024).toFixed(2)+" KB",fileType:ne.type.split("/")[1]||ne.name.split(".").pop(),fileContent:ne}));u(H),g(!1)},N=async()=>{if(o.length===0){alert("Please upload at least one file.");return}m(!0);const j=o.map(H=>({fileName:H.fileName,fileSize:H.fileSize,fileType:H.fileType}));try{await qM(lp(Dh,"assignments"),{student:i.name,studentEmail:i.email,studentId:io.currentUser.uid,files:j,timestamp:vt.now(),grade:"",subjectGrades:{}}),u([]),g(!0),setTimeout(()=>g(!1),3e3)}catch{alert("Error submitting assignment.")}m(!1)},K=(()=>{if(!n[i.name])return null;const j=Object.values(n[i.name]).filter(H=>typeof H=="number");return j.length===0?null:(j.reduce((H,ne)=>H+ne,0)/j.length).toFixed(1)})();return k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:k.jsxs("div",{className:"max-w-4xl mx-auto",children:[k.jsxs("div",{className:"flex justify-between items-center mb-8",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"text-3xl font-bold text-indigo-800",children:"Student Portal"}),k.jsxs("p",{className:"text-indigo-600",children:["Welcome back, ",k.jsx("span",{className:"font-semibold",children:i.name})]})]}),k.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg transition-all duration-200",children:[k.jsx(JA,{})," Logout"]})]}),k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[k.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md overflow-hidden",children:k.jsxs("div",{className:"p-6",children:[k.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[k.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:k.jsx(OE,{className:"text-indigo-600 text-xl"})}),k.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Submit Assignment"})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload your files"}),k.jsx("div",{className:"flex items-center justify-center w-full",children:k.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-all duration-200",children:[k.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[k.jsx(OE,{className:"text-gray-500 text-2xl mb-2"}),k.jsxs("p",{className:"text-sm text-gray-500",children:[k.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),k.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOCX, PPTX (MAX. 10MB)"})]}),k.jsx("input",{type:"file",multiple:!0,onChange:A,className:"hidden"})]})})]}),o.length>0&&k.jsxs("div",{className:"mb-6",children:[k.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected files:"}),k.jsx("div",{className:"space-y-2",children:o.map((j,H)=>k.jsx("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx(cp,{className:"text-indigo-500"}),k.jsxs("div",{children:[k.jsx("p",{className:"text-sm font-medium",children:j.fileName}),k.jsxs("p",{className:"text-xs text-gray-500",children:[j.fileSize," • ",j.fileType.toUpperCase()]})]})]})},H))})]}),k.jsx("button",{onClick:N,disabled:o.length===0||f,className:`w-full flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-medium transition-all duration-200 ${o.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:f?k.jsxs(k.Fragment,{children:[k.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):k.jsxs(k.Fragment,{children:[k.jsx(DE,{})," Submit Assignment"]})}),p&&k.jsxs("div",{className:"mt-4 p-3 bg-green-100 text-green-700 rounded-lg text-sm flex items-center gap-2 animate-fade-in",children:[k.jsx(DE,{className:"text-green-600"}),"Assignment submitted successfully!"]}),k.jsxs("div",{className:"mt-8",children:[k.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Your Submitted Assignments"}),E.length===0?k.jsx("p",{className:"text-gray-500",children:"No assignments submitted yet."}):k.jsx("ul",{className:"space-y-3",children:E.map(j=>{var H,ne;return k.jsxs("li",{className:"bg-gray-50 p-3 rounded-lg flex flex-col gap-1",children:[k.jsx("span",{className:"font-medium",children:(H=j.files)==null?void 0:H.map(re=>re.fileName).join(", ")}),k.jsxs("span",{className:"text-xs text-gray-500",children:["Submitted: ",(ne=j.timestamp)!=null&&ne.toDate?j.timestamp.toDate().toLocaleString():""]}),k.jsxs("span",{className:"text-xs text-blue-700",children:["Grade: ",j.grade||"Not graded"]})]},j.id)})})]})]})}),k.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:k.jsxs("div",{className:"p-6",children:[k.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[k.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:k.jsx(ZA,{className:"text-purple-600 text-xl"})}),k.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Your Grades"})]}),K&&k.jsxs("div",{className:"mb-6",children:[k.jsxs("div",{className:"flex items-end justify-between mb-2",children:[k.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Overall Average"}),k.jsx("span",{className:"text-xs text-gray-500",children:"Out of 100"})]}),k.jsxs("div",{className:"relative pt-1",children:[k.jsx("div",{className:"flex items-center justify-between",children:k.jsx("div",{children:k.jsx("span",{className:"text-2xl font-bold text-purple-600",children:K})})}),k.jsx("div",{className:"overflow-hidden h-2 mt-2 text-xs flex rounded bg-purple-200",children:k.jsx("div",{style:{width:`${K}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-purple-600"})})]})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Subject Grades"}),n[i.name]?k.jsx("div",{className:"space-y-3",children:Object.entries(n[i.name]).map(([j,H])=>k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("span",{className:"text-sm font-medium text-gray-700",children:j}),k.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${typeof H=="number"?H>=70?"bg-green-100 text-green-800":H>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:H||"Pending"})]},j))}):k.jsx("p",{className:"text-sm text-gray-500",children:"No grades available yet"})]}),k.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[k.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assignment Grade"}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Latest Submission"}),k.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${e[i.name]?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:e[i.name]||"Not graded"})]})]})]})})]})]})})},x4=({setGrades:i,grades:e,assignmentGrades:n,setAssignmentGrades:s,logout:o})=>{const[u,f]=Y.useState([]),[m,p]=Y.useState({}),[g,E]=Y.useState({}),[w,A]=Y.useState("grading"),[N,V]=Y.useState(""),K=["OS","WEB","CN","OOP","ML"];Y.useEffect(()=>{(async()=>{const oe=lp(Dh,"assignments"),he=await GA(oe);f(he.docs.map(x=>({id:x.id,...x.data()})))})()},[]);const j=(ie,oe,he)=>{p(x=>({...x,[ie]:{...x[ie]||{},[oe]:he}}))},H=(ie,oe)=>{E(he=>({...he,[ie]:oe}))},ne=async ie=>{m[ie]&&i(he=>({...he,[ie]:m[ie]})),g[ie]&&s(he=>({...he,[ie]:g[ie]}));const oe=u.find(he=>he.student===ie);if(oe)try{const he=kA(Dh,"assignments",oe.id);await BM(he,{grade:g[ie]||"",subjectGrades:m[ie]||{}})}catch(he){console.error("Error saving grades:",he)}},re=u.filter(ie=>{var oe;return(oe=ie.student)==null?void 0:oe.toLowerCase().includes(N.toLowerCase())});return k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:k.jsxs("div",{className:"max-w-6xl mx-auto",children:[k.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[k.jsxs("div",{children:[k.jsxs("h1",{className:"text-3xl font-bold text-indigo-800 flex items-center gap-2",children:[k.jsx(I4,{className:"text-indigo-600"})," Teacher Portal"]}),k.jsx("p",{className:"text-indigo-600",children:"Manage student submissions and grades"})]}),k.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg transition-all duration-200",children:[k.jsx(JA,{})," Logout"]})]}),k.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[k.jsx("div",{className:"border-b border-gray-200",children:k.jsxs("nav",{className:"flex -mb-px",children:[k.jsxs("button",{onClick:()=>A("grading"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm flex items-center gap-2 ${w==="grading"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[k.jsx(ZA,{})," Grading"]}),k.jsxs("button",{onClick:()=>A("students"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm flex items-center gap-2 ${w==="students"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[k.jsx(Mm,{})," Students"]})]})}),k.jsx("div",{className:"p-4 border-b border-gray-200",children:k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:k.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),k.jsx("input",{type:"text",placeholder:"Search students...",value:N,onChange:ie=>V(ie.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),k.jsxs("div",{className:"p-6",children:[w==="grading"&&k.jsx(k.Fragment,{children:re.length===0?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"mx-auto h-24 w-24 text-gray-400",children:k.jsx(cp,{className:"w-full h-full"})}),k.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No assignments submitted"}),k.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Students haven't submitted any assignments yet."})]}):k.jsx("div",{className:"space-y-6",children:re.map((ie,oe)=>{var he,x;return k.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow duration-200",children:[k.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"bg-indigo-100 p-2 rounded-full",children:k.jsx(Mm,{className:"text-indigo-600"})}),k.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:ie.student})]}),k.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Submitted on ",(he=ie.timestamp)!=null&&he.toDate?ie.timestamp.toDate().toLocaleString():""]})]}),k.jsxs("button",{onClick:()=>ne(ie.student),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-all duration-200",children:[k.jsx(C4,{})," Save Grades"]})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Submitted Files"}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(x=ie.files)==null?void 0:x.map((S,R)=>k.jsxs("a",{href:S.fileContent,download:S.fileName,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[k.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:k.jsx(cp,{className:"text-blue-600"})}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:S.fileName}),k.jsx("p",{className:"text-xs text-gray-500",children:S.fileSize})]})]},R))})]}),k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[k.jsxs("div",{children:[k.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Subject Grades"}),k.jsx("div",{className:"space-y-3",children:K.map(S=>{var R,O;return k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("label",{className:"text-sm font-medium text-gray-700 w-24",children:S}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("input",{type:"text",placeholder:"Grade",value:((R=m[ie.student])==null?void 0:R[S])||"",onChange:P=>j(ie.student,S,P.target.value),className:"border border-gray-300 rounded-md px-3 py-1 w-20 text-sm focus:ring-indigo-500 focus:border-indigo-500"}),k.jsx("span",{className:"text-xs text-gray-500 w-10",children:((O=e[ie.student])==null?void 0:O[S])||"N/A"})]})]},S)})})]}),k.jsxs("div",{children:[k.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Assignment Grade"}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Overall Grade"}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("input",{type:"text",placeholder:"A / B+ / C-",value:g[ie.student]||"",onChange:S=>H(ie.student,S.target.value),className:"border border-gray-300 rounded-md px-3 py-1 w-20 text-sm focus:ring-indigo-500 focus:border-indigo-500"}),k.jsx("span",{className:"text-xs text-gray-500 w-10",children:n[ie.student]||"N/A"})]})]}),k.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"flex-shrink-0",children:k.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:k.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),k.jsx("div",{className:"ml-3",children:k.jsx("p",{className:"text-sm text-yellow-700",children:"Remember to save grades after making changes."})})]})})]})]})]})]},oe)})})}),w==="students"&&k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"mx-auto h-24 w-24 text-gray-400",children:k.jsx(Mm,{className:"w-full h-full"})}),k.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Student Management"}),k.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Student management features coming soon."})]})]})]})]})})},D4=()=>{const[i,e]=Y.useState(null),[n,s]=Y.useState({}),[o,u]=Y.useState([]),[f,m]=Y.useState({});Y.useEffect(()=>{const g=uN(io,E=>{if(E){const w=localStorage.getItem("userRole"),A=localStorage.getItem("userName");if(!w||!A){e(null),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),io.signOut();return}e({email:E.email,role:w,name:A})}else e(null)});return()=>g()},[]);const p=()=>{e(null),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),io.signOut()};return k.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-start bg-gradient-to-br from-indigo-100 via-purple-100 to-pink-100 p-6",children:[k.jsx("h1",{className:"text-3xl font-bold text-center mb-6 text-gray-800 drop-shadow-sm",children:k.jsx("span",{className:"inline-block px-6 py-2 border-2 border-indigo-600 rounded-lg bg-white shadow-md",children:"📚 Grading System"})}),k.jsxs("div",{className:"w-full max-w-3xl",children:[!i&&k.jsx(v4,{setUser:e}),(i==null?void 0:i.role)==="student"&&k.jsx(N4,{user:i,grades:n,assignments:o,setAssignments:u,assignmentGrades:f,logout:p}),(i==null?void 0:i.role)==="teacher"&&k.jsx(x4,{assignments:o,setGrades:s,grades:n,assignmentGrades:f,setAssignmentGrades:m,logout:p})]})]})},O4=VS.createRoot(document.getElementById("root"));O4.render(k.jsx(Q1,{children:k.jsx(D4,{})}));
